{"version":3,"file":"js-dos.js","sources":["../node_modules/preact/dist/preact.module.js","../node_modules/preact/hooks/dist/hooks.module.js","../node_modules/preact/compat/dist/compat.module.js","../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.min.js","../node_modules/use-sync-external-store/shim/index.js","../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.min.js","../node_modules/use-sync-external-store/shim/with-selector.js","../node_modules/react-redux/es/utils/batch.js","../node_modules/react-redux/es/components/Context.js","../node_modules/react-redux/es/hooks/useReduxContext.js","../node_modules/react-redux/es/hooks/useSelector.js","../node_modules/react-redux/es/utils/useSyncExternalStore.js","../node_modules/react-is/cjs/react-is.production.min.js","../node_modules/react-is/index.js","../node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js","../node_modules/react-redux/node_modules/react-is/cjs/react-is.production.min.js","../node_modules/react-redux/es/utils/Subscription.js","../node_modules/react-redux/es/utils/useIsomorphicLayoutEffect.js","../node_modules/react-redux/es/components/Provider.js","../node_modules/react-redux/es/hooks/useStore.js","../node_modules/react-redux/es/hooks/useDispatch.js","../node_modules/immer/dist/immer.esm.mjs","../node_modules/react-redux/es/index.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/redux/es/redux.js","../node_modules/redux-thunk/es/index.js","../node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js","../src/i18n.ts","../src/frame/editor/defaults.ts","../src/store/editor.ts","../src/host/lstorage.ts","../src/store/ui.ts","../src/v8/config.ts","../src/store/auth.ts","../src/store/storage.ts","../src/host/lcache.ts","../src/store/init.ts","../src/store.ts","../src/store/dos.ts","../src/v8/changes.ts","../src/player-api.ts","../src/player-api-load.ts","../src/host/bundle-storage.ts","../node_modules/preact/jsx-runtime/dist/jsxRuntime.module.js","../src/frame/editor/editor-conf-frame.tsx","../node_modules/react-checkbox-tree/lib/index.browser.js","../src/download-file.ts","../src/frame/editor/editor-fs-frame.tsx","../src/components/select.tsx","../src/components/dos-option-select.tsx","../src/components/lock.tsx","../src/frame/fat-drives-frame.tsx","../src/components/checkbox.tsx","../src/frame/network-frame.tsx","../src/components/dos-option-checkbox.tsx","../src/components/slider.tsx","../src/components/dos-option-slider.tsx","../src/frame/settings-frame.tsx","../src/frame/stats-frame.tsx","../src/window/prerun-window.tsx","../src/frame/prerun-frame.tsx","../src/frame/frame.tsx","../src/host/fullscreen.ts","../src/sidebar/fullscreen-button.tsx","../src/sidebar/network-button.tsx","../src/sidebar/sidebar-button.tsx","../src/sidebar/diskette-icon.tsx","../src/sidebar/save-buttons.tsx","../src/sidebar/sidebar.tsx","../src/window/dos/controls/keys.ts","../src/window/dos/render/resize.ts","../src/window/dos/render/webgl.ts","../src/window/dos/render/canvas.ts","../src/window/dos/sound/audio-node.ts","../src/window/dos/controls/mouse/pointer.ts","../src/window/dos/controls/mouse/mount.ts","../src/window/dos/controls/mouse/mouse-not-locked.ts","../src/window/dos/controls/mouse/mouse-swipe.ts","../src/window/dos/controls/mouse.ts","../src/window/dos/controls/mouse/mouse-locked.ts","../src/layers/dom/helpers.ts","../src/layers/dom/layers.ts","../src/layers/controls/layers-config.ts","../src/layers/controls/button.ts","../src/layers/controls/mouse/mouse-swipe.ts","../src/layers/controls/mouse/mouse-not-locked.ts","../src/layers/controls/mouse/mouse-common.ts","../src/layers/controls/mouse/mouse-locked.ts","../node_modules/nipplejs/src/utils.js","../node_modules/nipplejs/src/super.js","../node_modules/nipplejs/src/nipple.js","../node_modules/nipplejs/src/collection.js","../node_modules/nipplejs/src/manager.js","../node_modules/nipplejs/src/index.js","../src/layers/controls/options.ts","../src/layers/controls/keyboard.ts","../src/layers/controls/legacy-layers-control.ts","../src/layers/controls/nipple.ts","../src/layers/controls/grid.ts","../src/layers/controls/layers-control.ts","../src/window/dos/dos-runtime.tsx","../src/window/dos/controls/keyboard.ts","../src/window/dos/dos-dhry2.tsx","../src/sockdrive/js/src/sockdrive/decode.ts","../src/sockdrive/js/src/sockdrive/drive.ts","../src/sockdrive/js/src/sockdrive/lru.ts","../src/sockdrive/js/src/sockdrive/cache.ts","../src/ws/ws-transport-layer.ts","../src/ws/ws-sockdrive.ts","../src/window/soft-keyboard.tsx","../src/window/dos/dos-window.tsx","../src/components/error.tsx","../src/window/error-window.tsx","../src/components/loading.tsx","../src/window/loading-window.tsx","../src/window/select-window.tsx","../src/window/window.tsx","../src/ui.tsx","../src/main.tsx"],"sourcesContent":["var n,l,u,t,i,o,r,f,e,c={},s=[],a=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,h=Array.isArray;function v(n,l){for(var u in l)n[u]=l[u];return n}function p(n){var l=n.parentNode;l&&l.removeChild(n)}function y(l,u,t){var i,o,r,f={};for(r in u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):t),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return d(l,f,i,o,null)}function d(n,t,i,o,r){var f={type:n,props:t,key:i,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==r?++u:r,__i:-1,__u:0};return null==r&&null!=l.vnode&&l.vnode(f),f}function _(){return{current:null}}function g(n){return n.children}function b(n,l){this.props=n,this.context=l}function m(n,l){if(null==l)return n.__?m(n.__,n.__i+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?m(n):null}function k(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return k(n)}}function w(n){(!n.__d&&(n.__d=!0)&&i.push(n)&&!x.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||r)(x)}function x(){var n,u,t,o,r,e,c,s,a;for(i.sort(f);n=i.shift();)n.__d&&(u=i.length,o=void 0,e=(r=(t=n).__v).__e,s=[],a=[],(c=t.__P)&&((o=v({},r)).__v=r.__v+1,l.vnode&&l.vnode(o),L(c,o,r,t.__n,void 0!==c.ownerSVGElement,32&r.__u?[e]:null,s,null==e?m(r):e,!!(32&r.__u),a),o.__.__k[o.__i]=o,M(s,o,a),o.__e!=e&&k(o)),i.length>u&&i.sort(f));x.__r=0}function C(n,l,u,t,i,o,r,f,e,a,h){var v,p,y,d,_,g=t&&t.__k||s,b=l.length;for(u.__d=e,P(u,l,g),e=u.__d,v=0;v<b;v++)null!=(y=u.__k[v])&&\"boolean\"!=typeof y&&\"function\"!=typeof y&&(p=-1===y.__i?c:g[y.__i]||c,y.__i=v,L(n,y,p,i,o,r,f,e,a,h),d=y.__e,y.ref&&p.ref!=y.ref&&(p.ref&&z(p.ref,null,y),h.push(y.ref,y.__c||d,y)),null==_&&null!=d&&(_=d),65536&y.__u||p.__k===y.__k?e=S(y,e,n):\"function\"==typeof y.type&&void 0!==y.__d?e=y.__d:d&&(e=d.nextSibling),y.__d=void 0,y.__u&=-196609);u.__d=e,u.__e=_}function P(n,l,u){var t,i,o,r,f,e=l.length,c=u.length,s=c,a=0;for(n.__k=[],t=0;t<e;t++)null!=(i=n.__k[t]=null==(i=l[t])||\"boolean\"==typeof i||\"function\"==typeof i?null:\"string\"==typeof i||\"number\"==typeof i||\"bigint\"==typeof i||i.constructor==String?d(null,i,null,null,i):h(i)?d(g,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?d(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)?(i.__=n,i.__b=n.__b+1,f=H(i,u,r=t+a,s),i.__i=f,o=null,-1!==f&&(s--,(o=u[f])&&(o.__u|=131072)),null==o||null===o.__v?(-1==f&&a--,\"function\"!=typeof i.type&&(i.__u|=65536)):f!==r&&(f===r+1?a++:f>r?s>e-r?a+=f-r:a--:a=f<r&&f==r-1?f-r:0,f!==t+a&&(i.__u|=65536))):(o=u[t])&&null==o.key&&o.__e&&(o.__e==n.__d&&(n.__d=m(o)),N(o,o,!1),u[t]=null,s--);if(s)for(t=0;t<c;t++)null!=(o=u[t])&&0==(131072&o.__u)&&(o.__e==n.__d&&(n.__d=m(o)),N(o,o))}function S(n,l,u){var t,i;if(\"function\"==typeof n.type){for(t=n.__k,i=0;t&&i<t.length;i++)t[i]&&(t[i].__=n,l=S(t[i],l,u));return l}return n.__e!=l&&(u.insertBefore(n.__e,l||null),l=n.__e),l&&l.nextSibling}function $(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(h(n)?n.some(function(n){$(n,l)}):l.push(n)),l}function H(n,l,u,t){var i=n.key,o=n.type,r=u-1,f=u+1,e=l[u];if(null===e||e&&i==e.key&&o===e.type)return u;if(t>(null!=e&&0==(131072&e.__u)?1:0))for(;r>=0||f<l.length;){if(r>=0){if((e=l[r])&&0==(131072&e.__u)&&i==e.key&&o===e.type)return r;r--}if(f<l.length){if((e=l[f])&&0==(131072&e.__u)&&i==e.key&&o===e.type)return f;f++}}return-1}function I(n,l,u){\"-\"===l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||a.test(l)?u:u+\"px\"}function T(n,l,u,t,i){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof t&&(n.style.cssText=t=\"\"),t)for(l in t)u&&l in u||I(n.style,l,\"\");if(u)for(l in u)t&&u[l]===t[l]||I(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/(PointerCapture)$|Capture$/,\"$1\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?t?u.u=t.u:(u.u=Date.now(),n.addEventListener(l,o?D:A,o)):n.removeEventListener(l,o?D:A,o);else{if(i)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!==l&&\"height\"!==l&&\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&\"rowSpan\"!==l&&\"colSpan\"!==l&&\"role\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&\"-\"!==l[4]?n.removeAttribute(l):n.setAttribute(l,u))}}function A(n){var u=this.l[n.type+!1];if(n.t){if(n.t<=u.u)return}else n.t=Date.now();return u(l.event?l.event(n):n)}function D(n){return this.l[n.type+!0](l.event?l.event(n):n)}function L(n,u,t,i,o,r,f,e,c,s){var a,p,y,d,_,m,k,w,x,P,S,$,H,I,T,A=u.type;if(void 0!==u.constructor)return null;128&t.__u&&(c=!!(32&t.__u),r=[e=u.__e=t.__e]),(a=l.__b)&&a(u);n:if(\"function\"==typeof A)try{if(w=u.props,x=(a=A.contextType)&&i[a.__c],P=a?x?x.props.value:a.__:i,t.__c?k=(p=u.__c=t.__c).__=p.__E:(\"prototype\"in A&&A.prototype.render?u.__c=p=new A(w,P):(u.__c=p=new b(w,P),p.constructor=A,p.render=O),x&&x.sub(p),p.props=w,p.state||(p.state={}),p.context=P,p.__n=i,y=p.__d=!0,p.__h=[],p._sb=[]),null==p.__s&&(p.__s=p.state),null!=A.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=v({},p.__s)),v(p.__s,A.getDerivedStateFromProps(w,p.__s))),d=p.props,_=p.state,p.__v=u,y)null==A.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==A.getDerivedStateFromProps&&w!==d&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(w,P),!p.__e&&(null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(w,p.__s,P)||u.__v===t.__v)){for(u.__v!==t.__v&&(p.props=w,p.state=p.__s,p.__d=!1),u.__e=t.__e,u.__k=t.__k,u.__k.forEach(function(n){n&&(n.__=u)}),S=0;S<p._sb.length;S++)p.__h.push(p._sb[S]);p._sb=[],p.__h.length&&f.push(p);break n}null!=p.componentWillUpdate&&p.componentWillUpdate(w,p.__s,P),null!=p.componentDidUpdate&&p.__h.push(function(){p.componentDidUpdate(d,_,m)})}if(p.context=P,p.props=w,p.__P=n,p.__e=!1,$=l.__r,H=0,\"prototype\"in A&&A.prototype.render){for(p.state=p.__s,p.__d=!1,$&&$(u),a=p.render(p.props,p.state,p.context),I=0;I<p._sb.length;I++)p.__h.push(p._sb[I]);p._sb=[]}else do{p.__d=!1,$&&$(u),a=p.render(p.props,p.state,p.context),p.state=p.__s}while(p.__d&&++H<25);p.state=p.__s,null!=p.getChildContext&&(i=v(v({},i),p.getChildContext())),y||null==p.getSnapshotBeforeUpdate||(m=p.getSnapshotBeforeUpdate(d,_)),C(n,h(T=null!=a&&a.type===g&&null==a.key?a.props.children:a)?T:[T],u,t,i,o,r,f,e,c,s),p.base=u.__e,u.__u&=-161,p.__h.length&&f.push(p),k&&(p.__E=p.__=null)}catch(n){u.__v=null,c||null!=r?(u.__e=e,u.__u|=c?160:32,r[r.indexOf(e)]=null):(u.__e=t.__e,u.__k=t.__k),l.__e(n,u,t)}else null==r&&u.__v===t.__v?(u.__k=t.__k,u.__e=t.__e):u.__e=j(t.__e,u,t,i,o,r,f,c,s);(a=l.diffed)&&a(u)}function M(n,u,t){u.__d=void 0;for(var i=0;i<t.length;i++)z(t[i],t[++i],t[++i]);l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function j(l,u,t,i,o,r,f,e,s){var a,v,y,d,_,g,b,k=t.props,w=u.props,x=u.type;if(\"svg\"===x&&(o=!0),null!=r)for(a=0;a<r.length;a++)if((_=r[a])&&\"setAttribute\"in _==!!x&&(x?_.localName===x:3===_.nodeType)){l=_,r[a]=null;break}if(null==l){if(null===x)return document.createTextNode(w);l=o?document.createElementNS(\"http://www.w3.org/2000/svg\",x):document.createElement(x,w.is&&w),r=null,e=!1}if(null===x)k===w||e&&l.data===w||(l.data=w);else{if(r=r&&n.call(l.childNodes),k=t.props||c,!e&&null!=r)for(k={},a=0;a<l.attributes.length;a++)k[(_=l.attributes[a]).name]=_.value;for(a in k)_=k[a],\"children\"==a||(\"dangerouslySetInnerHTML\"==a?y=_:\"key\"===a||a in w||T(l,a,null,_,o));for(a in w)_=w[a],\"children\"==a?d=_:\"dangerouslySetInnerHTML\"==a?v=_:\"value\"==a?g=_:\"checked\"==a?b=_:\"key\"===a||e&&\"function\"!=typeof _||k[a]===_||T(l,a,_,k[a],o);if(v)e||y&&(v.__html===y.__html||v.__html===l.innerHTML)||(l.innerHTML=v.__html),u.__k=[];else if(y&&(l.innerHTML=\"\"),C(l,h(d)?d:[d],u,t,i,o&&\"foreignObject\"!==x,r,f,r?r[0]:t.__k&&m(t,0),e,s),null!=r)for(a=r.length;a--;)null!=r[a]&&p(r[a]);e||(a=\"value\",void 0!==g&&(g!==l[a]||\"progress\"===x&&!g||\"option\"===x&&g!==k[a])&&T(l,a,g,k[a],!1),a=\"checked\",void 0!==b&&b!==l[a]&&T(l,a,b,k[a],!1))}return l}function z(n,u,t){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,t)}}function N(n,u,t){var i,o;if(l.unmount&&l.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||z(i,null,u)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(n){l.__e(n,u)}i.base=i.__P=null,n.__c=void 0}if(i=n.__k)for(o=0;o<i.length;o++)i[o]&&N(i[o],u,t||\"function\"!=typeof n.type);t||null==n.__e||p(n.__e),n.__=n.__e=n.__d=void 0}function O(n,l,u){return this.constructor(n,u)}function q(u,t,i){var o,r,f,e;l.__&&l.__(u,t),r=(o=\"function\"==typeof i)?null:i&&i.__k||t.__k,f=[],e=[],L(t,u=(!o&&i||t).__k=y(g,null,[u]),r||c,c,void 0!==t.ownerSVGElement,!o&&i?[i]:r?null:t.firstChild?n.call(t.childNodes):null,f,!o&&i?i:r?r.__e:t.firstChild,o,e),M(f,u,e)}function B(n,l){q(n,l,B)}function E(l,u,t){var i,o,r,f,e=v({},l.props);for(r in l.type&&l.type.defaultProps&&(f=l.type.defaultProps),u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:e[r]=void 0===u[r]&&void 0!==f?f[r]:u[r];return arguments.length>2&&(e.children=arguments.length>3?n.call(arguments,2):t),d(l.type,e,i||l.key,o||l.ref,null)}function F(n,l){var u={__c:l=\"__cC\"+e++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,t;return this.getChildContext||(u=[],(t={})[l]=this,this.getChildContext=function(){return t},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(function(n){n.__e=!0,w(n)})},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=s.slice,l={__e:function(n,l,u,t){for(var i,o,r;l=l.__;)if((i=l.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(n)),r=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(n,t||{}),r=i.__d),r)return i.__E=i}catch(l){n=l}throw n}},u=0,t=function(n){return null!=n&&null==n.constructor},b.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=v({},this.state),\"function\"==typeof n&&(n=n(v({},u),this.props)),n&&v(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),w(this))},b.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),w(this))},b.prototype.render=g,i=[],r=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f=function(n,l){return n.__v.__b-l.__v.__b},x.__r=0,e=0;export{b as Component,g as Fragment,E as cloneElement,F as createContext,y as createElement,_ as createRef,y as h,B as hydrate,t as isValidElement,l as options,q as render,$ as toChildArray};\n//# sourceMappingURL=preact.module.js.map\n","import{options as n}from\"preact\";var t,r,u,i,o=0,f=[],c=[],e=n.__b,a=n.__r,v=n.diffed,l=n.__c,m=n.unmount;function d(t,u){n.__h&&n.__h(r,t,o||u),o=0;var i=r.__H||(r.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({__V:c}),i.__[t]}function h(n){return o=1,s(B,n)}function s(n,u,i){var o=d(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):B(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.u)){var f=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return n.__c});if(u.every(function(n){return!n.__N}))return!c||c.call(this,n,t,r);var i=!1;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),!(!i&&o.__c.props===n)&&(!c||c.call(this,n,t,r))};r.u=!0;var c=r.shouldComponentUpdate,e=r.componentWillUpdate;r.componentWillUpdate=function(n,t,r){if(this.__e){var u=c;c=void 0,f(n,t,r),c=u}e&&e.call(this,n,t,r)},r.shouldComponentUpdate=f}return o.__N||o.__}function p(u,i){var o=d(t++,3);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__H.__h.push(o))}function y(u,i){var o=d(t++,4);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__h.push(o))}function _(n){return o=5,F(function(){return{current:n}},[])}function A(n,t,r){o=6,y(function(){return\"function\"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==r?r:r.concat(n))}function F(n,r){var u=d(t++,7);return z(u.__H,r)?(u.__V=n(),u.i=r,u.__h=n,u.__V):u.__}function T(n,t){return o=8,F(function(){return n},t)}function q(n){var u=r.context[n.__c],i=d(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function x(t,r){n.useDebugValue&&n.useDebugValue(r?r(t):t)}function P(n){var u=d(t++,10),i=h();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function V(){var n=d(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__=\"P\"+i[0]+\"-\"+i[1]++}return n.__}function b(){for(var t;t=f.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(k),t.__H.__h.forEach(w),t.__H.__h=[]}catch(r){t.__H.__h=[],n.__e(r,t.__v)}}n.__b=function(n){r=null,e&&e(n)},n.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=c,n.__N=n.i=void 0})):(i.__h.forEach(k),i.__h.forEach(w),i.__h=[],t=0)),u=r},n.diffed=function(t){v&&v(t);var o=t.__c;o&&o.__H&&(o.__H.__h.length&&(1!==f.push(o)&&i===n.requestAnimationFrame||((i=n.requestAnimationFrame)||j)(b)),o.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==c&&(n.__=n.__V),n.i=void 0,n.__V=c})),u=r=null},n.__c=function(t,r){r.some(function(t){try{t.__h.forEach(k),t.__h=t.__h.filter(function(n){return!n.__||w(n)})}catch(u){r.some(function(n){n.__h&&(n.__h=[])}),r=[],n.__e(u,t.__v)}}),l&&l(t,r)},n.unmount=function(t){m&&m(t);var r,u=t.__c;u&&u.__H&&(u.__H.__.forEach(function(n){try{k(n)}catch(n){r=n}}),u.__H=void 0,r&&n.__e(r,u.__v))};var g=\"function\"==typeof requestAnimationFrame;function j(n){var t,r=function(){clearTimeout(u),g&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);g&&(t=requestAnimationFrame(r))}function k(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function w(n){var t=r;n.__c=n.__(),r=t}function z(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function B(n,t){return\"function\"==typeof t?t(n):t}export{T as useCallback,q as useContext,x as useDebugValue,p as useEffect,P as useErrorBoundary,V as useId,A as useImperativeHandle,y as useLayoutEffect,F as useMemo,s as useReducer,_ as useRef,h as useState};\n//# sourceMappingURL=hooks.module.js.map\n","import{Component as n,createElement as t,options as e,toChildArray as r,Fragment as u,render as o,hydrate as i,createContext as l,createRef as c,cloneElement as f}from\"preact\";export{Component,Fragment,createContext,createElement,createRef}from\"preact\";import{useState as a,useId as s,useReducer as h,useEffect as v,useLayoutEffect as d,useRef as p,useImperativeHandle as m,useMemo as y,useCallback as _,useContext as b,useDebugValue as S}from\"preact/hooks\";export*from\"preact/hooks\";function g(n,t){for(var e in t)n[e]=t[e];return n}function C(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function E(n){this.props=n}function w(n,e){function r(n){var t=this.props.ref,r=t==n.ref;return!r&&t&&(t.call?t(null):t.current=null),e?!e(this.props,n)||!r:C(this.props,n)}function u(e){return this.shouldComponentUpdate=r,t(n,e)}return u.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",u.prototype.isReactComponent=!0,u.__f=!0,u}(E.prototype=new n).isPureReactComponent=!0,E.prototype.shouldComponentUpdate=function(n,t){return C(this.props,n)||C(this.state,t)};var x=e.__b;e.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),x&&x(n)};var R=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function N(n){function t(t){var e=g({},t);return delete e.ref,n(e,t.ref||null)}return t.$$typeof=R,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var k=function(n,t){return null==n?null:r(r(n).map(t))},A={map:k,forEach:k,count:function(n){return n?r(n).length:0},only:function(n){var t=r(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:r},O=e.__e;e.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);O(n,t,e,r)};var T=e.unmount;function F(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),n.__c.__H=null),null!=(n=g({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return F(n,t,e)})),n}function I(n,t,e){return n&&e&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return I(n,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.appendChild(n.__e),n.__c.__e=!0,n.__c.__P=e)),n}function L(){this.__u=0,this.t=null,this.__b=null}function U(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function D(n){var e,r,u;function o(o){if(e||(e=n()).then(function(n){r=n.default||n},function(n){u=n}),u)throw u;if(!r)throw e;return t(r,o)}return o.displayName=\"Lazy\",o.__f=!0,o}function M(){this.u=null,this.o=null}e.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&32&n.__u&&(n.type=null),T&&T(n)},(L.prototype=new n).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=U(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=I(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},L.prototype.componentWillUnmount=function(){this.t=[]},L.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement(\"div\"),o=this.__v.__k[0].__c;this.__v.__k[0]=F(this.__b,r,o.__O=o.__P)}this.__b=null}var i=e.__a&&t(u,null,n.fallback);return i&&(i.__u&=-33),[t(u,null,e.__a?null:n.children),i]};var V=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function W(n){return this.getChildContext=function(){return n.context},n.children}function P(n){var e=this,r=n.i;e.componentWillUnmount=function(){o(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,t){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),o(t(W,{context:e.context},n.__v),e.l)}function j(n,e){var r=t(P,{__v:n,i:e});return r.containerInfo=e,r}(M.prototype=new n).__a=function(n){var t=this,e=U(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),V(t,n,r)):u()};e?e(o):o()}},M.prototype.render=function(n){this.u=null,this.o=new Map;var t=r(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},M.prototype.componentDidUpdate=M.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){V(n,e,t)})};var z=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,B=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,H=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Z=/[A-Z0-9]/g,Y=\"undefined\"!=typeof document,$=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(n)};function q(n,t,e){return null==t.__k&&(t.textContent=\"\"),o(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function G(n,t,e){return i(n,t),\"function\"==typeof e&&e(),n?n.__c:null}n.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(t){Object.defineProperty(n.prototype,t,{configurable:!0,get:function(){return this[\"UNSAFE_\"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var J=e.event;function K(){}function Q(){return this.cancelBubble}function X(){return this.defaultPrevented}e.event=function(n){return J&&(n=J(n)),n.persist=K,n.isPropagationStopped=Q,n.isDefaultPrevented=X,n.nativeEvent=n};var nn,tn={enumerable:!1,configurable:!0,get:function(){return this.class}},en=e.vnode;e.vnode=function(n){\"string\"==typeof n.type&&function(n){var t=n.props,e=n.type,u={};for(var o in t){var i=t[o];if(!(\"value\"===o&&\"defaultValue\"in t&&null==i||Y&&\"children\"===o&&\"noscript\"===e||\"class\"===o||\"className\"===o)){var l=o.toLowerCase();\"defaultValue\"===o&&\"value\"in t&&null==t.value?o=\"value\":\"download\"===o&&!0===i?i=\"\":\"ondoubleclick\"===l?o=\"ondblclick\":\"onchange\"!==l||\"input\"!==e&&\"textarea\"!==e||$(t.type)?\"onfocus\"===l?o=\"onfocusin\":\"onblur\"===l?o=\"onfocusout\":H.test(o)?o=l:-1===e.indexOf(\"-\")&&B.test(o)?o=o.replace(Z,\"-$&\").toLowerCase():null===i&&(i=void 0):l=o=\"oninput\",\"oninput\"===l&&u[o=l]&&(o=\"oninputCapture\"),u[o]=i}}\"select\"==e&&u.multiple&&Array.isArray(u.value)&&(u.value=r(t.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value)})),\"select\"==e&&null!=u.defaultValue&&(u.value=r(t.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value})),t.class&&!t.className?(u.class=t.class,Object.defineProperty(u,\"className\",tn)):(t.className&&!t.class||t.class&&t.className)&&(u.class=u.className=t.className),n.props=u}(n),n.$$typeof=z,en&&en(n)};var rn=e.__r;e.__r=function(n){rn&&rn(n),nn=n.__c};var un=e.diffed;e.diffed=function(n){un&&un(n);var t=n.props,e=n.__e;null!=e&&\"textarea\"===n.type&&\"value\"in t&&t.value!==e.value&&(e.value=null==t.value?\"\":t.value),nn=null};var on={ReactCurrentDispatcher:{current:{readContext:function(n){return nn.__n[n.__c].props.value}}}},ln=\"17.0.2\";function cn(n){return t.bind(null,n)}function fn(n){return!!n&&n.$$typeof===z}function an(n){return fn(n)&&n.type===u}function sn(n){return fn(n)?f.apply(null,arguments):n}function hn(n){return!!n.__k&&(o(null,n),!0)}function vn(n){return n&&(n.base||1===n.nodeType&&n)||null}var dn=function(n,t){return n(t)},pn=function(n,t){return n(t)},mn=u;function yn(n){n()}function _n(n){return n}function bn(){return[!1,yn]}var Sn=d,gn=fn;function Cn(n,t){var e=t(),r=a({h:{__:e,v:t}}),u=r[0].h,o=r[1];return d(function(){u.__=e,u.v=t,En(u)&&o({h:u})},[n,e,t]),v(function(){return En(u)&&o({h:u}),n(function(){En(u)&&o({h:u})})},[n]),e}function En(n){var t,e,r=n.v,u=n.__;try{var o=r();return!((t=u)===(e=o)&&(0!==t||1/t==1/e)||t!=t&&e!=e)}catch(n){return!0}}var wn={useState:a,useId:s,useReducer:h,useEffect:v,useLayoutEffect:d,useInsertionEffect:Sn,useTransition:bn,useDeferredValue:_n,useSyncExternalStore:Cn,startTransition:yn,useRef:p,useImperativeHandle:m,useMemo:y,useCallback:_,useContext:b,useDebugValue:S,version:\"17.0.2\",Children:A,render:q,hydrate:G,unmountComponentAtNode:hn,createPortal:j,createElement:t,createContext:l,createFactory:cn,cloneElement:sn,createRef:c,Fragment:u,isValidElement:fn,isElement:gn,isFragment:an,findDOMNode:vn,Component:n,PureComponent:E,memo:w,forwardRef:N,flushSync:pn,unstable_batchedUpdates:dn,StrictMode:mn,Suspense:L,SuspenseList:M,lazy:D,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:on};export{A as Children,E as PureComponent,mn as StrictMode,L as Suspense,M as SuspenseList,on as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sn as cloneElement,cn as createFactory,j as createPortal,wn as default,vn as findDOMNode,pn as flushSync,N as forwardRef,G as hydrate,gn as isElement,an as isFragment,fn as isValidElement,D as lazy,w as memo,q as render,yn as startTransition,hn as unmountComponentAtNode,dn as unstable_batchedUpdates,_n as useDeferredValue,Sn as useInsertionEffect,Cn as useSyncExternalStore,bn as useTransition,ln as version};\n//# sourceMappingURL=compat.module.js.map\n","/**\n * @license React\n * use-sync-external-store-shim.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var e=require(\"react\");function h(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var k=\"function\"===typeof Object.is?Object.is:h,l=e.useState,m=e.useEffect,n=e.useLayoutEffect,p=e.useDebugValue;function q(a,b){var d=b(),f=l({inst:{value:d,getSnapshot:b}}),c=f[0].inst,g=f[1];n(function(){c.value=d;c.getSnapshot=b;r(c)&&g({inst:c})},[a,d,b]);m(function(){r(c)&&g({inst:c});return a(function(){r(c)&&g({inst:c})})},[a]);p(d);return d}\nfunction r(a){var b=a.getSnapshot;a=a.value;try{var d=b();return!k(a,d)}catch(f){return!0}}function t(a,b){return b()}var u=\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement?t:q;exports.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:u;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","/**\n * @license React\n * use-sync-external-store-shim/with-selector.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var h=require(\"react\"),n=require(\"use-sync-external-store/shim\");function p(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var q=\"function\"===typeof Object.is?Object.is:p,r=n.useSyncExternalStore,t=h.useRef,u=h.useEffect,v=h.useMemo,w=h.useDebugValue;\nexports.useSyncExternalStoreWithSelector=function(a,b,e,l,g){var c=t(null);if(null===c.current){var f={hasValue:!1,value:null};c.current=f}else f=c.current;c=v(function(){function a(a){if(!c){c=!0;d=a;a=l(a);if(void 0!==g&&f.hasValue){var b=f.value;if(g(b,a))return k=b}return k=a}b=k;if(q(d,a))return b;var e=l(a);if(void 0!==g&&g(b,e))return b;d=a;return k=e}var c=!1,d,k,m=void 0===e?null:e;return[function(){return a(b())},null===m?void 0:function(){return a(m())}]},[b,e,l,g]);var d=r(a,c[0],c[1]);\nu(function(){f.hasValue=!0;f.value=d},[d]);w(d);return d};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.development.js');\n}\n","// Default to a dummy \"batch\" implementation that just runs the callback\nfunction defaultNoopBatch(callback) {\n  callback();\n}\n\nlet batch = defaultNoopBatch; // Allow injecting another batching function later\n\nexport const setBatch = newBatch => batch = newBatch; // Supply a getter just to skip dealing with ESM bindings\n\nexport const getBatch = () => batch;","import * as React from 'react';\nconst ContextKey = Symbol.for(`react-redux-context`);\nconst gT = typeof globalThis !== \"undefined\" ? globalThis :\n/* fall back to a per-module scope (pre-8.1 behaviour) if `globalThis` is not available */\n{};\n\nfunction getContext() {\n  var _gT$ContextKey;\n\n  if (!React.createContext) return {};\n  const contextMap = (_gT$ContextKey = gT[ContextKey]) != null ? _gT$ContextKey : gT[ContextKey] = new Map();\n  let realContext = contextMap.get(React.createContext);\n\n  if (!realContext) {\n    realContext = React.createContext(null);\n\n    if (process.env.NODE_ENV !== 'production') {\n      realContext.displayName = 'ReactRedux';\n    }\n\n    contextMap.set(React.createContext, realContext);\n  }\n\n  return realContext;\n}\n\nexport const ReactReduxContext = /*#__PURE__*/getContext();\nexport default ReactReduxContext;","import { useContext } from 'react';\nimport { ReactReduxContext } from '../components/Context';\n\n/**\r\n * Hook factory, which creates a `useReduxContext` hook bound to a given context. This is a low-level\r\n * hook that you should usually not need to call directly.\r\n *\r\n * @param {React.Context} [context=ReactReduxContext] Context passed to your `<Provider>`.\r\n * @returns {Function} A `useReduxContext` hook bound to the specified context.\r\n */\nexport function createReduxContextHook(context = ReactReduxContext) {\n  return function useReduxContext() {\n    const contextValue = useContext(context);\n\n    if (process.env.NODE_ENV !== 'production' && !contextValue) {\n      throw new Error('could not find react-redux context value; please ensure the component is wrapped in a <Provider>');\n    }\n\n    return contextValue;\n  };\n}\n/**\r\n * A hook to access the value of the `ReactReduxContext`. This is a low-level\r\n * hook that you should usually not need to call directly.\r\n *\r\n * @returns {any} the value of the `ReactReduxContext`\r\n *\r\n * @example\r\n *\r\n * import React from 'react'\r\n * import { useReduxContext } from 'react-redux'\r\n *\r\n * export const CounterComponent = () => {\r\n *   const { store } = useReduxContext()\r\n *   return <div>{store.getState()}</div>\r\n * }\r\n */\n\nexport const useReduxContext = /*#__PURE__*/createReduxContextHook();","import { useCallback, useDebugValue, useRef } from 'react';\nimport { createReduxContextHook, useReduxContext as useDefaultReduxContext } from './useReduxContext';\nimport { ReactReduxContext } from '../components/Context';\nimport { notInitialized } from '../utils/useSyncExternalStore';\nlet useSyncExternalStoreWithSelector = notInitialized;\nexport const initializeUseSelector = fn => {\n  useSyncExternalStoreWithSelector = fn;\n};\n\nconst refEquality = (a, b) => a === b;\n/**\r\n * Hook factory, which creates a `useSelector` hook bound to a given context.\r\n *\r\n * @param {React.Context} [context=ReactReduxContext] Context passed to your `<Provider>`.\r\n * @returns {Function} A `useSelector` hook bound to the specified context.\r\n */\n\n\nexport function createSelectorHook(context = ReactReduxContext) {\n  const useReduxContext = context === ReactReduxContext ? useDefaultReduxContext : createReduxContextHook(context);\n  return function useSelector(selector, equalityFnOrOptions = {}) {\n    const {\n      equalityFn = refEquality,\n      stabilityCheck = undefined,\n      noopCheck = undefined\n    } = typeof equalityFnOrOptions === 'function' ? {\n      equalityFn: equalityFnOrOptions\n    } : equalityFnOrOptions;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!selector) {\n        throw new Error(`You must pass a selector to useSelector`);\n      }\n\n      if (typeof selector !== 'function') {\n        throw new Error(`You must pass a function as a selector to useSelector`);\n      }\n\n      if (typeof equalityFn !== 'function') {\n        throw new Error(`You must pass a function as an equality function to useSelector`);\n      }\n    }\n\n    const {\n      store,\n      subscription,\n      getServerState,\n      stabilityCheck: globalStabilityCheck,\n      noopCheck: globalNoopCheck\n    } = useReduxContext();\n    const firstRun = useRef(true);\n    const wrappedSelector = useCallback({\n      [selector.name](state) {\n        const selected = selector(state);\n\n        if (process.env.NODE_ENV !== 'production') {\n          const finalStabilityCheck = typeof stabilityCheck === 'undefined' ? globalStabilityCheck : stabilityCheck;\n\n          if (finalStabilityCheck === 'always' || finalStabilityCheck === 'once' && firstRun.current) {\n            const toCompare = selector(state);\n\n            if (!equalityFn(selected, toCompare)) {\n              let stack = undefined;\n\n              try {\n                throw new Error();\n              } catch (e) {\n                ;\n                ({\n                  stack\n                } = e);\n              }\n\n              console.warn('Selector ' + (selector.name || 'unknown') + ' returned a different result when called with the same parameters. This can lead to unnecessary rerenders.' + '\\nSelectors that return a new reference (such as an object or an array) should be memoized: https://redux.js.org/usage/deriving-data-selectors#optimizing-selectors-with-memoization', {\n                state,\n                selected,\n                selected2: toCompare,\n                stack\n              });\n            }\n          }\n\n          const finalNoopCheck = typeof noopCheck === 'undefined' ? globalNoopCheck : noopCheck;\n\n          if (finalNoopCheck === 'always' || finalNoopCheck === 'once' && firstRun.current) {\n            // @ts-ignore\n            if (selected === state) {\n              let stack = undefined;\n\n              try {\n                throw new Error();\n              } catch (e) {\n                ;\n                ({\n                  stack\n                } = e);\n              }\n\n              console.warn('Selector ' + (selector.name || 'unknown') + ' returned the root state when called. This can lead to unnecessary rerenders.' + '\\nSelectors that return the entire state are almost certainly a mistake, as they will cause a rerender whenever *anything* in state changes.', {\n                stack\n              });\n            }\n          }\n\n          if (firstRun.current) firstRun.current = false;\n        }\n\n        return selected;\n      }\n\n    }[selector.name], [selector, globalStabilityCheck, stabilityCheck]);\n    const selectedState = useSyncExternalStoreWithSelector(subscription.addNestedSub, store.getState, getServerState || store.getState, wrappedSelector, equalityFn);\n    useDebugValue(selectedState);\n    return selectedState;\n  };\n}\n/**\r\n * A hook to access the redux store's state. This hook takes a selector function\r\n * as an argument. The selector is called with the store state.\r\n *\r\n * This hook takes an optional equality comparison function as the second parameter\r\n * that allows you to customize the way the selected state is compared to determine\r\n * whether the component needs to be re-rendered.\r\n *\r\n * @param {Function} selector the selector function\r\n * @param {Function=} equalityFn the function that will be used to determine equality\r\n *\r\n * @returns {any} the selected state\r\n *\r\n * @example\r\n *\r\n * import React from 'react'\r\n * import { useSelector } from 'react-redux'\r\n *\r\n * export const CounterComponent = () => {\r\n *   const counter = useSelector(state => state.counter)\r\n *   return <div>{counter}</div>\r\n * }\r\n */\n\nexport const useSelector = /*#__PURE__*/createSelectorHook();","export const notInitialized = () => {\n  throw new Error('uSES not initialized!');\n};","/** @license React v16.13.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var b=\"function\"===typeof Symbol&&Symbol.for,c=b?Symbol.for(\"react.element\"):60103,d=b?Symbol.for(\"react.portal\"):60106,e=b?Symbol.for(\"react.fragment\"):60107,f=b?Symbol.for(\"react.strict_mode\"):60108,g=b?Symbol.for(\"react.profiler\"):60114,h=b?Symbol.for(\"react.provider\"):60109,k=b?Symbol.for(\"react.context\"):60110,l=b?Symbol.for(\"react.async_mode\"):60111,m=b?Symbol.for(\"react.concurrent_mode\"):60111,n=b?Symbol.for(\"react.forward_ref\"):60112,p=b?Symbol.for(\"react.suspense\"):60113,q=b?\nSymbol.for(\"react.suspense_list\"):60120,r=b?Symbol.for(\"react.memo\"):60115,t=b?Symbol.for(\"react.lazy\"):60116,v=b?Symbol.for(\"react.block\"):60121,w=b?Symbol.for(\"react.fundamental\"):60117,x=b?Symbol.for(\"react.responder\"):60118,y=b?Symbol.for(\"react.scope\"):60119;\nfunction z(a){if(\"object\"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;exports.Fragment=e;exports.Lazy=t;exports.Memo=r;exports.Portal=d;\nexports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;exports.isAsyncMode=function(a){return A(a)||z(a)===l};exports.isConcurrentMode=A;exports.isContextConsumer=function(a){return z(a)===k};exports.isContextProvider=function(a){return z(a)===h};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return z(a)===n};exports.isFragment=function(a){return z(a)===e};exports.isLazy=function(a){return z(a)===t};\nexports.isMemo=function(a){return z(a)===r};exports.isPortal=function(a){return z(a)===d};exports.isProfiler=function(a){return z(a)===g};exports.isStrictMode=function(a){return z(a)===f};exports.isSuspense=function(a){return z(a)===p};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||\"object\"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)};exports.typeOf=z;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","'use strict';\n\nvar reactIs = require('react-is');\n\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextType: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromError: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar FORWARD_REF_STATICS = {\n  '$$typeof': true,\n  render: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true\n};\nvar MEMO_STATICS = {\n  '$$typeof': true,\n  compare: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n  type: true\n};\nvar TYPE_STATICS = {};\nTYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;\nTYPE_STATICS[reactIs.Memo] = MEMO_STATICS;\n\nfunction getStatics(component) {\n  // React v16.11 and below\n  if (reactIs.isMemo(component)) {\n    return MEMO_STATICS;\n  } // React v16.12 and above\n\n\n  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;\n}\n\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    var targetStatics = getStatics(targetComponent);\n    var sourceStatics = getStatics(sourceComponent);\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n  }\n\n  return targetComponent;\n}\n\nmodule.exports = hoistNonReactStatics;\n","/**\n * @license React\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var b=Symbol.for(\"react.element\"),c=Symbol.for(\"react.portal\"),d=Symbol.for(\"react.fragment\"),e=Symbol.for(\"react.strict_mode\"),f=Symbol.for(\"react.profiler\"),g=Symbol.for(\"react.provider\"),h=Symbol.for(\"react.context\"),k=Symbol.for(\"react.server_context\"),l=Symbol.for(\"react.forward_ref\"),m=Symbol.for(\"react.suspense\"),n=Symbol.for(\"react.suspense_list\"),p=Symbol.for(\"react.memo\"),q=Symbol.for(\"react.lazy\"),t=Symbol.for(\"react.offscreen\"),u;u=Symbol.for(\"react.module.reference\");\nfunction v(a){if(\"object\"===typeof a&&null!==a){var r=a.$$typeof;switch(r){case b:switch(a=a.type,a){case d:case f:case e:case m:case n:return a;default:switch(a=a&&a.$$typeof,a){case k:case h:case l:case q:case p:case g:return a;default:return r}}case c:return r}}}exports.ContextConsumer=h;exports.ContextProvider=g;exports.Element=b;exports.ForwardRef=l;exports.Fragment=d;exports.Lazy=q;exports.Memo=p;exports.Portal=c;exports.Profiler=f;exports.StrictMode=e;exports.Suspense=m;\nexports.SuspenseList=n;exports.isAsyncMode=function(){return!1};exports.isConcurrentMode=function(){return!1};exports.isContextConsumer=function(a){return v(a)===h};exports.isContextProvider=function(a){return v(a)===g};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===b};exports.isForwardRef=function(a){return v(a)===l};exports.isFragment=function(a){return v(a)===d};exports.isLazy=function(a){return v(a)===q};exports.isMemo=function(a){return v(a)===p};\nexports.isPortal=function(a){return v(a)===c};exports.isProfiler=function(a){return v(a)===f};exports.isStrictMode=function(a){return v(a)===e};exports.isSuspense=function(a){return v(a)===m};exports.isSuspenseList=function(a){return v(a)===n};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===d||a===f||a===e||a===m||a===n||a===t||\"object\"===typeof a&&null!==a&&(a.$$typeof===q||a.$$typeof===p||a.$$typeof===g||a.$$typeof===h||a.$$typeof===l||a.$$typeof===u||void 0!==a.getModuleId)?!0:!1};exports.typeOf=v;\n","import { getBatch } from './batch'; // encapsulates the subscription logic for connecting a component to the redux store, as\n// well as nesting subscriptions of descendant components, so that we can ensure the\n// ancestor components re-render before descendants\n\nfunction createListenerCollection() {\n  const batch = getBatch();\n  let first = null;\n  let last = null;\n  return {\n    clear() {\n      first = null;\n      last = null;\n    },\n\n    notify() {\n      batch(() => {\n        let listener = first;\n\n        while (listener) {\n          listener.callback();\n          listener = listener.next;\n        }\n      });\n    },\n\n    get() {\n      let listeners = [];\n      let listener = first;\n\n      while (listener) {\n        listeners.push(listener);\n        listener = listener.next;\n      }\n\n      return listeners;\n    },\n\n    subscribe(callback) {\n      let isSubscribed = true;\n      let listener = last = {\n        callback,\n        next: null,\n        prev: last\n      };\n\n      if (listener.prev) {\n        listener.prev.next = listener;\n      } else {\n        first = listener;\n      }\n\n      return function unsubscribe() {\n        if (!isSubscribed || first === null) return;\n        isSubscribed = false;\n\n        if (listener.next) {\n          listener.next.prev = listener.prev;\n        } else {\n          last = listener.prev;\n        }\n\n        if (listener.prev) {\n          listener.prev.next = listener.next;\n        } else {\n          first = listener.next;\n        }\n      };\n    }\n\n  };\n}\n\nconst nullListeners = {\n  notify() {},\n\n  get: () => []\n};\nexport function createSubscription(store, parentSub) {\n  let unsubscribe;\n  let listeners = nullListeners; // Reasons to keep the subscription active\n\n  let subscriptionsAmount = 0; // Is this specific subscription subscribed (or only nested ones?)\n\n  let selfSubscribed = false;\n\n  function addNestedSub(listener) {\n    trySubscribe();\n    const cleanupListener = listeners.subscribe(listener); // cleanup nested sub\n\n    let removed = false;\n    return () => {\n      if (!removed) {\n        removed = true;\n        cleanupListener();\n        tryUnsubscribe();\n      }\n    };\n  }\n\n  function notifyNestedSubs() {\n    listeners.notify();\n  }\n\n  function handleChangeWrapper() {\n    if (subscription.onStateChange) {\n      subscription.onStateChange();\n    }\n  }\n\n  function isSubscribed() {\n    return selfSubscribed;\n  }\n\n  function trySubscribe() {\n    subscriptionsAmount++;\n\n    if (!unsubscribe) {\n      unsubscribe = parentSub ? parentSub.addNestedSub(handleChangeWrapper) : store.subscribe(handleChangeWrapper);\n      listeners = createListenerCollection();\n    }\n  }\n\n  function tryUnsubscribe() {\n    subscriptionsAmount--;\n\n    if (unsubscribe && subscriptionsAmount === 0) {\n      unsubscribe();\n      unsubscribe = undefined;\n      listeners.clear();\n      listeners = nullListeners;\n    }\n  }\n\n  function trySubscribeSelf() {\n    if (!selfSubscribed) {\n      selfSubscribed = true;\n      trySubscribe();\n    }\n  }\n\n  function tryUnsubscribeSelf() {\n    if (selfSubscribed) {\n      selfSubscribed = false;\n      tryUnsubscribe();\n    }\n  }\n\n  const subscription = {\n    addNestedSub,\n    notifyNestedSubs,\n    handleChangeWrapper,\n    isSubscribed,\n    trySubscribe: trySubscribeSelf,\n    tryUnsubscribe: tryUnsubscribeSelf,\n    getListeners: () => listeners\n  };\n  return subscription;\n}","import * as React from 'react'; // React currently throws a warning when using useLayoutEffect on the server.\n// To get around it, we can conditionally useEffect on the server (no-op) and\n// useLayoutEffect in the browser. We need useLayoutEffect to ensure the store\n// subscription callback always has the selector from the latest render commit\n// available, otherwise a store update may happen between render and the effect,\n// which may cause missed updates; we also must ensure the store subscription\n// is created synchronously, otherwise a store update may occur before the\n// subscription is created and an inconsistent state may be observed\n// Matches logic in React's `shared/ExecutionEnvironment` file\n\nexport const canUseDOM = !!(typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined');\nexport const useIsomorphicLayoutEffect = canUseDOM ? React.useLayoutEffect : React.useEffect;","import * as React from 'react';\nimport { ReactReduxContext } from './Context';\nimport { createSubscription } from '../utils/Subscription';\nimport { useIsomorphicLayoutEffect } from '../utils/useIsomorphicLayoutEffect';\n\nfunction Provider({\n  store,\n  context,\n  children,\n  serverState,\n  stabilityCheck = 'once',\n  noopCheck = 'once'\n}) {\n  const contextValue = React.useMemo(() => {\n    const subscription = createSubscription(store);\n    return {\n      store,\n      subscription,\n      getServerState: serverState ? () => serverState : undefined,\n      stabilityCheck,\n      noopCheck\n    };\n  }, [store, serverState, stabilityCheck, noopCheck]);\n  const previousState = React.useMemo(() => store.getState(), [store]);\n  useIsomorphicLayoutEffect(() => {\n    const {\n      subscription\n    } = contextValue;\n    subscription.onStateChange = subscription.notifyNestedSubs;\n    subscription.trySubscribe();\n\n    if (previousState !== store.getState()) {\n      subscription.notifyNestedSubs();\n    }\n\n    return () => {\n      subscription.tryUnsubscribe();\n      subscription.onStateChange = undefined;\n    };\n  }, [contextValue, previousState]);\n  const Context = context || ReactReduxContext; // @ts-ignore 'AnyAction' is assignable to the constraint of type 'A', but 'A' could be instantiated with a different subtype\n\n  return /*#__PURE__*/React.createElement(Context.Provider, {\n    value: contextValue\n  }, children);\n}\n\nexport default Provider;","import { ReactReduxContext } from '../components/Context';\nimport { useReduxContext as useDefaultReduxContext, createReduxContextHook } from './useReduxContext';\n/**\r\n * Hook factory, which creates a `useStore` hook bound to a given context.\r\n *\r\n * @param {React.Context} [context=ReactReduxContext] Context passed to your `<Provider>`.\r\n * @returns {Function} A `useStore` hook bound to the specified context.\r\n */\n\nexport function createStoreHook(context = ReactReduxContext) {\n  const useReduxContext = // @ts-ignore\n  context === ReactReduxContext ? useDefaultReduxContext : // @ts-ignore\n  createReduxContextHook(context);\n  return function useStore() {\n    const {\n      store\n    } = useReduxContext(); // @ts-ignore\n\n    return store;\n  };\n}\n/**\r\n * A hook to access the redux store.\r\n *\r\n * @returns {any} the redux store\r\n *\r\n * @example\r\n *\r\n * import React from 'react'\r\n * import { useStore } from 'react-redux'\r\n *\r\n * export const ExampleComponent = () => {\r\n *   const store = useStore()\r\n *   return <div>{store.getState()}</div>\r\n * }\r\n */\n\nexport const useStore = /*#__PURE__*/createStoreHook();","import { ReactReduxContext } from '../components/Context';\nimport { useStore as useDefaultStore, createStoreHook } from './useStore';\n/**\r\n * Hook factory, which creates a `useDispatch` hook bound to a given context.\r\n *\r\n * @param {React.Context} [context=ReactReduxContext] Context passed to your `<Provider>`.\r\n * @returns {Function} A `useDispatch` hook bound to the specified context.\r\n */\n\nexport function createDispatchHook(context = ReactReduxContext) {\n  const useStore = // @ts-ignore\n  context === ReactReduxContext ? useDefaultStore : createStoreHook(context);\n  return function useDispatch() {\n    const store = useStore(); // @ts-ignore\n\n    return store.dispatch;\n  };\n}\n/**\r\n * A hook to access the redux `dispatch` function.\r\n *\r\n * @returns {any|function} redux store's `dispatch` function\r\n *\r\n * @example\r\n *\r\n * import React, { useCallback } from 'react'\r\n * import { useDispatch } from 'react-redux'\r\n *\r\n * export const CounterComponent = ({ value }) => {\r\n *   const dispatch = useDispatch()\r\n *   const increaseCounter = useCallback(() => dispatch({ type: 'increase-counter' }), [])\r\n *   return (\r\n *     <div>\r\n *       <span>{value}</span>\r\n *       <button onClick={increaseCounter}>Increase counter</button>\r\n *     </div>\r\n *   )\r\n * }\r\n */\n\nexport const useDispatch = /*#__PURE__*/createDispatchHook();","function n(n){for(var r=arguments.length,t=Array(r>1?r-1:0),e=1;e<r;e++)t[e-1]=arguments[e];if(\"production\"!==process.env.NODE_ENV){var i=Y[n],o=i?\"function\"==typeof i?i.apply(null,t):i:\"unknown error nr: \"+n;throw Error(\"[Immer] \"+o)}throw Error(\"[Immer] minified error nr: \"+n+(t.length?\" \"+t.map((function(n){return\"'\"+n+\"'\"})).join(\",\"):\"\")+\". Find the full error at: https://bit.ly/3cXEKWf\")}function r(n){return!!n&&!!n[Q]}function t(n){var r;return!!n&&(function(n){if(!n||\"object\"!=typeof n)return!1;var r=Object.getPrototypeOf(n);if(null===r)return!0;var t=Object.hasOwnProperty.call(r,\"constructor\")&&r.constructor;return t===Object||\"function\"==typeof t&&Function.toString.call(t)===Z}(n)||Array.isArray(n)||!!n[L]||!!(null===(r=n.constructor)||void 0===r?void 0:r[L])||s(n)||v(n))}function e(t){return r(t)||n(23,t),t[Q].t}function i(n,r,t){void 0===t&&(t=!1),0===o(n)?(t?Object.keys:nn)(n).forEach((function(e){t&&\"symbol\"==typeof e||r(e,n[e],n)})):n.forEach((function(t,e){return r(e,t,n)}))}function o(n){var r=n[Q];return r?r.i>3?r.i-4:r.i:Array.isArray(n)?1:s(n)?2:v(n)?3:0}function u(n,r){return 2===o(n)?n.has(r):Object.prototype.hasOwnProperty.call(n,r)}function a(n,r){return 2===o(n)?n.get(r):n[r]}function f(n,r,t){var e=o(n);2===e?n.set(r,t):3===e?n.add(t):n[r]=t}function c(n,r){return n===r?0!==n||1/n==1/r:n!=n&&r!=r}function s(n){return X&&n instanceof Map}function v(n){return q&&n instanceof Set}function p(n){return n.o||n.t}function l(n){if(Array.isArray(n))return Array.prototype.slice.call(n);var r=rn(n);delete r[Q];for(var t=nn(r),e=0;e<t.length;e++){var i=t[e],o=r[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:n[i]})}return Object.create(Object.getPrototypeOf(n),r)}function d(n,e){return void 0===e&&(e=!1),y(n)||r(n)||!t(n)||(o(n)>1&&(n.set=n.add=n.clear=n.delete=h),Object.freeze(n),e&&i(n,(function(n,r){return d(r,!0)}),!0)),n}function h(){n(2)}function y(n){return null==n||\"object\"!=typeof n||Object.isFrozen(n)}function b(r){var t=tn[r];return t||n(18,r),t}function m(n,r){tn[n]||(tn[n]=r)}function _(){return\"production\"===process.env.NODE_ENV||U||n(0),U}function j(n,r){r&&(b(\"Patches\"),n.u=[],n.s=[],n.v=r)}function g(n){O(n),n.p.forEach(S),n.p=null}function O(n){n===U&&(U=n.l)}function w(n){return U={p:[],l:U,h:n,m:!0,_:0}}function S(n){var r=n[Q];0===r.i||1===r.i?r.j():r.g=!0}function P(r,e){e._=e.p.length;var i=e.p[0],o=void 0!==r&&r!==i;return e.h.O||b(\"ES5\").S(e,r,o),o?(i[Q].P&&(g(e),n(4)),t(r)&&(r=M(e,r),e.l||x(e,r)),e.u&&b(\"Patches\").M(i[Q].t,r,e.u,e.s)):r=M(e,i,[]),g(e),e.u&&e.v(e.u,e.s),r!==H?r:void 0}function M(n,r,t){if(y(r))return r;var e=r[Q];if(!e)return i(r,(function(i,o){return A(n,e,r,i,o,t)}),!0),r;if(e.A!==n)return r;if(!e.P)return x(n,e.t,!0),e.t;if(!e.I){e.I=!0,e.A._--;var o=4===e.i||5===e.i?e.o=l(e.k):e.o,u=o,a=!1;3===e.i&&(u=new Set(o),o.clear(),a=!0),i(u,(function(r,i){return A(n,e,o,r,i,t,a)})),x(n,o,!1),t&&n.u&&b(\"Patches\").N(e,t,n.u,n.s)}return e.o}function A(e,i,o,a,c,s,v){if(\"production\"!==process.env.NODE_ENV&&c===o&&n(5),r(c)){var p=M(e,c,s&&i&&3!==i.i&&!u(i.R,a)?s.concat(a):void 0);if(f(o,a,p),!r(p))return;e.m=!1}else v&&o.add(c);if(t(c)&&!y(c)){if(!e.h.D&&e._<1)return;M(e,c),i&&i.A.l||x(e,c)}}function x(n,r,t){void 0===t&&(t=!1),!n.l&&n.h.D&&n.m&&d(r,t)}function z(n,r){var t=n[Q];return(t?p(t):n)[r]}function I(n,r){if(r in n)for(var t=Object.getPrototypeOf(n);t;){var e=Object.getOwnPropertyDescriptor(t,r);if(e)return e;t=Object.getPrototypeOf(t)}}function k(n){n.P||(n.P=!0,n.l&&k(n.l))}function E(n){n.o||(n.o=l(n.t))}function N(n,r,t){var e=s(r)?b(\"MapSet\").F(r,t):v(r)?b(\"MapSet\").T(r,t):n.O?function(n,r){var t=Array.isArray(n),e={i:t?1:0,A:r?r.A:_(),P:!1,I:!1,R:{},l:r,t:n,k:null,o:null,j:null,C:!1},i=e,o=en;t&&(i=[e],o=on);var u=Proxy.revocable(i,o),a=u.revoke,f=u.proxy;return e.k=f,e.j=a,f}(r,t):b(\"ES5\").J(r,t);return(t?t.A:_()).p.push(e),e}function R(e){return r(e)||n(22,e),function n(r){if(!t(r))return r;var e,u=r[Q],c=o(r);if(u){if(!u.P&&(u.i<4||!b(\"ES5\").K(u)))return u.t;u.I=!0,e=D(r,c),u.I=!1}else e=D(r,c);return i(e,(function(r,t){u&&a(u.t,r)===t||f(e,r,n(t))})),3===c?new Set(e):e}(e)}function D(n,r){switch(r){case 2:return new Map(n);case 3:return Array.from(n)}return l(n)}function F(){function t(n,r){var t=s[n];return t?t.enumerable=r:s[n]=t={configurable:!0,enumerable:r,get:function(){var r=this[Q];return\"production\"!==process.env.NODE_ENV&&f(r),en.get(r,n)},set:function(r){var t=this[Q];\"production\"!==process.env.NODE_ENV&&f(t),en.set(t,n,r)}},t}function e(n){for(var r=n.length-1;r>=0;r--){var t=n[r][Q];if(!t.P)switch(t.i){case 5:a(t)&&k(t);break;case 4:o(t)&&k(t)}}}function o(n){for(var r=n.t,t=n.k,e=nn(t),i=e.length-1;i>=0;i--){var o=e[i];if(o!==Q){var a=r[o];if(void 0===a&&!u(r,o))return!0;var f=t[o],s=f&&f[Q];if(s?s.t!==a:!c(f,a))return!0}}var v=!!r[Q];return e.length!==nn(r).length+(v?0:1)}function a(n){var r=n.k;if(r.length!==n.t.length)return!0;var t=Object.getOwnPropertyDescriptor(r,r.length-1);if(t&&!t.get)return!0;for(var e=0;e<r.length;e++)if(!r.hasOwnProperty(e))return!0;return!1}function f(r){r.g&&n(3,JSON.stringify(p(r)))}var s={};m(\"ES5\",{J:function(n,r){var e=Array.isArray(n),i=function(n,r){if(n){for(var e=Array(r.length),i=0;i<r.length;i++)Object.defineProperty(e,\"\"+i,t(i,!0));return e}var o=rn(r);delete o[Q];for(var u=nn(o),a=0;a<u.length;a++){var f=u[a];o[f]=t(f,n||!!o[f].enumerable)}return Object.create(Object.getPrototypeOf(r),o)}(e,n),o={i:e?5:4,A:r?r.A:_(),P:!1,I:!1,R:{},l:r,t:n,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,Q,{value:o,writable:!0}),i},S:function(n,t,o){o?r(t)&&t[Q].A===n&&e(n.p):(n.u&&function n(r){if(r&&\"object\"==typeof r){var t=r[Q];if(t){var e=t.t,o=t.k,f=t.R,c=t.i;if(4===c)i(o,(function(r){r!==Q&&(void 0!==e[r]||u(e,r)?f[r]||n(o[r]):(f[r]=!0,k(t)))})),i(e,(function(n){void 0!==o[n]||u(o,n)||(f[n]=!1,k(t))}));else if(5===c){if(a(t)&&(k(t),f.length=!0),o.length<e.length)for(var s=o.length;s<e.length;s++)f[s]=!1;else for(var v=e.length;v<o.length;v++)f[v]=!0;for(var p=Math.min(o.length,e.length),l=0;l<p;l++)o.hasOwnProperty(l)||(f[l]=!0),void 0===f[l]&&n(o[l])}}}}(n.p[0]),e(n.p))},K:function(n){return 4===n.i?o(n):a(n)}})}function T(){function e(n){if(!t(n))return n;if(Array.isArray(n))return n.map(e);if(s(n))return new Map(Array.from(n.entries()).map((function(n){return[n[0],e(n[1])]})));if(v(n))return new Set(Array.from(n).map(e));var r=Object.create(Object.getPrototypeOf(n));for(var i in n)r[i]=e(n[i]);return u(n,L)&&(r[L]=n[L]),r}function f(n){return r(n)?e(n):n}var c=\"add\";m(\"Patches\",{$:function(r,t){return t.forEach((function(t){for(var i=t.path,u=t.op,f=r,s=0;s<i.length-1;s++){var v=o(f),p=i[s];\"string\"!=typeof p&&\"number\"!=typeof p&&(p=\"\"+p),0!==v&&1!==v||\"__proto__\"!==p&&\"constructor\"!==p||n(24),\"function\"==typeof f&&\"prototype\"===p&&n(24),\"object\"!=typeof(f=a(f,p))&&n(15,i.join(\"/\"))}var l=o(f),d=e(t.value),h=i[i.length-1];switch(u){case\"replace\":switch(l){case 2:return f.set(h,d);case 3:n(16);default:return f[h]=d}case c:switch(l){case 1:return\"-\"===h?f.push(d):f.splice(h,0,d);case 2:return f.set(h,d);case 3:return f.add(d);default:return f[h]=d}case\"remove\":switch(l){case 1:return f.splice(h,1);case 2:return f.delete(h);case 3:return f.delete(t.value);default:return delete f[h]}default:n(17,u)}})),r},N:function(n,r,t,e){switch(n.i){case 0:case 4:case 2:return function(n,r,t,e){var o=n.t,s=n.o;i(n.R,(function(n,i){var v=a(o,n),p=a(s,n),l=i?u(o,n)?\"replace\":c:\"remove\";if(v!==p||\"replace\"!==l){var d=r.concat(n);t.push(\"remove\"===l?{op:l,path:d}:{op:l,path:d,value:p}),e.push(l===c?{op:\"remove\",path:d}:\"remove\"===l?{op:c,path:d,value:f(v)}:{op:\"replace\",path:d,value:f(v)})}}))}(n,r,t,e);case 5:case 1:return function(n,r,t,e){var i=n.t,o=n.R,u=n.o;if(u.length<i.length){var a=[u,i];i=a[0],u=a[1];var s=[e,t];t=s[0],e=s[1]}for(var v=0;v<i.length;v++)if(o[v]&&u[v]!==i[v]){var p=r.concat([v]);t.push({op:\"replace\",path:p,value:f(u[v])}),e.push({op:\"replace\",path:p,value:f(i[v])})}for(var l=i.length;l<u.length;l++){var d=r.concat([l]);t.push({op:c,path:d,value:f(u[l])})}i.length<u.length&&e.push({op:\"replace\",path:r.concat([\"length\"]),value:i.length})}(n,r,t,e);case 3:return function(n,r,t,e){var i=n.t,o=n.o,u=0;i.forEach((function(n){if(!o.has(n)){var i=r.concat([u]);t.push({op:\"remove\",path:i,value:n}),e.unshift({op:c,path:i,value:n})}u++})),u=0,o.forEach((function(n){if(!i.has(n)){var o=r.concat([u]);t.push({op:c,path:o,value:n}),e.unshift({op:\"remove\",path:o,value:n})}u++}))}(n,r,t,e)}},M:function(n,r,t,e){t.push({op:\"replace\",path:[],value:r===H?void 0:r}),e.push({op:\"replace\",path:[],value:n})}})}function C(){function r(n,r){function t(){this.constructor=n}a(n,r),n.prototype=(t.prototype=r.prototype,new t)}function e(n){n.o||(n.R=new Map,n.o=new Map(n.t))}function o(n){n.o||(n.o=new Set,n.t.forEach((function(r){if(t(r)){var e=N(n.A.h,r,n);n.p.set(r,e),n.o.add(e)}else n.o.add(r)})))}function u(r){r.g&&n(3,JSON.stringify(p(r)))}var a=function(n,r){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var t in r)r.hasOwnProperty(t)&&(n[t]=r[t])})(n,r)},f=function(){function n(n,r){return this[Q]={i:2,l:r,A:r?r.A:_(),P:!1,I:!1,o:void 0,R:void 0,t:n,k:this,C:!1,g:!1},this}r(n,Map);var o=n.prototype;return Object.defineProperty(o,\"size\",{get:function(){return p(this[Q]).size}}),o.has=function(n){return p(this[Q]).has(n)},o.set=function(n,r){var t=this[Q];return u(t),p(t).has(n)&&p(t).get(n)===r||(e(t),k(t),t.R.set(n,!0),t.o.set(n,r),t.R.set(n,!0)),this},o.delete=function(n){if(!this.has(n))return!1;var r=this[Q];return u(r),e(r),k(r),r.t.has(n)?r.R.set(n,!1):r.R.delete(n),r.o.delete(n),!0},o.clear=function(){var n=this[Q];u(n),p(n).size&&(e(n),k(n),n.R=new Map,i(n.t,(function(r){n.R.set(r,!1)})),n.o.clear())},o.forEach=function(n,r){var t=this;p(this[Q]).forEach((function(e,i){n.call(r,t.get(i),i,t)}))},o.get=function(n){var r=this[Q];u(r);var i=p(r).get(n);if(r.I||!t(i))return i;if(i!==r.t.get(n))return i;var o=N(r.A.h,i,r);return e(r),r.o.set(n,o),o},o.keys=function(){return p(this[Q]).keys()},o.values=function(){var n,r=this,t=this.keys();return(n={})[V]=function(){return r.values()},n.next=function(){var n=t.next();return n.done?n:{done:!1,value:r.get(n.value)}},n},o.entries=function(){var n,r=this,t=this.keys();return(n={})[V]=function(){return r.entries()},n.next=function(){var n=t.next();if(n.done)return n;var e=r.get(n.value);return{done:!1,value:[n.value,e]}},n},o[V]=function(){return this.entries()},n}(),c=function(){function n(n,r){return this[Q]={i:3,l:r,A:r?r.A:_(),P:!1,I:!1,o:void 0,t:n,k:this,p:new Map,g:!1,C:!1},this}r(n,Set);var t=n.prototype;return Object.defineProperty(t,\"size\",{get:function(){return p(this[Q]).size}}),t.has=function(n){var r=this[Q];return u(r),r.o?!!r.o.has(n)||!(!r.p.has(n)||!r.o.has(r.p.get(n))):r.t.has(n)},t.add=function(n){var r=this[Q];return u(r),this.has(n)||(o(r),k(r),r.o.add(n)),this},t.delete=function(n){if(!this.has(n))return!1;var r=this[Q];return u(r),o(r),k(r),r.o.delete(n)||!!r.p.has(n)&&r.o.delete(r.p.get(n))},t.clear=function(){var n=this[Q];u(n),p(n).size&&(o(n),k(n),n.o.clear())},t.values=function(){var n=this[Q];return u(n),o(n),n.o.values()},t.entries=function(){var n=this[Q];return u(n),o(n),n.o.entries()},t.keys=function(){return this.values()},t[V]=function(){return this.values()},t.forEach=function(n,r){for(var t=this.values(),e=t.next();!e.done;)n.call(r,e.value,e.value,this),e=t.next()},n}();m(\"MapSet\",{F:function(n,r){return new f(n,r)},T:function(n,r){return new c(n,r)}})}function J(){F(),C(),T()}function K(n){return n}function $(n){return n}var G,U,W=\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol(\"x\"),X=\"undefined\"!=typeof Map,q=\"undefined\"!=typeof Set,B=\"undefined\"!=typeof Proxy&&void 0!==Proxy.revocable&&\"undefined\"!=typeof Reflect,H=W?Symbol.for(\"immer-nothing\"):((G={})[\"immer-nothing\"]=!0,G),L=W?Symbol.for(\"immer-draftable\"):\"__$immer_draftable\",Q=W?Symbol.for(\"immer-state\"):\"__$immer_state\",V=\"undefined\"!=typeof Symbol&&Symbol.iterator||\"@@iterator\",Y={0:\"Illegal state\",1:\"Immer drafts cannot have computed properties\",2:\"This object has been frozen and should not be mutated\",3:function(n){return\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \"+n},4:\"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",5:\"Immer forbids circular references\",6:\"The first or second argument to `produce` must be a function\",7:\"The third argument to `produce` must be a function or undefined\",8:\"First argument to `createDraft` must be a plain object, an array, or an immerable object\",9:\"First argument to `finishDraft` must be a draft returned by `createDraft`\",10:\"The given draft is already finalized\",11:\"Object.defineProperty() cannot be used on an Immer draft\",12:\"Object.setPrototypeOf() cannot be used on an Immer draft\",13:\"Immer only supports deleting array indices\",14:\"Immer only supports setting array indices and the 'length' property\",15:function(n){return\"Cannot apply patch, path doesn't resolve: \"+n},16:'Sets cannot have \"replace\" patches.',17:function(n){return\"Unsupported patch operation: \"+n},18:function(n){return\"The plugin for '\"+n+\"' has not been loaded into Immer. To enable the plugin, import and call `enable\"+n+\"()` when initializing your application.\"},20:\"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available\",21:function(n){return\"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '\"+n+\"'\"},22:function(n){return\"'current' expects a draft, got: \"+n},23:function(n){return\"'original' expects a draft, got: \"+n},24:\"Patching reserved attributes like __proto__, prototype and constructor is not allowed\"},Z=\"\"+Object.prototype.constructor,nn=\"undefined\"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames,rn=Object.getOwnPropertyDescriptors||function(n){var r={};return nn(n).forEach((function(t){r[t]=Object.getOwnPropertyDescriptor(n,t)})),r},tn={},en={get:function(n,r){if(r===Q)return n;var e=p(n);if(!u(e,r))return function(n,r,t){var e,i=I(r,t);return i?\"value\"in i?i.value:null===(e=i.get)||void 0===e?void 0:e.call(n.k):void 0}(n,e,r);var i=e[r];return n.I||!t(i)?i:i===z(n.t,r)?(E(n),n.o[r]=N(n.A.h,i,n)):i},has:function(n,r){return r in p(n)},ownKeys:function(n){return Reflect.ownKeys(p(n))},set:function(n,r,t){var e=I(p(n),r);if(null==e?void 0:e.set)return e.set.call(n.k,t),!0;if(!n.P){var i=z(p(n),r),o=null==i?void 0:i[Q];if(o&&o.t===t)return n.o[r]=t,n.R[r]=!1,!0;if(c(t,i)&&(void 0!==t||u(n.t,r)))return!0;E(n),k(n)}return n.o[r]===t&&(void 0!==t||r in n.o)||Number.isNaN(t)&&Number.isNaN(n.o[r])||(n.o[r]=t,n.R[r]=!0),!0},deleteProperty:function(n,r){return void 0!==z(n.t,r)||r in n.t?(n.R[r]=!1,E(n),k(n)):delete n.R[r],n.o&&delete n.o[r],!0},getOwnPropertyDescriptor:function(n,r){var t=p(n),e=Reflect.getOwnPropertyDescriptor(t,r);return e?{writable:!0,configurable:1!==n.i||\"length\"!==r,enumerable:e.enumerable,value:t[r]}:e},defineProperty:function(){n(11)},getPrototypeOf:function(n){return Object.getPrototypeOf(n.t)},setPrototypeOf:function(){n(12)}},on={};i(en,(function(n,r){on[n]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}})),on.deleteProperty=function(r,t){return\"production\"!==process.env.NODE_ENV&&isNaN(parseInt(t))&&n(13),on.set.call(this,r,t,void 0)},on.set=function(r,t,e){return\"production\"!==process.env.NODE_ENV&&\"length\"!==t&&isNaN(parseInt(t))&&n(14),en.set.call(this,r[0],t,e,r[0])};var un=function(){function e(r){var e=this;this.O=B,this.D=!0,this.produce=function(r,i,o){if(\"function\"==typeof r&&\"function\"!=typeof i){var u=i;i=r;var a=e;return function(n){var r=this;void 0===n&&(n=u);for(var t=arguments.length,e=Array(t>1?t-1:0),o=1;o<t;o++)e[o-1]=arguments[o];return a.produce(n,(function(n){var t;return(t=i).call.apply(t,[r,n].concat(e))}))}}var f;if(\"function\"!=typeof i&&n(6),void 0!==o&&\"function\"!=typeof o&&n(7),t(r)){var c=w(e),s=N(e,r,void 0),v=!0;try{f=i(s),v=!1}finally{v?g(c):O(c)}return\"undefined\"!=typeof Promise&&f instanceof Promise?f.then((function(n){return j(c,o),P(n,c)}),(function(n){throw g(c),n})):(j(c,o),P(f,c))}if(!r||\"object\"!=typeof r){if(void 0===(f=i(r))&&(f=r),f===H&&(f=void 0),e.D&&d(f,!0),o){var p=[],l=[];b(\"Patches\").M(r,f,p,l),o(p,l)}return f}n(21,r)},this.produceWithPatches=function(n,r){if(\"function\"==typeof n)return function(r){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return e.produceWithPatches(r,(function(r){return n.apply(void 0,[r].concat(i))}))};var t,i,o=e.produce(n,r,(function(n,r){t=n,i=r}));return\"undefined\"!=typeof Promise&&o instanceof Promise?o.then((function(n){return[n,t,i]})):[o,t,i]},\"boolean\"==typeof(null==r?void 0:r.useProxies)&&this.setUseProxies(r.useProxies),\"boolean\"==typeof(null==r?void 0:r.autoFreeze)&&this.setAutoFreeze(r.autoFreeze)}var i=e.prototype;return i.createDraft=function(e){t(e)||n(8),r(e)&&(e=R(e));var i=w(this),o=N(this,e,void 0);return o[Q].C=!0,O(i),o},i.finishDraft=function(r,t){var e=r&&r[Q];\"production\"!==process.env.NODE_ENV&&(e&&e.C||n(9),e.I&&n(10));var i=e.A;return j(i,t),P(void 0,i)},i.setAutoFreeze=function(n){this.D=n},i.setUseProxies=function(r){r&&!B&&n(20),this.O=r},i.applyPatches=function(n,t){var e;for(e=t.length-1;e>=0;e--){var i=t[e];if(0===i.path.length&&\"replace\"===i.op){n=i.value;break}}e>-1&&(t=t.slice(e+1));var o=b(\"Patches\").$;return r(n)?o(n,t):this.produce(n,(function(n){return o(n,t)}))},e}(),an=new un,fn=an.produce,cn=an.produceWithPatches.bind(an),sn=an.setAutoFreeze.bind(an),vn=an.setUseProxies.bind(an),pn=an.applyPatches.bind(an),ln=an.createDraft.bind(an),dn=an.finishDraft.bind(an);export default fn;export{un as Immer,pn as applyPatches,K as castDraft,$ as castImmutable,ln as createDraft,R as current,J as enableAllPlugins,F as enableES5,C as enableMapSet,T as enablePatches,dn as finishDraft,d as freeze,L as immerable,r as isDraft,t as isDraftable,H as nothing,e as original,fn as produce,cn as produceWithPatches,sn as setAutoFreeze,vn as setUseProxies};\n//# sourceMappingURL=immer.esm.js.map\n","// The primary entry point assumes we're working with standard ReactDOM/RN, but\n// older versions that do not include `useSyncExternalStore` (React 16.9 - 17.x).\n// Because of that, the useSyncExternalStore compat shim is needed.\nimport { useSyncExternalStore } from 'use-sync-external-store/shim';\nimport { useSyncExternalStoreWithSelector } from 'use-sync-external-store/shim/with-selector';\nimport { unstable_batchedUpdates as batch } from './utils/reactBatchedUpdates';\nimport { setBatch } from './utils/batch';\nimport { initializeUseSelector } from './hooks/useSelector';\nimport { initializeConnect } from './components/connect';\ninitializeUseSelector(useSyncExternalStoreWithSelector);\ninitializeConnect(useSyncExternalStore); // Enable batched updates in our subscriptions for use\n// with standard React renderers (ReactDOM, React Native)\n\nsetBatch(batch);\nexport { batch };\nexport * from './exports';","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}","import _objectSpread from '@babel/runtime/helpers/esm/objectSpread2';\n\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n}\n\n// Inlined version of the `symbol-observable` polyfill\nvar $$observable = (function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n})();\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n// Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (process.env.NODE_ENV !== 'production') {\n    typeOfVal = miniKindOf(val);\n  }\n\n  return typeOfVal;\n}\n\n/**\n * @deprecated\n *\n * **We recommend using the `configureStore` method\n * of the `@reduxjs/toolkit` package**, which replaces `createStore`.\n *\n * Redux Toolkit is our recommended approach for writing Redux logic today,\n * including store setup, reducers, data fetching, and more.\n *\n * **For more details, please read this Redux docs page:**\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * `configureStore` from Redux Toolkit is an improved version of `createStore` that\n * simplifies setup and helps avoid common bugs.\n *\n * You should not be using the `redux` core package by itself today, except for learning purposes.\n * The `createStore` method from the core `redux` package will not be removed, but we encourage\n * all users to migrate to using Redux Toolkit for all Redux code.\n *\n * If you want to use `createStore` without this visual deprecation warning, use\n * the `legacy_createStore` import instead:\n *\n * `import { legacy_createStore as createStore} from 'redux'`\n *\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(0) : 'It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(1) : \"Expected the enhancer to be a function. Instead, received: '\" + kindOf(enhancer) + \"'\");\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(2) : \"Expected the root reducer to be a function. Instead, received: '\" + kindOf(reducer) + \"'\");\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(3) : 'You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(4) : \"Expected the listener to be a function. Instead, received: '\" + kindOf(listener) + \"'\");\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(5) : 'You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(6) : 'You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(7) : \"Actions must be plain objects. Instead, the actual type was: '\" + kindOf(action) + \"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.\");\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(8) : 'Actions may not have an undefined \"type\" property. You may have misspelled an action type string constant.');\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(9) : 'Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(10) : \"Expected the nextReducer to be a function. Instead, received: '\" + kindOf(nextReducer));\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(11) : \"Expected the observer to be an object. Instead, received: '\" + kindOf(observer) + \"'\");\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n/**\n * Creates a Redux store that holds the state tree.\n *\n * **We recommend using `configureStore` from the\n * `@reduxjs/toolkit` package**, which replaces `createStore`:\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nvar legacy_createStore = createStore;\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + kindOf(inputState) + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(12) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(13) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle '\" + ActionTypes.INIT + \"' or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var actionType = action && action.type;\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(14) : \"When called with an action of type \" + (actionType ? \"\\\"\" + String(actionType) + \"\\\"\" : '(unknown type)') + \", the slice reducer for key \\\"\" + _key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\");\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(16) : \"bindActionCreators expected an object or a function, but instead received: '\" + kindOf(actionCreators) + \"'. \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(15) : 'Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread(_objectSpread({}, store), {}, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore, legacy_createStore };\n","/** A function that accepts a potential \"extra argument\" value to be injected later,\r\n * and returns an instance of the thunk middleware that uses that value\r\n */\nfunction createThunkMiddleware(extraArgument) {\n  // Standard Redux middleware definition pattern:\n  // See: https://redux.js.org/tutorials/fundamentals/part-4-store#writing-custom-middleware\n  var middleware = function middleware(_ref) {\n    var dispatch = _ref.dispatch,\n        getState = _ref.getState;\n    return function (next) {\n      return function (action) {\n        // The thunk middleware looks for any functions that were passed to `store.dispatch`.\n        // If this \"action\" is really a function, call it and return the result.\n        if (typeof action === 'function') {\n          // Inject the store's `dispatch` and `getState` methods, as well as any \"extra arg\"\n          return action(dispatch, getState, extraArgument);\n        } // Otherwise, pass the action down the middleware chain as usual\n\n\n        return next(action);\n      };\n    };\n  };\n\n  return middleware;\n}\n\nvar thunk = createThunkMiddleware(); // Attach the factory function so users can create a customized version\n// with whatever \"extra arg\" they want to inject into their thunks\n\nthunk.withExtraArgument = createThunkMiddleware;\nexport default thunk;","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n};\r\nvar __defProp = Object.defineProperty;\r\nvar __defProps = Object.defineProperties;\r\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\r\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\r\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\r\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\r\nvar __defNormalProp = function (obj, key, value) { return key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value: value }) : obj[key] = value; };\r\nvar __spreadValues = function (a, b) {\r\n    for (var prop in b || (b = {}))\r\n        if (__hasOwnProp.call(b, prop))\r\n            __defNormalProp(a, prop, b[prop]);\r\n    if (__getOwnPropSymbols)\r\n        for (var _i = 0, _c = __getOwnPropSymbols(b); _i < _c.length; _i++) {\r\n            var prop = _c[_i];\r\n            if (__propIsEnum.call(b, prop))\r\n                __defNormalProp(a, prop, b[prop]);\r\n        }\r\n    return a;\r\n};\r\nvar __spreadProps = function (a, b) { return __defProps(a, __getOwnPropDescs(b)); };\r\nvar __async = function (__this, __arguments, generator) {\r\n    return new Promise(function (resolve, reject) {\r\n        var fulfilled = function (value) {\r\n            try {\r\n                step(generator.next(value));\r\n            }\r\n            catch (e) {\r\n                reject(e);\r\n            }\r\n        };\r\n        var rejected = function (value) {\r\n            try {\r\n                step(generator.throw(value));\r\n            }\r\n            catch (e) {\r\n                reject(e);\r\n            }\r\n        };\r\n        var step = function (x) { return x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected); };\r\n        step((generator = generator.apply(__this, __arguments)).next());\r\n    });\r\n};\r\n// src/index.ts\r\nimport { enableES5 } from \"immer\";\r\nexport * from \"redux\";\r\nimport { default as default2, current as current2, freeze, original, isDraft as isDraft4 } from \"immer\";\r\nimport { createSelector as createSelector2 } from \"reselect\";\r\n// src/createDraftSafeSelector.ts\r\nimport { current, isDraft } from \"immer\";\r\nimport { createSelector } from \"reselect\";\r\nvar createDraftSafeSelector = function () {\r\n    var args = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n    }\r\n    var selector = createSelector.apply(void 0, args);\r\n    var wrappedSelector = function (value) {\r\n        var rest = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            rest[_i - 1] = arguments[_i];\r\n        }\r\n        return selector.apply(void 0, __spreadArray([isDraft(value) ? current(value) : value], rest));\r\n    };\r\n    return wrappedSelector;\r\n};\r\n// src/configureStore.ts\r\nimport { createStore, compose as compose2, applyMiddleware, combineReducers } from \"redux\";\r\n// src/devtoolsExtension.ts\r\nimport { compose } from \"redux\";\r\nvar composeWithDevTools = typeof window !== \"undefined\" && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : function () {\r\n    if (arguments.length === 0)\r\n        return void 0;\r\n    if (typeof arguments[0] === \"object\")\r\n        return compose;\r\n    return compose.apply(null, arguments);\r\n};\r\nvar devToolsEnhancer = typeof window !== \"undefined\" && window.__REDUX_DEVTOOLS_EXTENSION__ ? window.__REDUX_DEVTOOLS_EXTENSION__ : function () {\r\n    return function (noop2) {\r\n        return noop2;\r\n    };\r\n};\r\n// src/isPlainObject.ts\r\nfunction isPlainObject(value) {\r\n    if (typeof value !== \"object\" || value === null)\r\n        return false;\r\n    var proto = Object.getPrototypeOf(value);\r\n    if (proto === null)\r\n        return true;\r\n    var baseProto = proto;\r\n    while (Object.getPrototypeOf(baseProto) !== null) {\r\n        baseProto = Object.getPrototypeOf(baseProto);\r\n    }\r\n    return proto === baseProto;\r\n}\r\n// src/getDefaultMiddleware.ts\r\nimport thunkMiddleware from \"redux-thunk\";\r\n// src/tsHelpers.ts\r\nvar hasMatchFunction = function (v) {\r\n    return v && typeof v.match === \"function\";\r\n};\r\n// src/createAction.ts\r\nfunction createAction(type, prepareAction) {\r\n    function actionCreator() {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        if (prepareAction) {\r\n            var prepared = prepareAction.apply(void 0, args);\r\n            if (!prepared) {\r\n                throw new Error(\"prepareAction did not return an object\");\r\n            }\r\n            return __spreadValues(__spreadValues({\r\n                type: type,\r\n                payload: prepared.payload\r\n            }, \"meta\" in prepared && { meta: prepared.meta }), \"error\" in prepared && { error: prepared.error });\r\n        }\r\n        return { type: type, payload: args[0] };\r\n    }\r\n    actionCreator.toString = function () { return \"\" + type; };\r\n    actionCreator.type = type;\r\n    actionCreator.match = function (action) { return action.type === type; };\r\n    return actionCreator;\r\n}\r\nfunction isAction(action) {\r\n    return isPlainObject(action) && \"type\" in action;\r\n}\r\nfunction isActionCreator(action) {\r\n    return typeof action === \"function\" && \"type\" in action && hasMatchFunction(action);\r\n}\r\nfunction isFSA(action) {\r\n    return isAction(action) && typeof action.type === \"string\" && Object.keys(action).every(isValidKey);\r\n}\r\nfunction isValidKey(key) {\r\n    return [\"type\", \"payload\", \"error\", \"meta\"].indexOf(key) > -1;\r\n}\r\nfunction getType(actionCreator) {\r\n    return \"\" + actionCreator;\r\n}\r\n// src/actionCreatorInvariantMiddleware.ts\r\nfunction getMessage(type) {\r\n    var splitType = type ? (\"\" + type).split(\"/\") : [];\r\n    var actionName = splitType[splitType.length - 1] || \"actionCreator\";\r\n    return \"Detected an action creator with type \\\"\" + (type || \"unknown\") + \"\\\" being dispatched. \\nMake sure you're calling the action creator before dispatching, i.e. `dispatch(\" + actionName + \"())` instead of `dispatch(\" + actionName + \")`. This is necessary even if the action has no payload.\";\r\n}\r\nfunction createActionCreatorInvariantMiddleware(options) {\r\n    if (options === void 0) { options = {}; }\r\n    if (process.env.NODE_ENV === \"production\") {\r\n        return function () { return function (next) { return function (action) { return next(action); }; }; };\r\n    }\r\n    var _c = options.isActionCreator, isActionCreator2 = _c === void 0 ? isActionCreator : _c;\r\n    return function () { return function (next) { return function (action) {\r\n        if (isActionCreator2(action)) {\r\n            console.warn(getMessage(action.type));\r\n        }\r\n        return next(action);\r\n    }; }; };\r\n}\r\n// src/utils.ts\r\nimport createNextState, { isDraftable } from \"immer\";\r\nfunction getTimeMeasureUtils(maxDelay, fnName) {\r\n    var elapsed = 0;\r\n    return {\r\n        measureTime: function (fn) {\r\n            var started = Date.now();\r\n            try {\r\n                return fn();\r\n            }\r\n            finally {\r\n                var finished = Date.now();\r\n                elapsed += finished - started;\r\n            }\r\n        },\r\n        warnIfExceeded: function () {\r\n            if (elapsed > maxDelay) {\r\n                console.warn(fnName + \" took \" + elapsed + \"ms, which is more than the warning threshold of \" + maxDelay + \"ms. \\nIf your state or actions are very large, you may want to disable the middleware as it might cause too much of a slowdown in development mode. See https://redux-toolkit.js.org/api/getDefaultMiddleware for instructions.\\nIt is disabled in production builds, so you don't need to worry about that.\");\r\n            }\r\n        }\r\n    };\r\n}\r\nvar MiddlewareArray = /** @class */ (function (_super) {\r\n    __extends(MiddlewareArray, _super);\r\n    function MiddlewareArray() {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var _this = _super.apply(this, args) || this;\r\n        Object.setPrototypeOf(_this, MiddlewareArray.prototype);\r\n        return _this;\r\n    }\r\n    Object.defineProperty(MiddlewareArray, Symbol.species, {\r\n        get: function () {\r\n            return MiddlewareArray;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    MiddlewareArray.prototype.concat = function () {\r\n        var arr = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            arr[_i] = arguments[_i];\r\n        }\r\n        return _super.prototype.concat.apply(this, arr);\r\n    };\r\n    MiddlewareArray.prototype.prepend = function () {\r\n        var arr = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            arr[_i] = arguments[_i];\r\n        }\r\n        if (arr.length === 1 && Array.isArray(arr[0])) {\r\n            return new (MiddlewareArray.bind.apply(MiddlewareArray, __spreadArray([void 0], arr[0].concat(this))))();\r\n        }\r\n        return new (MiddlewareArray.bind.apply(MiddlewareArray, __spreadArray([void 0], arr.concat(this))))();\r\n    };\r\n    return MiddlewareArray;\r\n}(Array));\r\nvar EnhancerArray = /** @class */ (function (_super) {\r\n    __extends(EnhancerArray, _super);\r\n    function EnhancerArray() {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var _this = _super.apply(this, args) || this;\r\n        Object.setPrototypeOf(_this, EnhancerArray.prototype);\r\n        return _this;\r\n    }\r\n    Object.defineProperty(EnhancerArray, Symbol.species, {\r\n        get: function () {\r\n            return EnhancerArray;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    EnhancerArray.prototype.concat = function () {\r\n        var arr = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            arr[_i] = arguments[_i];\r\n        }\r\n        return _super.prototype.concat.apply(this, arr);\r\n    };\r\n    EnhancerArray.prototype.prepend = function () {\r\n        var arr = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            arr[_i] = arguments[_i];\r\n        }\r\n        if (arr.length === 1 && Array.isArray(arr[0])) {\r\n            return new (EnhancerArray.bind.apply(EnhancerArray, __spreadArray([void 0], arr[0].concat(this))))();\r\n        }\r\n        return new (EnhancerArray.bind.apply(EnhancerArray, __spreadArray([void 0], arr.concat(this))))();\r\n    };\r\n    return EnhancerArray;\r\n}(Array));\r\nfunction freezeDraftable(val) {\r\n    return isDraftable(val) ? createNextState(val, function () {\r\n    }) : val;\r\n}\r\n// src/immutableStateInvariantMiddleware.ts\r\nvar isProduction = process.env.NODE_ENV === \"production\";\r\nvar prefix = \"Invariant failed\";\r\nfunction invariant(condition, message) {\r\n    if (condition) {\r\n        return;\r\n    }\r\n    if (isProduction) {\r\n        throw new Error(prefix);\r\n    }\r\n    throw new Error(prefix + \": \" + (message || \"\"));\r\n}\r\nfunction stringify(obj, serializer, indent, decycler) {\r\n    return JSON.stringify(obj, getSerialize(serializer, decycler), indent);\r\n}\r\nfunction getSerialize(serializer, decycler) {\r\n    var stack = [], keys = [];\r\n    if (!decycler)\r\n        decycler = function (_, value) {\r\n            if (stack[0] === value)\r\n                return \"[Circular ~]\";\r\n            return \"[Circular ~.\" + keys.slice(0, stack.indexOf(value)).join(\".\") + \"]\";\r\n        };\r\n    return function (key, value) {\r\n        if (stack.length > 0) {\r\n            var thisPos = stack.indexOf(this);\r\n            ~thisPos ? stack.splice(thisPos + 1) : stack.push(this);\r\n            ~thisPos ? keys.splice(thisPos, Infinity, key) : keys.push(key);\r\n            if (~stack.indexOf(value))\r\n                value = decycler.call(this, key, value);\r\n        }\r\n        else\r\n            stack.push(value);\r\n        return serializer == null ? value : serializer.call(this, key, value);\r\n    };\r\n}\r\nfunction isImmutableDefault(value) {\r\n    return typeof value !== \"object\" || value == null || Object.isFrozen(value);\r\n}\r\nfunction trackForMutations(isImmutable, ignorePaths, obj) {\r\n    var trackedProperties = trackProperties(isImmutable, ignorePaths, obj);\r\n    return {\r\n        detectMutations: function () {\r\n            return detectMutations(isImmutable, ignorePaths, trackedProperties, obj);\r\n        }\r\n    };\r\n}\r\nfunction trackProperties(isImmutable, ignorePaths, obj, path, checkedObjects) {\r\n    if (ignorePaths === void 0) { ignorePaths = []; }\r\n    if (path === void 0) { path = \"\"; }\r\n    if (checkedObjects === void 0) { checkedObjects = new Set(); }\r\n    var tracked = { value: obj };\r\n    if (!isImmutable(obj) && !checkedObjects.has(obj)) {\r\n        checkedObjects.add(obj);\r\n        tracked.children = {};\r\n        for (var key in obj) {\r\n            var childPath = path ? path + \".\" + key : key;\r\n            if (ignorePaths.length && ignorePaths.indexOf(childPath) !== -1) {\r\n                continue;\r\n            }\r\n            tracked.children[key] = trackProperties(isImmutable, ignorePaths, obj[key], childPath);\r\n        }\r\n    }\r\n    return tracked;\r\n}\r\nfunction detectMutations(isImmutable, ignoredPaths, trackedProperty, obj, sameParentRef, path) {\r\n    if (ignoredPaths === void 0) { ignoredPaths = []; }\r\n    if (sameParentRef === void 0) { sameParentRef = false; }\r\n    if (path === void 0) { path = \"\"; }\r\n    var prevObj = trackedProperty ? trackedProperty.value : void 0;\r\n    var sameRef = prevObj === obj;\r\n    if (sameParentRef && !sameRef && !Number.isNaN(obj)) {\r\n        return { wasMutated: true, path: path };\r\n    }\r\n    if (isImmutable(prevObj) || isImmutable(obj)) {\r\n        return { wasMutated: false };\r\n    }\r\n    var keysToDetect = {};\r\n    for (var key in trackedProperty.children) {\r\n        keysToDetect[key] = true;\r\n    }\r\n    for (var key in obj) {\r\n        keysToDetect[key] = true;\r\n    }\r\n    var hasIgnoredPaths = ignoredPaths.length > 0;\r\n    var _loop_1 = function (key) {\r\n        var nestedPath = path ? path + \".\" + key : key;\r\n        if (hasIgnoredPaths) {\r\n            var hasMatches = ignoredPaths.some(function (ignored) {\r\n                if (ignored instanceof RegExp) {\r\n                    return ignored.test(nestedPath);\r\n                }\r\n                return nestedPath === ignored;\r\n            });\r\n            if (hasMatches) {\r\n                return \"continue\";\r\n            }\r\n        }\r\n        var result = detectMutations(isImmutable, ignoredPaths, trackedProperty.children[key], obj[key], sameRef, nestedPath);\r\n        if (result.wasMutated) {\r\n            return { value: result };\r\n        }\r\n    };\r\n    for (var key in keysToDetect) {\r\n        var state_1 = _loop_1(key);\r\n        if (typeof state_1 === \"object\")\r\n            return state_1.value;\r\n    }\r\n    return { wasMutated: false };\r\n}\r\nfunction createImmutableStateInvariantMiddleware(options) {\r\n    if (options === void 0) { options = {}; }\r\n    if (process.env.NODE_ENV === \"production\") {\r\n        return function () { return function (next) { return function (action) { return next(action); }; }; };\r\n    }\r\n    var _c = options.isImmutable, isImmutable = _c === void 0 ? isImmutableDefault : _c, ignoredPaths = options.ignoredPaths, _d = options.warnAfter, warnAfter = _d === void 0 ? 32 : _d, ignore = options.ignore;\r\n    ignoredPaths = ignoredPaths || ignore;\r\n    var track = trackForMutations.bind(null, isImmutable, ignoredPaths);\r\n    return function (_c) {\r\n        var getState = _c.getState;\r\n        var state = getState();\r\n        var tracker = track(state);\r\n        var result;\r\n        return function (next) { return function (action) {\r\n            var measureUtils = getTimeMeasureUtils(warnAfter, \"ImmutableStateInvariantMiddleware\");\r\n            measureUtils.measureTime(function () {\r\n                state = getState();\r\n                result = tracker.detectMutations();\r\n                tracker = track(state);\r\n                invariant(!result.wasMutated, \"A state mutation was detected between dispatches, in the path '\" + (result.path || \"\") + \"'.  This may cause incorrect behavior. (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)\");\r\n            });\r\n            var dispatchedAction = next(action);\r\n            measureUtils.measureTime(function () {\r\n                state = getState();\r\n                result = tracker.detectMutations();\r\n                tracker = track(state);\r\n                result.wasMutated && invariant(!result.wasMutated, \"A state mutation was detected inside a dispatch, in the path: \" + (result.path || \"\") + \". Take a look at the reducer(s) handling the action \" + stringify(action) + \". (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)\");\r\n            });\r\n            measureUtils.warnIfExceeded();\r\n            return dispatchedAction;\r\n        }; };\r\n    };\r\n}\r\n// src/serializableStateInvariantMiddleware.ts\r\nfunction isPlain(val) {\r\n    var type = typeof val;\r\n    return val == null || type === \"string\" || type === \"boolean\" || type === \"number\" || Array.isArray(val) || isPlainObject(val);\r\n}\r\nfunction findNonSerializableValue(value, path, isSerializable, getEntries, ignoredPaths, cache) {\r\n    if (path === void 0) { path = \"\"; }\r\n    if (isSerializable === void 0) { isSerializable = isPlain; }\r\n    if (ignoredPaths === void 0) { ignoredPaths = []; }\r\n    var foundNestedSerializable;\r\n    if (!isSerializable(value)) {\r\n        return {\r\n            keyPath: path || \"<root>\",\r\n            value: value\r\n        };\r\n    }\r\n    if (typeof value !== \"object\" || value === null) {\r\n        return false;\r\n    }\r\n    if (cache == null ? void 0 : cache.has(value))\r\n        return false;\r\n    var entries = getEntries != null ? getEntries(value) : Object.entries(value);\r\n    var hasIgnoredPaths = ignoredPaths.length > 0;\r\n    var _loop_2 = function (key, nestedValue) {\r\n        var nestedPath = path ? path + \".\" + key : key;\r\n        if (hasIgnoredPaths) {\r\n            var hasMatches = ignoredPaths.some(function (ignored) {\r\n                if (ignored instanceof RegExp) {\r\n                    return ignored.test(nestedPath);\r\n                }\r\n                return nestedPath === ignored;\r\n            });\r\n            if (hasMatches) {\r\n                return \"continue\";\r\n            }\r\n        }\r\n        if (!isSerializable(nestedValue)) {\r\n            return { value: {\r\n                    keyPath: nestedPath,\r\n                    value: nestedValue\r\n                } };\r\n        }\r\n        if (typeof nestedValue === \"object\") {\r\n            foundNestedSerializable = findNonSerializableValue(nestedValue, nestedPath, isSerializable, getEntries, ignoredPaths, cache);\r\n            if (foundNestedSerializable) {\r\n                return { value: foundNestedSerializable };\r\n            }\r\n        }\r\n    };\r\n    for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\r\n        var _c = entries_1[_i], key = _c[0], nestedValue = _c[1];\r\n        var state_2 = _loop_2(key, nestedValue);\r\n        if (typeof state_2 === \"object\")\r\n            return state_2.value;\r\n    }\r\n    if (cache && isNestedFrozen(value))\r\n        cache.add(value);\r\n    return false;\r\n}\r\nfunction isNestedFrozen(value) {\r\n    if (!Object.isFrozen(value))\r\n        return false;\r\n    for (var _i = 0, _c = Object.values(value); _i < _c.length; _i++) {\r\n        var nestedValue = _c[_i];\r\n        if (typeof nestedValue !== \"object\" || nestedValue === null)\r\n            continue;\r\n        if (!isNestedFrozen(nestedValue))\r\n            return false;\r\n    }\r\n    return true;\r\n}\r\nfunction createSerializableStateInvariantMiddleware(options) {\r\n    if (options === void 0) { options = {}; }\r\n    if (process.env.NODE_ENV === \"production\") {\r\n        return function () { return function (next) { return function (action) { return next(action); }; }; };\r\n    }\r\n    var _c = options.isSerializable, isSerializable = _c === void 0 ? isPlain : _c, getEntries = options.getEntries, _d = options.ignoredActions, ignoredActions = _d === void 0 ? [] : _d, _e = options.ignoredActionPaths, ignoredActionPaths = _e === void 0 ? [\"meta.arg\", \"meta.baseQueryMeta\"] : _e, _f = options.ignoredPaths, ignoredPaths = _f === void 0 ? [] : _f, _g = options.warnAfter, warnAfter = _g === void 0 ? 32 : _g, _h = options.ignoreState, ignoreState = _h === void 0 ? false : _h, _j = options.ignoreActions, ignoreActions = _j === void 0 ? false : _j, _k = options.disableCache, disableCache = _k === void 0 ? false : _k;\r\n    var cache = !disableCache && WeakSet ? new WeakSet() : void 0;\r\n    return function (storeAPI) { return function (next) { return function (action) {\r\n        var result = next(action);\r\n        var measureUtils = getTimeMeasureUtils(warnAfter, \"SerializableStateInvariantMiddleware\");\r\n        if (!ignoreActions && !(ignoredActions.length && ignoredActions.indexOf(action.type) !== -1)) {\r\n            measureUtils.measureTime(function () {\r\n                var foundActionNonSerializableValue = findNonSerializableValue(action, \"\", isSerializable, getEntries, ignoredActionPaths, cache);\r\n                if (foundActionNonSerializableValue) {\r\n                    var keyPath = foundActionNonSerializableValue.keyPath, value = foundActionNonSerializableValue.value;\r\n                    console.error(\"A non-serializable value was detected in an action, in the path: `\" + keyPath + \"`. Value:\", value, \"\\nTake a look at the logic that dispatched this action: \", action, \"\\n(See https://redux.js.org/faq/actions#why-should-type-be-a-string-or-at-least-serializable-why-should-my-action-types-be-constants)\", \"\\n(To allow non-serializable values see: https://redux-toolkit.js.org/usage/usage-guide#working-with-non-serializable-data)\");\r\n                }\r\n            });\r\n        }\r\n        if (!ignoreState) {\r\n            measureUtils.measureTime(function () {\r\n                var state = storeAPI.getState();\r\n                var foundStateNonSerializableValue = findNonSerializableValue(state, \"\", isSerializable, getEntries, ignoredPaths, cache);\r\n                if (foundStateNonSerializableValue) {\r\n                    var keyPath = foundStateNonSerializableValue.keyPath, value = foundStateNonSerializableValue.value;\r\n                    console.error(\"A non-serializable value was detected in the state, in the path: `\" + keyPath + \"`. Value:\", value, \"\\nTake a look at the reducer(s) handling this action type: \" + action.type + \".\\n(See https://redux.js.org/faq/organizing-state#can-i-put-functions-promises-or-other-non-serializable-items-in-my-store-state)\");\r\n                }\r\n            });\r\n            measureUtils.warnIfExceeded();\r\n        }\r\n        return result;\r\n    }; }; };\r\n}\r\n// src/getDefaultMiddleware.ts\r\nfunction isBoolean(x) {\r\n    return typeof x === \"boolean\";\r\n}\r\nfunction curryGetDefaultMiddleware() {\r\n    return function curriedGetDefaultMiddleware(options) {\r\n        return getDefaultMiddleware(options);\r\n    };\r\n}\r\nfunction getDefaultMiddleware(options) {\r\n    if (options === void 0) { options = {}; }\r\n    var _c = options.thunk, thunk = _c === void 0 ? true : _c, _d = options.immutableCheck, immutableCheck = _d === void 0 ? true : _d, _e = options.serializableCheck, serializableCheck = _e === void 0 ? true : _e, _f = options.actionCreatorCheck, actionCreatorCheck = _f === void 0 ? true : _f;\r\n    var middlewareArray = new MiddlewareArray();\r\n    if (thunk) {\r\n        if (isBoolean(thunk)) {\r\n            middlewareArray.push(thunkMiddleware);\r\n        }\r\n        else {\r\n            middlewareArray.push(thunkMiddleware.withExtraArgument(thunk.extraArgument));\r\n        }\r\n    }\r\n    if (process.env.NODE_ENV !== \"production\") {\r\n        if (immutableCheck) {\r\n            var immutableOptions = {};\r\n            if (!isBoolean(immutableCheck)) {\r\n                immutableOptions = immutableCheck;\r\n            }\r\n            middlewareArray.unshift(createImmutableStateInvariantMiddleware(immutableOptions));\r\n        }\r\n        if (serializableCheck) {\r\n            var serializableOptions = {};\r\n            if (!isBoolean(serializableCheck)) {\r\n                serializableOptions = serializableCheck;\r\n            }\r\n            middlewareArray.push(createSerializableStateInvariantMiddleware(serializableOptions));\r\n        }\r\n        if (actionCreatorCheck) {\r\n            var actionCreatorOptions = {};\r\n            if (!isBoolean(actionCreatorCheck)) {\r\n                actionCreatorOptions = actionCreatorCheck;\r\n            }\r\n            middlewareArray.unshift(createActionCreatorInvariantMiddleware(actionCreatorOptions));\r\n        }\r\n    }\r\n    return middlewareArray;\r\n}\r\n// src/configureStore.ts\r\nvar IS_PRODUCTION = process.env.NODE_ENV === \"production\";\r\nfunction configureStore(options) {\r\n    var curriedGetDefaultMiddleware = curryGetDefaultMiddleware();\r\n    var _c = options || {}, _d = _c.reducer, reducer = _d === void 0 ? void 0 : _d, _e = _c.middleware, middleware = _e === void 0 ? curriedGetDefaultMiddleware() : _e, _f = _c.devTools, devTools = _f === void 0 ? true : _f, _g = _c.preloadedState, preloadedState = _g === void 0 ? void 0 : _g, _h = _c.enhancers, enhancers = _h === void 0 ? void 0 : _h;\r\n    var rootReducer;\r\n    if (typeof reducer === \"function\") {\r\n        rootReducer = reducer;\r\n    }\r\n    else if (isPlainObject(reducer)) {\r\n        rootReducer = combineReducers(reducer);\r\n    }\r\n    else {\r\n        throw new Error('\"reducer\" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');\r\n    }\r\n    var finalMiddleware = middleware;\r\n    if (typeof finalMiddleware === \"function\") {\r\n        finalMiddleware = finalMiddleware(curriedGetDefaultMiddleware);\r\n        if (!IS_PRODUCTION && !Array.isArray(finalMiddleware)) {\r\n            throw new Error(\"when using a middleware builder function, an array of middleware must be returned\");\r\n        }\r\n    }\r\n    if (!IS_PRODUCTION && finalMiddleware.some(function (item) { return typeof item !== \"function\"; })) {\r\n        throw new Error(\"each middleware provided to configureStore must be a function\");\r\n    }\r\n    var middlewareEnhancer = applyMiddleware.apply(void 0, finalMiddleware);\r\n    var finalCompose = compose2;\r\n    if (devTools) {\r\n        finalCompose = composeWithDevTools(__spreadValues({\r\n            trace: !IS_PRODUCTION\r\n        }, typeof devTools === \"object\" && devTools));\r\n    }\r\n    var defaultEnhancers = new EnhancerArray(middlewareEnhancer);\r\n    var storeEnhancers = defaultEnhancers;\r\n    if (Array.isArray(enhancers)) {\r\n        storeEnhancers = __spreadArray([middlewareEnhancer], enhancers);\r\n    }\r\n    else if (typeof enhancers === \"function\") {\r\n        storeEnhancers = enhancers(defaultEnhancers);\r\n    }\r\n    var composedEnhancer = finalCompose.apply(void 0, storeEnhancers);\r\n    return createStore(rootReducer, preloadedState, composedEnhancer);\r\n}\r\n// src/createReducer.ts\r\nimport createNextState2, { isDraft as isDraft2, isDraftable as isDraftable2 } from \"immer\";\r\n// src/mapBuilders.ts\r\nfunction executeReducerBuilderCallback(builderCallback) {\r\n    var actionsMap = {};\r\n    var actionMatchers = [];\r\n    var defaultCaseReducer;\r\n    var builder = {\r\n        addCase: function (typeOrActionCreator, reducer) {\r\n            if (process.env.NODE_ENV !== \"production\") {\r\n                if (actionMatchers.length > 0) {\r\n                    throw new Error(\"`builder.addCase` should only be called before calling `builder.addMatcher`\");\r\n                }\r\n                if (defaultCaseReducer) {\r\n                    throw new Error(\"`builder.addCase` should only be called before calling `builder.addDefaultCase`\");\r\n                }\r\n            }\r\n            var type = typeof typeOrActionCreator === \"string\" ? typeOrActionCreator : typeOrActionCreator.type;\r\n            if (!type) {\r\n                throw new Error(\"`builder.addCase` cannot be called with an empty action type\");\r\n            }\r\n            if (type in actionsMap) {\r\n                throw new Error(\"`builder.addCase` cannot be called with two reducers for the same action type\");\r\n            }\r\n            actionsMap[type] = reducer;\r\n            return builder;\r\n        },\r\n        addMatcher: function (matcher, reducer) {\r\n            if (process.env.NODE_ENV !== \"production\") {\r\n                if (defaultCaseReducer) {\r\n                    throw new Error(\"`builder.addMatcher` should only be called before calling `builder.addDefaultCase`\");\r\n                }\r\n            }\r\n            actionMatchers.push({ matcher: matcher, reducer: reducer });\r\n            return builder;\r\n        },\r\n        addDefaultCase: function (reducer) {\r\n            if (process.env.NODE_ENV !== \"production\") {\r\n                if (defaultCaseReducer) {\r\n                    throw new Error(\"`builder.addDefaultCase` can only be called once\");\r\n                }\r\n            }\r\n            defaultCaseReducer = reducer;\r\n            return builder;\r\n        }\r\n    };\r\n    builderCallback(builder);\r\n    return [actionsMap, actionMatchers, defaultCaseReducer];\r\n}\r\n// src/createReducer.ts\r\nfunction isStateFunction(x) {\r\n    return typeof x === \"function\";\r\n}\r\nvar hasWarnedAboutObjectNotation = false;\r\nfunction createReducer(initialState, mapOrBuilderCallback, actionMatchers, defaultCaseReducer) {\r\n    if (actionMatchers === void 0) { actionMatchers = []; }\r\n    if (process.env.NODE_ENV !== \"production\") {\r\n        if (typeof mapOrBuilderCallback === \"object\") {\r\n            if (!hasWarnedAboutObjectNotation) {\r\n                hasWarnedAboutObjectNotation = true;\r\n                console.warn(\"The object notation for `createReducer` is deprecated, and will be removed in RTK 2.0. Please use the 'builder callback' notation instead: https://redux-toolkit.js.org/api/createReducer\");\r\n            }\r\n        }\r\n    }\r\n    var _c = typeof mapOrBuilderCallback === \"function\" ? executeReducerBuilderCallback(mapOrBuilderCallback) : [mapOrBuilderCallback, actionMatchers, defaultCaseReducer], actionsMap = _c[0], finalActionMatchers = _c[1], finalDefaultCaseReducer = _c[2];\r\n    var getInitialState;\r\n    if (isStateFunction(initialState)) {\r\n        getInitialState = function () { return freezeDraftable(initialState()); };\r\n    }\r\n    else {\r\n        var frozenInitialState_1 = freezeDraftable(initialState);\r\n        getInitialState = function () { return frozenInitialState_1; };\r\n    }\r\n    function reducer(state, action) {\r\n        if (state === void 0) { state = getInitialState(); }\r\n        var caseReducers = __spreadArray([\r\n            actionsMap[action.type]\r\n        ], finalActionMatchers.filter(function (_c) {\r\n            var matcher = _c.matcher;\r\n            return matcher(action);\r\n        }).map(function (_c) {\r\n            var reducer2 = _c.reducer;\r\n            return reducer2;\r\n        }));\r\n        if (caseReducers.filter(function (cr) { return !!cr; }).length === 0) {\r\n            caseReducers = [finalDefaultCaseReducer];\r\n        }\r\n        return caseReducers.reduce(function (previousState, caseReducer) {\r\n            if (caseReducer) {\r\n                if (isDraft2(previousState)) {\r\n                    var draft = previousState;\r\n                    var result = caseReducer(draft, action);\r\n                    if (result === void 0) {\r\n                        return previousState;\r\n                    }\r\n                    return result;\r\n                }\r\n                else if (!isDraftable2(previousState)) {\r\n                    var result = caseReducer(previousState, action);\r\n                    if (result === void 0) {\r\n                        if (previousState === null) {\r\n                            return previousState;\r\n                        }\r\n                        throw Error(\"A case reducer on a non-draftable value must not return undefined\");\r\n                    }\r\n                    return result;\r\n                }\r\n                else {\r\n                    return createNextState2(previousState, function (draft) {\r\n                        return caseReducer(draft, action);\r\n                    });\r\n                }\r\n            }\r\n            return previousState;\r\n        }, state);\r\n    }\r\n    reducer.getInitialState = getInitialState;\r\n    return reducer;\r\n}\r\n// src/createSlice.ts\r\nvar hasWarnedAboutObjectNotation2 = false;\r\nfunction getType2(slice, actionKey) {\r\n    return slice + \"/\" + actionKey;\r\n}\r\nfunction createSlice(options) {\r\n    var name = options.name;\r\n    if (!name) {\r\n        throw new Error(\"`name` is a required option for createSlice\");\r\n    }\r\n    if (typeof process !== \"undefined\" && process.env.NODE_ENV === \"development\") {\r\n        if (options.initialState === void 0) {\r\n            console.error(\"You must provide an `initialState` value that is not `undefined`. You may have misspelled `initialState`\");\r\n        }\r\n    }\r\n    var initialState = typeof options.initialState == \"function\" ? options.initialState : freezeDraftable(options.initialState);\r\n    var reducers = options.reducers || {};\r\n    var reducerNames = Object.keys(reducers);\r\n    var sliceCaseReducersByName = {};\r\n    var sliceCaseReducersByType = {};\r\n    var actionCreators = {};\r\n    reducerNames.forEach(function (reducerName) {\r\n        var maybeReducerWithPrepare = reducers[reducerName];\r\n        var type = getType2(name, reducerName);\r\n        var caseReducer;\r\n        var prepareCallback;\r\n        if (\"reducer\" in maybeReducerWithPrepare) {\r\n            caseReducer = maybeReducerWithPrepare.reducer;\r\n            prepareCallback = maybeReducerWithPrepare.prepare;\r\n        }\r\n        else {\r\n            caseReducer = maybeReducerWithPrepare;\r\n        }\r\n        sliceCaseReducersByName[reducerName] = caseReducer;\r\n        sliceCaseReducersByType[type] = caseReducer;\r\n        actionCreators[reducerName] = prepareCallback ? createAction(type, prepareCallback) : createAction(type);\r\n    });\r\n    function buildReducer() {\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            if (typeof options.extraReducers === \"object\") {\r\n                if (!hasWarnedAboutObjectNotation2) {\r\n                    hasWarnedAboutObjectNotation2 = true;\r\n                    console.warn(\"The object notation for `createSlice.extraReducers` is deprecated, and will be removed in RTK 2.0. Please use the 'builder callback' notation instead: https://redux-toolkit.js.org/api/createSlice\");\r\n                }\r\n            }\r\n        }\r\n        var _c = typeof options.extraReducers === \"function\" ? executeReducerBuilderCallback(options.extraReducers) : [options.extraReducers], _d = _c[0], extraReducers = _d === void 0 ? {} : _d, _e = _c[1], actionMatchers = _e === void 0 ? [] : _e, _f = _c[2], defaultCaseReducer = _f === void 0 ? void 0 : _f;\r\n        var finalCaseReducers = __spreadValues(__spreadValues({}, extraReducers), sliceCaseReducersByType);\r\n        return createReducer(initialState, function (builder) {\r\n            for (var key in finalCaseReducers) {\r\n                builder.addCase(key, finalCaseReducers[key]);\r\n            }\r\n            for (var _i = 0, actionMatchers_1 = actionMatchers; _i < actionMatchers_1.length; _i++) {\r\n                var m = actionMatchers_1[_i];\r\n                builder.addMatcher(m.matcher, m.reducer);\r\n            }\r\n            if (defaultCaseReducer) {\r\n                builder.addDefaultCase(defaultCaseReducer);\r\n            }\r\n        });\r\n    }\r\n    var _reducer;\r\n    return {\r\n        name: name,\r\n        reducer: function (state, action) {\r\n            if (!_reducer)\r\n                _reducer = buildReducer();\r\n            return _reducer(state, action);\r\n        },\r\n        actions: actionCreators,\r\n        caseReducers: sliceCaseReducersByName,\r\n        getInitialState: function () {\r\n            if (!_reducer)\r\n                _reducer = buildReducer();\r\n            return _reducer.getInitialState();\r\n        }\r\n    };\r\n}\r\n// src/entities/entity_state.ts\r\nfunction getInitialEntityState() {\r\n    return {\r\n        ids: [],\r\n        entities: {}\r\n    };\r\n}\r\nfunction createInitialStateFactory() {\r\n    function getInitialState(additionalState) {\r\n        if (additionalState === void 0) { additionalState = {}; }\r\n        return Object.assign(getInitialEntityState(), additionalState);\r\n    }\r\n    return { getInitialState: getInitialState };\r\n}\r\n// src/entities/state_selectors.ts\r\nfunction createSelectorsFactory() {\r\n    function getSelectors(selectState) {\r\n        var selectIds = function (state) { return state.ids; };\r\n        var selectEntities = function (state) { return state.entities; };\r\n        var selectAll = createDraftSafeSelector(selectIds, selectEntities, function (ids, entities) { return ids.map(function (id) { return entities[id]; }); });\r\n        var selectId = function (_, id) { return id; };\r\n        var selectById = function (entities, id) { return entities[id]; };\r\n        var selectTotal = createDraftSafeSelector(selectIds, function (ids) { return ids.length; });\r\n        if (!selectState) {\r\n            return {\r\n                selectIds: selectIds,\r\n                selectEntities: selectEntities,\r\n                selectAll: selectAll,\r\n                selectTotal: selectTotal,\r\n                selectById: createDraftSafeSelector(selectEntities, selectId, selectById)\r\n            };\r\n        }\r\n        var selectGlobalizedEntities = createDraftSafeSelector(selectState, selectEntities);\r\n        return {\r\n            selectIds: createDraftSafeSelector(selectState, selectIds),\r\n            selectEntities: selectGlobalizedEntities,\r\n            selectAll: createDraftSafeSelector(selectState, selectAll),\r\n            selectTotal: createDraftSafeSelector(selectState, selectTotal),\r\n            selectById: createDraftSafeSelector(selectGlobalizedEntities, selectId, selectById)\r\n        };\r\n    }\r\n    return { getSelectors: getSelectors };\r\n}\r\n// src/entities/state_adapter.ts\r\nimport createNextState3, { isDraft as isDraft3 } from \"immer\";\r\nfunction createSingleArgumentStateOperator(mutator) {\r\n    var operator = createStateOperator(function (_, state) { return mutator(state); });\r\n    return function operation(state) {\r\n        return operator(state, void 0);\r\n    };\r\n}\r\nfunction createStateOperator(mutator) {\r\n    return function operation(state, arg) {\r\n        function isPayloadActionArgument(arg2) {\r\n            return isFSA(arg2);\r\n        }\r\n        var runMutator = function (draft) {\r\n            if (isPayloadActionArgument(arg)) {\r\n                mutator(arg.payload, draft);\r\n            }\r\n            else {\r\n                mutator(arg, draft);\r\n            }\r\n        };\r\n        if (isDraft3(state)) {\r\n            runMutator(state);\r\n            return state;\r\n        }\r\n        else {\r\n            return createNextState3(state, runMutator);\r\n        }\r\n    };\r\n}\r\n// src/entities/utils.ts\r\nfunction selectIdValue(entity, selectId) {\r\n    var key = selectId(entity);\r\n    if (process.env.NODE_ENV !== \"production\" && key === void 0) {\r\n        console.warn(\"The entity passed to the `selectId` implementation returned undefined.\", \"You should probably provide your own `selectId` implementation.\", \"The entity that was passed:\", entity, \"The `selectId` implementation:\", selectId.toString());\r\n    }\r\n    return key;\r\n}\r\nfunction ensureEntitiesArray(entities) {\r\n    if (!Array.isArray(entities)) {\r\n        entities = Object.values(entities);\r\n    }\r\n    return entities;\r\n}\r\nfunction splitAddedUpdatedEntities(newEntities, selectId, state) {\r\n    newEntities = ensureEntitiesArray(newEntities);\r\n    var added = [];\r\n    var updated = [];\r\n    for (var _i = 0, newEntities_1 = newEntities; _i < newEntities_1.length; _i++) {\r\n        var entity = newEntities_1[_i];\r\n        var id = selectIdValue(entity, selectId);\r\n        if (id in state.entities) {\r\n            updated.push({ id: id, changes: entity });\r\n        }\r\n        else {\r\n            added.push(entity);\r\n        }\r\n    }\r\n    return [added, updated];\r\n}\r\n// src/entities/unsorted_state_adapter.ts\r\nfunction createUnsortedStateAdapter(selectId) {\r\n    function addOneMutably(entity, state) {\r\n        var key = selectIdValue(entity, selectId);\r\n        if (key in state.entities) {\r\n            return;\r\n        }\r\n        state.ids.push(key);\r\n        state.entities[key] = entity;\r\n    }\r\n    function addManyMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        for (var _i = 0, newEntities_2 = newEntities; _i < newEntities_2.length; _i++) {\r\n            var entity = newEntities_2[_i];\r\n            addOneMutably(entity, state);\r\n        }\r\n    }\r\n    function setOneMutably(entity, state) {\r\n        var key = selectIdValue(entity, selectId);\r\n        if (!(key in state.entities)) {\r\n            state.ids.push(key);\r\n        }\r\n        state.entities[key] = entity;\r\n    }\r\n    function setManyMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        for (var _i = 0, newEntities_3 = newEntities; _i < newEntities_3.length; _i++) {\r\n            var entity = newEntities_3[_i];\r\n            setOneMutably(entity, state);\r\n        }\r\n    }\r\n    function setAllMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        state.ids = [];\r\n        state.entities = {};\r\n        addManyMutably(newEntities, state);\r\n    }\r\n    function removeOneMutably(key, state) {\r\n        return removeManyMutably([key], state);\r\n    }\r\n    function removeManyMutably(keys, state) {\r\n        var didMutate = false;\r\n        keys.forEach(function (key) {\r\n            if (key in state.entities) {\r\n                delete state.entities[key];\r\n                didMutate = true;\r\n            }\r\n        });\r\n        if (didMutate) {\r\n            state.ids = state.ids.filter(function (id) { return id in state.entities; });\r\n        }\r\n    }\r\n    function removeAllMutably(state) {\r\n        Object.assign(state, {\r\n            ids: [],\r\n            entities: {}\r\n        });\r\n    }\r\n    function takeNewKey(keys, update, state) {\r\n        var original2 = state.entities[update.id];\r\n        var updated = Object.assign({}, original2, update.changes);\r\n        var newKey = selectIdValue(updated, selectId);\r\n        var hasNewKey = newKey !== update.id;\r\n        if (hasNewKey) {\r\n            keys[update.id] = newKey;\r\n            delete state.entities[update.id];\r\n        }\r\n        state.entities[newKey] = updated;\r\n        return hasNewKey;\r\n    }\r\n    function updateOneMutably(update, state) {\r\n        return updateManyMutably([update], state);\r\n    }\r\n    function updateManyMutably(updates, state) {\r\n        var newKeys = {};\r\n        var updatesPerEntity = {};\r\n        updates.forEach(function (update) {\r\n            if (update.id in state.entities) {\r\n                updatesPerEntity[update.id] = {\r\n                    id: update.id,\r\n                    changes: __spreadValues(__spreadValues({}, updatesPerEntity[update.id] ? updatesPerEntity[update.id].changes : null), update.changes)\r\n                };\r\n            }\r\n        });\r\n        updates = Object.values(updatesPerEntity);\r\n        var didMutateEntities = updates.length > 0;\r\n        if (didMutateEntities) {\r\n            var didMutateIds = updates.filter(function (update) { return takeNewKey(newKeys, update, state); }).length > 0;\r\n            if (didMutateIds) {\r\n                state.ids = Object.keys(state.entities);\r\n            }\r\n        }\r\n    }\r\n    function upsertOneMutably(entity, state) {\r\n        return upsertManyMutably([entity], state);\r\n    }\r\n    function upsertManyMutably(newEntities, state) {\r\n        var _c = splitAddedUpdatedEntities(newEntities, selectId, state), added = _c[0], updated = _c[1];\r\n        updateManyMutably(updated, state);\r\n        addManyMutably(added, state);\r\n    }\r\n    return {\r\n        removeAll: createSingleArgumentStateOperator(removeAllMutably),\r\n        addOne: createStateOperator(addOneMutably),\r\n        addMany: createStateOperator(addManyMutably),\r\n        setOne: createStateOperator(setOneMutably),\r\n        setMany: createStateOperator(setManyMutably),\r\n        setAll: createStateOperator(setAllMutably),\r\n        updateOne: createStateOperator(updateOneMutably),\r\n        updateMany: createStateOperator(updateManyMutably),\r\n        upsertOne: createStateOperator(upsertOneMutably),\r\n        upsertMany: createStateOperator(upsertManyMutably),\r\n        removeOne: createStateOperator(removeOneMutably),\r\n        removeMany: createStateOperator(removeManyMutably)\r\n    };\r\n}\r\n// src/entities/sorted_state_adapter.ts\r\nfunction createSortedStateAdapter(selectId, sort) {\r\n    var _c = createUnsortedStateAdapter(selectId), removeOne = _c.removeOne, removeMany = _c.removeMany, removeAll = _c.removeAll;\r\n    function addOneMutably(entity, state) {\r\n        return addManyMutably([entity], state);\r\n    }\r\n    function addManyMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        var models = newEntities.filter(function (model) { return !(selectIdValue(model, selectId) in state.entities); });\r\n        if (models.length !== 0) {\r\n            merge(models, state);\r\n        }\r\n    }\r\n    function setOneMutably(entity, state) {\r\n        return setManyMutably([entity], state);\r\n    }\r\n    function setManyMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        if (newEntities.length !== 0) {\r\n            merge(newEntities, state);\r\n        }\r\n    }\r\n    function setAllMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        state.entities = {};\r\n        state.ids = [];\r\n        addManyMutably(newEntities, state);\r\n    }\r\n    function updateOneMutably(update, state) {\r\n        return updateManyMutably([update], state);\r\n    }\r\n    function updateManyMutably(updates, state) {\r\n        var appliedUpdates = false;\r\n        for (var _i = 0, updates_1 = updates; _i < updates_1.length; _i++) {\r\n            var update = updates_1[_i];\r\n            var entity = state.entities[update.id];\r\n            if (!entity) {\r\n                continue;\r\n            }\r\n            appliedUpdates = true;\r\n            Object.assign(entity, update.changes);\r\n            var newId = selectId(entity);\r\n            if (update.id !== newId) {\r\n                delete state.entities[update.id];\r\n                state.entities[newId] = entity;\r\n            }\r\n        }\r\n        if (appliedUpdates) {\r\n            resortEntities(state);\r\n        }\r\n    }\r\n    function upsertOneMutably(entity, state) {\r\n        return upsertManyMutably([entity], state);\r\n    }\r\n    function upsertManyMutably(newEntities, state) {\r\n        var _c = splitAddedUpdatedEntities(newEntities, selectId, state), added = _c[0], updated = _c[1];\r\n        updateManyMutably(updated, state);\r\n        addManyMutably(added, state);\r\n    }\r\n    function areArraysEqual(a, b) {\r\n        if (a.length !== b.length) {\r\n            return false;\r\n        }\r\n        for (var i = 0; i < a.length && i < b.length; i++) {\r\n            if (a[i] === b[i]) {\r\n                continue;\r\n            }\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    function merge(models, state) {\r\n        models.forEach(function (model) {\r\n            state.entities[selectId(model)] = model;\r\n        });\r\n        resortEntities(state);\r\n    }\r\n    function resortEntities(state) {\r\n        var allEntities = Object.values(state.entities);\r\n        allEntities.sort(sort);\r\n        var newSortedIds = allEntities.map(selectId);\r\n        var ids = state.ids;\r\n        if (!areArraysEqual(ids, newSortedIds)) {\r\n            state.ids = newSortedIds;\r\n        }\r\n    }\r\n    return {\r\n        removeOne: removeOne,\r\n        removeMany: removeMany,\r\n        removeAll: removeAll,\r\n        addOne: createStateOperator(addOneMutably),\r\n        updateOne: createStateOperator(updateOneMutably),\r\n        upsertOne: createStateOperator(upsertOneMutably),\r\n        setOne: createStateOperator(setOneMutably),\r\n        setMany: createStateOperator(setManyMutably),\r\n        setAll: createStateOperator(setAllMutably),\r\n        addMany: createStateOperator(addManyMutably),\r\n        updateMany: createStateOperator(updateManyMutably),\r\n        upsertMany: createStateOperator(upsertManyMutably)\r\n    };\r\n}\r\n// src/entities/create_adapter.ts\r\nfunction createEntityAdapter(options) {\r\n    if (options === void 0) { options = {}; }\r\n    var _c = __spreadValues({\r\n        sortComparer: false,\r\n        selectId: function (instance) { return instance.id; }\r\n    }, options), selectId = _c.selectId, sortComparer = _c.sortComparer;\r\n    var stateFactory = createInitialStateFactory();\r\n    var selectorsFactory = createSelectorsFactory();\r\n    var stateAdapter = sortComparer ? createSortedStateAdapter(selectId, sortComparer) : createUnsortedStateAdapter(selectId);\r\n    return __spreadValues(__spreadValues(__spreadValues({\r\n        selectId: selectId,\r\n        sortComparer: sortComparer\r\n    }, stateFactory), selectorsFactory), stateAdapter);\r\n}\r\n// src/nanoid.ts\r\nvar urlAlphabet = \"ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW\";\r\nvar nanoid = function (size) {\r\n    if (size === void 0) { size = 21; }\r\n    var id = \"\";\r\n    var i = size;\r\n    while (i--) {\r\n        id += urlAlphabet[Math.random() * 64 | 0];\r\n    }\r\n    return id;\r\n};\r\n// src/createAsyncThunk.ts\r\nvar commonProperties = [\r\n    \"name\",\r\n    \"message\",\r\n    \"stack\",\r\n    \"code\"\r\n];\r\nvar RejectWithValue = /** @class */ (function () {\r\n    function RejectWithValue(payload, meta) {\r\n        this.payload = payload;\r\n        this.meta = meta;\r\n    }\r\n    return RejectWithValue;\r\n}());\r\nvar FulfillWithMeta = /** @class */ (function () {\r\n    function FulfillWithMeta(payload, meta) {\r\n        this.payload = payload;\r\n        this.meta = meta;\r\n    }\r\n    return FulfillWithMeta;\r\n}());\r\nvar miniSerializeError = function (value) {\r\n    if (typeof value === \"object\" && value !== null) {\r\n        var simpleError = {};\r\n        for (var _i = 0, commonProperties_1 = commonProperties; _i < commonProperties_1.length; _i++) {\r\n            var property = commonProperties_1[_i];\r\n            if (typeof value[property] === \"string\") {\r\n                simpleError[property] = value[property];\r\n            }\r\n        }\r\n        return simpleError;\r\n    }\r\n    return { message: String(value) };\r\n};\r\nvar createAsyncThunk = (function () {\r\n    function createAsyncThunk2(typePrefix, payloadCreator, options) {\r\n        var fulfilled = createAction(typePrefix + \"/fulfilled\", function (payload, requestId, arg, meta) { return ({\r\n            payload: payload,\r\n            meta: __spreadProps(__spreadValues({}, meta || {}), {\r\n                arg: arg,\r\n                requestId: requestId,\r\n                requestStatus: \"fulfilled\"\r\n            })\r\n        }); });\r\n        var pending = createAction(typePrefix + \"/pending\", function (requestId, arg, meta) { return ({\r\n            payload: void 0,\r\n            meta: __spreadProps(__spreadValues({}, meta || {}), {\r\n                arg: arg,\r\n                requestId: requestId,\r\n                requestStatus: \"pending\"\r\n            })\r\n        }); });\r\n        var rejected = createAction(typePrefix + \"/rejected\", function (error, requestId, arg, payload, meta) { return ({\r\n            payload: payload,\r\n            error: (options && options.serializeError || miniSerializeError)(error || \"Rejected\"),\r\n            meta: __spreadProps(__spreadValues({}, meta || {}), {\r\n                arg: arg,\r\n                requestId: requestId,\r\n                rejectedWithValue: !!payload,\r\n                requestStatus: \"rejected\",\r\n                aborted: (error == null ? void 0 : error.name) === \"AbortError\",\r\n                condition: (error == null ? void 0 : error.name) === \"ConditionError\"\r\n            })\r\n        }); });\r\n        var displayedWarning = false;\r\n        var AC = typeof AbortController !== \"undefined\" ? AbortController : /** @class */ (function () {\r\n            function class_1() {\r\n                this.signal = {\r\n                    aborted: false,\r\n                    addEventListener: function () {\r\n                    },\r\n                    dispatchEvent: function () {\r\n                        return false;\r\n                    },\r\n                    onabort: function () {\r\n                    },\r\n                    removeEventListener: function () {\r\n                    },\r\n                    reason: void 0,\r\n                    throwIfAborted: function () {\r\n                    }\r\n                };\r\n            }\r\n            class_1.prototype.abort = function () {\r\n                if (process.env.NODE_ENV !== \"production\") {\r\n                    if (!displayedWarning) {\r\n                        displayedWarning = true;\r\n                        console.info(\"This platform does not implement AbortController. \\nIf you want to use the AbortController to react to `abort` events, please consider importing a polyfill like 'abortcontroller-polyfill/dist/abortcontroller-polyfill-only'.\");\r\n                    }\r\n                }\r\n            };\r\n            return class_1;\r\n        }());\r\n        function actionCreator(arg) {\r\n            return function (dispatch, getState, extra) {\r\n                var requestId = (options == null ? void 0 : options.idGenerator) ? options.idGenerator(arg) : nanoid();\r\n                var abortController = new AC();\r\n                var abortReason;\r\n                var started = false;\r\n                function abort(reason) {\r\n                    abortReason = reason;\r\n                    abortController.abort();\r\n                }\r\n                var promise2 = function () {\r\n                    return __async(this, null, function () {\r\n                        var _a, _b, finalAction, conditionResult, abortedPromise, err_1, skipDispatch;\r\n                        return __generator(this, function (_c) {\r\n                            switch (_c.label) {\r\n                                case 0:\r\n                                    _c.trys.push([0, 4, , 5]);\r\n                                    conditionResult = (_a = options == null ? void 0 : options.condition) == null ? void 0 : _a.call(options, arg, { getState: getState, extra: extra });\r\n                                    if (!isThenable(conditionResult)) return [3 /*break*/, 2];\r\n                                    return [4 /*yield*/, conditionResult];\r\n                                case 1:\r\n                                    conditionResult = _c.sent();\r\n                                    _c.label = 2;\r\n                                case 2:\r\n                                    if (conditionResult === false || abortController.signal.aborted) {\r\n                                        throw {\r\n                                            name: \"ConditionError\",\r\n                                            message: \"Aborted due to condition callback returning false.\"\r\n                                        };\r\n                                    }\r\n                                    started = true;\r\n                                    abortedPromise = new Promise(function (_, reject) { return abortController.signal.addEventListener(\"abort\", function () { return reject({\r\n                                        name: \"AbortError\",\r\n                                        message: abortReason || \"Aborted\"\r\n                                    }); }); });\r\n                                    dispatch(pending(requestId, arg, (_b = options == null ? void 0 : options.getPendingMeta) == null ? void 0 : _b.call(options, { requestId: requestId, arg: arg }, { getState: getState, extra: extra })));\r\n                                    return [4 /*yield*/, Promise.race([\r\n                                            abortedPromise,\r\n                                            Promise.resolve(payloadCreator(arg, {\r\n                                                dispatch: dispatch,\r\n                                                getState: getState,\r\n                                                extra: extra,\r\n                                                requestId: requestId,\r\n                                                signal: abortController.signal,\r\n                                                abort: abort,\r\n                                                rejectWithValue: function (value, meta) {\r\n                                                    return new RejectWithValue(value, meta);\r\n                                                },\r\n                                                fulfillWithValue: function (value, meta) {\r\n                                                    return new FulfillWithMeta(value, meta);\r\n                                                }\r\n                                            })).then(function (result) {\r\n                                                if (result instanceof RejectWithValue) {\r\n                                                    throw result;\r\n                                                }\r\n                                                if (result instanceof FulfillWithMeta) {\r\n                                                    return fulfilled(result.payload, requestId, arg, result.meta);\r\n                                                }\r\n                                                return fulfilled(result, requestId, arg);\r\n                                            })\r\n                                        ])];\r\n                                case 3:\r\n                                    finalAction = _c.sent();\r\n                                    return [3 /*break*/, 5];\r\n                                case 4:\r\n                                    err_1 = _c.sent();\r\n                                    finalAction = err_1 instanceof RejectWithValue ? rejected(null, requestId, arg, err_1.payload, err_1.meta) : rejected(err_1, requestId, arg);\r\n                                    return [3 /*break*/, 5];\r\n                                case 5:\r\n                                    skipDispatch = options && !options.dispatchConditionRejection && rejected.match(finalAction) && finalAction.meta.condition;\r\n                                    if (!skipDispatch) {\r\n                                        dispatch(finalAction);\r\n                                    }\r\n                                    return [2 /*return*/, finalAction];\r\n                            }\r\n                        });\r\n                    });\r\n                }();\r\n                return Object.assign(promise2, {\r\n                    abort: abort,\r\n                    requestId: requestId,\r\n                    arg: arg,\r\n                    unwrap: function () {\r\n                        return promise2.then(unwrapResult);\r\n                    }\r\n                });\r\n            };\r\n        }\r\n        return Object.assign(actionCreator, {\r\n            pending: pending,\r\n            rejected: rejected,\r\n            fulfilled: fulfilled,\r\n            typePrefix: typePrefix\r\n        });\r\n    }\r\n    createAsyncThunk2.withTypes = function () { return createAsyncThunk2; };\r\n    return createAsyncThunk2;\r\n})();\r\nfunction unwrapResult(action) {\r\n    if (action.meta && action.meta.rejectedWithValue) {\r\n        throw action.payload;\r\n    }\r\n    if (action.error) {\r\n        throw action.error;\r\n    }\r\n    return action.payload;\r\n}\r\nfunction isThenable(value) {\r\n    return value !== null && typeof value === \"object\" && typeof value.then === \"function\";\r\n}\r\n// src/matchers.ts\r\nvar matches = function (matcher, action) {\r\n    if (hasMatchFunction(matcher)) {\r\n        return matcher.match(action);\r\n    }\r\n    else {\r\n        return matcher(action);\r\n    }\r\n};\r\nfunction isAnyOf() {\r\n    var matchers = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        matchers[_i] = arguments[_i];\r\n    }\r\n    return function (action) {\r\n        return matchers.some(function (matcher) { return matches(matcher, action); });\r\n    };\r\n}\r\nfunction isAllOf() {\r\n    var matchers = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        matchers[_i] = arguments[_i];\r\n    }\r\n    return function (action) {\r\n        return matchers.every(function (matcher) { return matches(matcher, action); });\r\n    };\r\n}\r\nfunction hasExpectedRequestMetadata(action, validStatus) {\r\n    if (!action || !action.meta)\r\n        return false;\r\n    var hasValidRequestId = typeof action.meta.requestId === \"string\";\r\n    var hasValidRequestStatus = validStatus.indexOf(action.meta.requestStatus) > -1;\r\n    return hasValidRequestId && hasValidRequestStatus;\r\n}\r\nfunction isAsyncThunkArray(a) {\r\n    return typeof a[0] === \"function\" && \"pending\" in a[0] && \"fulfilled\" in a[0] && \"rejected\" in a[0];\r\n}\r\nfunction isPending() {\r\n    var asyncThunks = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        asyncThunks[_i] = arguments[_i];\r\n    }\r\n    if (asyncThunks.length === 0) {\r\n        return function (action) { return hasExpectedRequestMetadata(action, [\"pending\"]); };\r\n    }\r\n    if (!isAsyncThunkArray(asyncThunks)) {\r\n        return isPending()(asyncThunks[0]);\r\n    }\r\n    return function (action) {\r\n        var matchers = asyncThunks.map(function (asyncThunk) { return asyncThunk.pending; });\r\n        var combinedMatcher = isAnyOf.apply(void 0, matchers);\r\n        return combinedMatcher(action);\r\n    };\r\n}\r\nfunction isRejected() {\r\n    var asyncThunks = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        asyncThunks[_i] = arguments[_i];\r\n    }\r\n    if (asyncThunks.length === 0) {\r\n        return function (action) { return hasExpectedRequestMetadata(action, [\"rejected\"]); };\r\n    }\r\n    if (!isAsyncThunkArray(asyncThunks)) {\r\n        return isRejected()(asyncThunks[0]);\r\n    }\r\n    return function (action) {\r\n        var matchers = asyncThunks.map(function (asyncThunk) { return asyncThunk.rejected; });\r\n        var combinedMatcher = isAnyOf.apply(void 0, matchers);\r\n        return combinedMatcher(action);\r\n    };\r\n}\r\nfunction isRejectedWithValue() {\r\n    var asyncThunks = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        asyncThunks[_i] = arguments[_i];\r\n    }\r\n    var hasFlag = function (action) {\r\n        return action && action.meta && action.meta.rejectedWithValue;\r\n    };\r\n    if (asyncThunks.length === 0) {\r\n        return function (action) {\r\n            var combinedMatcher = isAllOf(isRejected.apply(void 0, asyncThunks), hasFlag);\r\n            return combinedMatcher(action);\r\n        };\r\n    }\r\n    if (!isAsyncThunkArray(asyncThunks)) {\r\n        return isRejectedWithValue()(asyncThunks[0]);\r\n    }\r\n    return function (action) {\r\n        var combinedMatcher = isAllOf(isRejected.apply(void 0, asyncThunks), hasFlag);\r\n        return combinedMatcher(action);\r\n    };\r\n}\r\nfunction isFulfilled() {\r\n    var asyncThunks = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        asyncThunks[_i] = arguments[_i];\r\n    }\r\n    if (asyncThunks.length === 0) {\r\n        return function (action) { return hasExpectedRequestMetadata(action, [\"fulfilled\"]); };\r\n    }\r\n    if (!isAsyncThunkArray(asyncThunks)) {\r\n        return isFulfilled()(asyncThunks[0]);\r\n    }\r\n    return function (action) {\r\n        var matchers = asyncThunks.map(function (asyncThunk) { return asyncThunk.fulfilled; });\r\n        var combinedMatcher = isAnyOf.apply(void 0, matchers);\r\n        return combinedMatcher(action);\r\n    };\r\n}\r\nfunction isAsyncThunkAction() {\r\n    var asyncThunks = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        asyncThunks[_i] = arguments[_i];\r\n    }\r\n    if (asyncThunks.length === 0) {\r\n        return function (action) { return hasExpectedRequestMetadata(action, [\"pending\", \"fulfilled\", \"rejected\"]); };\r\n    }\r\n    if (!isAsyncThunkArray(asyncThunks)) {\r\n        return isAsyncThunkAction()(asyncThunks[0]);\r\n    }\r\n    return function (action) {\r\n        var matchers = [];\r\n        for (var _i = 0, asyncThunks_1 = asyncThunks; _i < asyncThunks_1.length; _i++) {\r\n            var asyncThunk = asyncThunks_1[_i];\r\n            matchers.push(asyncThunk.pending, asyncThunk.rejected, asyncThunk.fulfilled);\r\n        }\r\n        var combinedMatcher = isAnyOf.apply(void 0, matchers);\r\n        return combinedMatcher(action);\r\n    };\r\n}\r\n// src/listenerMiddleware/utils.ts\r\nvar assertFunction = function (func, expected) {\r\n    if (typeof func !== \"function\") {\r\n        throw new TypeError(expected + \" is not a function\");\r\n    }\r\n};\r\nvar noop = function () {\r\n};\r\nvar catchRejection = function (promise2, onError) {\r\n    if (onError === void 0) { onError = noop; }\r\n    promise2.catch(onError);\r\n    return promise2;\r\n};\r\nvar addAbortSignalListener = function (abortSignal, callback) {\r\n    abortSignal.addEventListener(\"abort\", callback, { once: true });\r\n    return function () { return abortSignal.removeEventListener(\"abort\", callback); };\r\n};\r\nvar abortControllerWithReason = function (abortController, reason) {\r\n    var signal = abortController.signal;\r\n    if (signal.aborted) {\r\n        return;\r\n    }\r\n    if (!(\"reason\" in signal)) {\r\n        Object.defineProperty(signal, \"reason\", {\r\n            enumerable: true,\r\n            value: reason,\r\n            configurable: true,\r\n            writable: true\r\n        });\r\n    }\r\n    ;\r\n    abortController.abort(reason);\r\n};\r\n// src/listenerMiddleware/exceptions.ts\r\nvar task = \"task\";\r\nvar listener = \"listener\";\r\nvar completed = \"completed\";\r\nvar cancelled = \"cancelled\";\r\nvar taskCancelled = \"task-\" + cancelled;\r\nvar taskCompleted = \"task-\" + completed;\r\nvar listenerCancelled = listener + \"-\" + cancelled;\r\nvar listenerCompleted = listener + \"-\" + completed;\r\nvar TaskAbortError = /** @class */ (function () {\r\n    function TaskAbortError(code) {\r\n        this.code = code;\r\n        this.name = \"TaskAbortError\";\r\n        this.message = task + \" \" + cancelled + \" (reason: \" + code + \")\";\r\n    }\r\n    return TaskAbortError;\r\n}());\r\n// src/listenerMiddleware/task.ts\r\nvar validateActive = function (signal) {\r\n    if (signal.aborted) {\r\n        throw new TaskAbortError(signal.reason);\r\n    }\r\n};\r\nfunction raceWithSignal(signal, promise2) {\r\n    var cleanup = noop;\r\n    return new Promise(function (resolve, reject) {\r\n        var notifyRejection = function () { return reject(new TaskAbortError(signal.reason)); };\r\n        if (signal.aborted) {\r\n            notifyRejection();\r\n            return;\r\n        }\r\n        cleanup = addAbortSignalListener(signal, notifyRejection);\r\n        promise2.finally(function () { return cleanup(); }).then(resolve, reject);\r\n    }).finally(function () {\r\n        cleanup = noop;\r\n    });\r\n}\r\nvar runTask = function (task2, cleanUp) { return __async(void 0, null, function () {\r\n    var value, error_1;\r\n    return __generator(this, function (_c) {\r\n        switch (_c.label) {\r\n            case 0:\r\n                _c.trys.push([0, 3, 4, 5]);\r\n                return [4 /*yield*/, Promise.resolve()];\r\n            case 1:\r\n                _c.sent();\r\n                return [4 /*yield*/, task2()];\r\n            case 2:\r\n                value = _c.sent();\r\n                return [2 /*return*/, {\r\n                        status: \"ok\",\r\n                        value: value\r\n                    }];\r\n            case 3:\r\n                error_1 = _c.sent();\r\n                return [2 /*return*/, {\r\n                        status: error_1 instanceof TaskAbortError ? \"cancelled\" : \"rejected\",\r\n                        error: error_1\r\n                    }];\r\n            case 4:\r\n                cleanUp == null ? void 0 : cleanUp();\r\n                return [7 /*endfinally*/];\r\n            case 5: return [2 /*return*/];\r\n        }\r\n    });\r\n}); };\r\nvar createPause = function (signal) {\r\n    return function (promise2) {\r\n        return catchRejection(raceWithSignal(signal, promise2).then(function (output) {\r\n            validateActive(signal);\r\n            return output;\r\n        }));\r\n    };\r\n};\r\nvar createDelay = function (signal) {\r\n    var pause = createPause(signal);\r\n    return function (timeoutMs) {\r\n        return pause(new Promise(function (resolve) { return setTimeout(resolve, timeoutMs); }));\r\n    };\r\n};\r\n// src/listenerMiddleware/index.ts\r\nvar assign = Object.assign;\r\nvar INTERNAL_NIL_TOKEN = {};\r\nvar alm = \"listenerMiddleware\";\r\nvar createFork = function (parentAbortSignal, parentBlockingPromises) {\r\n    var linkControllers = function (controller) { return addAbortSignalListener(parentAbortSignal, function () { return abortControllerWithReason(controller, parentAbortSignal.reason); }); };\r\n    return function (taskExecutor, opts) {\r\n        assertFunction(taskExecutor, \"taskExecutor\");\r\n        var childAbortController = new AbortController();\r\n        linkControllers(childAbortController);\r\n        var result = runTask(function () { return __async(void 0, null, function () {\r\n            var result2;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        validateActive(parentAbortSignal);\r\n                        validateActive(childAbortController.signal);\r\n                        return [4 /*yield*/, taskExecutor({\r\n                                pause: createPause(childAbortController.signal),\r\n                                delay: createDelay(childAbortController.signal),\r\n                                signal: childAbortController.signal\r\n                            })];\r\n                    case 1:\r\n                        result2 = _c.sent();\r\n                        validateActive(childAbortController.signal);\r\n                        return [2 /*return*/, result2];\r\n                }\r\n            });\r\n        }); }, function () { return abortControllerWithReason(childAbortController, taskCompleted); });\r\n        if (opts == null ? void 0 : opts.autoJoin) {\r\n            parentBlockingPromises.push(result);\r\n        }\r\n        return {\r\n            result: createPause(parentAbortSignal)(result),\r\n            cancel: function () {\r\n                abortControllerWithReason(childAbortController, taskCancelled);\r\n            }\r\n        };\r\n    };\r\n};\r\nvar createTakePattern = function (startListening, signal) {\r\n    var take = function (predicate, timeout) { return __async(void 0, null, function () {\r\n        var unsubscribe, tuplePromise, promises, output;\r\n        return __generator(this, function (_c) {\r\n            switch (_c.label) {\r\n                case 0:\r\n                    validateActive(signal);\r\n                    unsubscribe = function () {\r\n                    };\r\n                    tuplePromise = new Promise(function (resolve, reject) {\r\n                        var stopListening = startListening({\r\n                            predicate: predicate,\r\n                            effect: function (action, listenerApi) {\r\n                                listenerApi.unsubscribe();\r\n                                resolve([\r\n                                    action,\r\n                                    listenerApi.getState(),\r\n                                    listenerApi.getOriginalState()\r\n                                ]);\r\n                            }\r\n                        });\r\n                        unsubscribe = function () {\r\n                            stopListening();\r\n                            reject();\r\n                        };\r\n                    });\r\n                    promises = [\r\n                        tuplePromise\r\n                    ];\r\n                    if (timeout != null) {\r\n                        promises.push(new Promise(function (resolve) { return setTimeout(resolve, timeout, null); }));\r\n                    }\r\n                    _c.label = 1;\r\n                case 1:\r\n                    _c.trys.push([1, , 3, 4]);\r\n                    return [4 /*yield*/, raceWithSignal(signal, Promise.race(promises))];\r\n                case 2:\r\n                    output = _c.sent();\r\n                    validateActive(signal);\r\n                    return [2 /*return*/, output];\r\n                case 3:\r\n                    unsubscribe();\r\n                    return [7 /*endfinally*/];\r\n                case 4: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); };\r\n    return function (predicate, timeout) { return catchRejection(take(predicate, timeout)); };\r\n};\r\nvar getListenerEntryPropsFrom = function (options) {\r\n    var type = options.type, actionCreator = options.actionCreator, matcher = options.matcher, predicate = options.predicate, effect = options.effect;\r\n    if (type) {\r\n        predicate = createAction(type).match;\r\n    }\r\n    else if (actionCreator) {\r\n        type = actionCreator.type;\r\n        predicate = actionCreator.match;\r\n    }\r\n    else if (matcher) {\r\n        predicate = matcher;\r\n    }\r\n    else if (predicate) {\r\n    }\r\n    else {\r\n        throw new Error(\"Creating or removing a listener requires one of the known fields for matching an action\");\r\n    }\r\n    assertFunction(effect, \"options.listener\");\r\n    return { predicate: predicate, type: type, effect: effect };\r\n};\r\nvar createListenerEntry = function (options) {\r\n    var _c = getListenerEntryPropsFrom(options), type = _c.type, predicate = _c.predicate, effect = _c.effect;\r\n    var id = nanoid();\r\n    var entry = {\r\n        id: id,\r\n        effect: effect,\r\n        type: type,\r\n        predicate: predicate,\r\n        pending: new Set(),\r\n        unsubscribe: function () {\r\n            throw new Error(\"Unsubscribe not initialized\");\r\n        }\r\n    };\r\n    return entry;\r\n};\r\nvar cancelActiveListeners = function (entry) {\r\n    entry.pending.forEach(function (controller) {\r\n        abortControllerWithReason(controller, listenerCancelled);\r\n    });\r\n};\r\nvar createClearListenerMiddleware = function (listenerMap) {\r\n    return function () {\r\n        listenerMap.forEach(cancelActiveListeners);\r\n        listenerMap.clear();\r\n    };\r\n};\r\nvar safelyNotifyError = function (errorHandler, errorToNotify, errorInfo) {\r\n    try {\r\n        errorHandler(errorToNotify, errorInfo);\r\n    }\r\n    catch (errorHandlerError) {\r\n        setTimeout(function () {\r\n            throw errorHandlerError;\r\n        }, 0);\r\n    }\r\n};\r\nvar addListener = createAction(alm + \"/add\");\r\nvar clearAllListeners = createAction(alm + \"/removeAll\");\r\nvar removeListener = createAction(alm + \"/remove\");\r\nvar defaultErrorHandler = function () {\r\n    var args = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n    }\r\n    console.error.apply(console, __spreadArray([alm + \"/error\"], args));\r\n};\r\nfunction createListenerMiddleware(middlewareOptions) {\r\n    var _this = this;\r\n    if (middlewareOptions === void 0) { middlewareOptions = {}; }\r\n    var listenerMap = new Map();\r\n    var extra = middlewareOptions.extra, _c = middlewareOptions.onError, onError = _c === void 0 ? defaultErrorHandler : _c;\r\n    assertFunction(onError, \"onError\");\r\n    var insertEntry = function (entry) {\r\n        entry.unsubscribe = function () { return listenerMap.delete(entry.id); };\r\n        listenerMap.set(entry.id, entry);\r\n        return function (cancelOptions) {\r\n            entry.unsubscribe();\r\n            if (cancelOptions == null ? void 0 : cancelOptions.cancelActive) {\r\n                cancelActiveListeners(entry);\r\n            }\r\n        };\r\n    };\r\n    var findListenerEntry = function (comparator) {\r\n        for (var _i = 0, _c = Array.from(listenerMap.values()); _i < _c.length; _i++) {\r\n            var entry = _c[_i];\r\n            if (comparator(entry)) {\r\n                return entry;\r\n            }\r\n        }\r\n        return void 0;\r\n    };\r\n    var startListening = function (options) {\r\n        var entry = findListenerEntry(function (existingEntry) { return existingEntry.effect === options.effect; });\r\n        if (!entry) {\r\n            entry = createListenerEntry(options);\r\n        }\r\n        return insertEntry(entry);\r\n    };\r\n    var stopListening = function (options) {\r\n        var _c = getListenerEntryPropsFrom(options), type = _c.type, effect = _c.effect, predicate = _c.predicate;\r\n        var entry = findListenerEntry(function (entry2) {\r\n            var matchPredicateOrType = typeof type === \"string\" ? entry2.type === type : entry2.predicate === predicate;\r\n            return matchPredicateOrType && entry2.effect === effect;\r\n        });\r\n        if (entry) {\r\n            entry.unsubscribe();\r\n            if (options.cancelActive) {\r\n                cancelActiveListeners(entry);\r\n            }\r\n        }\r\n        return !!entry;\r\n    };\r\n    var notifyListener = function (entry, action, api, getOriginalState) { return __async(_this, null, function () {\r\n        var internalTaskController, take, autoJoinPromises, listenerError_1;\r\n        return __generator(this, function (_c) {\r\n            switch (_c.label) {\r\n                case 0:\r\n                    internalTaskController = new AbortController();\r\n                    take = createTakePattern(startListening, internalTaskController.signal);\r\n                    autoJoinPromises = [];\r\n                    _c.label = 1;\r\n                case 1:\r\n                    _c.trys.push([1, 3, 4, 6]);\r\n                    entry.pending.add(internalTaskController);\r\n                    return [4 /*yield*/, Promise.resolve(entry.effect(action, assign({}, api, {\r\n                            getOriginalState: getOriginalState,\r\n                            condition: function (predicate, timeout) { return take(predicate, timeout).then(Boolean); },\r\n                            take: take,\r\n                            delay: createDelay(internalTaskController.signal),\r\n                            pause: createPause(internalTaskController.signal),\r\n                            extra: extra,\r\n                            signal: internalTaskController.signal,\r\n                            fork: createFork(internalTaskController.signal, autoJoinPromises),\r\n                            unsubscribe: entry.unsubscribe,\r\n                            subscribe: function () {\r\n                                listenerMap.set(entry.id, entry);\r\n                            },\r\n                            cancelActiveListeners: function () {\r\n                                entry.pending.forEach(function (controller, _, set) {\r\n                                    if (controller !== internalTaskController) {\r\n                                        abortControllerWithReason(controller, listenerCancelled);\r\n                                        set.delete(controller);\r\n                                    }\r\n                                });\r\n                            }\r\n                        })))];\r\n                case 2:\r\n                    _c.sent();\r\n                    return [3 /*break*/, 6];\r\n                case 3:\r\n                    listenerError_1 = _c.sent();\r\n                    if (!(listenerError_1 instanceof TaskAbortError)) {\r\n                        safelyNotifyError(onError, listenerError_1, {\r\n                            raisedBy: \"effect\"\r\n                        });\r\n                    }\r\n                    return [3 /*break*/, 6];\r\n                case 4: return [4 /*yield*/, Promise.allSettled(autoJoinPromises)];\r\n                case 5:\r\n                    _c.sent();\r\n                    abortControllerWithReason(internalTaskController, listenerCompleted);\r\n                    entry.pending.delete(internalTaskController);\r\n                    return [7 /*endfinally*/];\r\n                case 6: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); };\r\n    var clearListenerMiddleware = createClearListenerMiddleware(listenerMap);\r\n    var middleware = function (api) { return function (next) { return function (action) {\r\n        if (!isAction(action)) {\r\n            return next(action);\r\n        }\r\n        if (addListener.match(action)) {\r\n            return startListening(action.payload);\r\n        }\r\n        if (clearAllListeners.match(action)) {\r\n            clearListenerMiddleware();\r\n            return;\r\n        }\r\n        if (removeListener.match(action)) {\r\n            return stopListening(action.payload);\r\n        }\r\n        var originalState = api.getState();\r\n        var getOriginalState = function () {\r\n            if (originalState === INTERNAL_NIL_TOKEN) {\r\n                throw new Error(alm + \": getOriginalState can only be called synchronously\");\r\n            }\r\n            return originalState;\r\n        };\r\n        var result;\r\n        try {\r\n            result = next(action);\r\n            if (listenerMap.size > 0) {\r\n                var currentState = api.getState();\r\n                var listenerEntries = Array.from(listenerMap.values());\r\n                for (var _i = 0, listenerEntries_1 = listenerEntries; _i < listenerEntries_1.length; _i++) {\r\n                    var entry = listenerEntries_1[_i];\r\n                    var runListener = false;\r\n                    try {\r\n                        runListener = entry.predicate(action, currentState, originalState);\r\n                    }\r\n                    catch (predicateError) {\r\n                        runListener = false;\r\n                        safelyNotifyError(onError, predicateError, {\r\n                            raisedBy: \"predicate\"\r\n                        });\r\n                    }\r\n                    if (!runListener) {\r\n                        continue;\r\n                    }\r\n                    notifyListener(entry, action, api, getOriginalState);\r\n                }\r\n            }\r\n        }\r\n        finally {\r\n            originalState = INTERNAL_NIL_TOKEN;\r\n        }\r\n        return result;\r\n    }; }; };\r\n    return {\r\n        middleware: middleware,\r\n        startListening: startListening,\r\n        stopListening: stopListening,\r\n        clearListeners: clearListenerMiddleware\r\n    };\r\n}\r\n// src/autoBatchEnhancer.ts\r\nvar SHOULD_AUTOBATCH = \"RTK_autoBatch\";\r\nvar prepareAutoBatched = function () { return function (payload) {\r\n    var _c;\r\n    return ({\r\n        payload: payload,\r\n        meta: (_c = {}, _c[SHOULD_AUTOBATCH] = true, _c)\r\n    });\r\n}; };\r\nvar promise;\r\nvar queueMicrotaskShim = typeof queueMicrotask === \"function\" ? queueMicrotask.bind(typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : globalThis) : function (cb) { return (promise || (promise = Promise.resolve())).then(cb).catch(function (err) { return setTimeout(function () {\r\n    throw err;\r\n}, 0); }); };\r\nvar createQueueWithTimer = function (timeout) {\r\n    return function (notify) {\r\n        setTimeout(notify, timeout);\r\n    };\r\n};\r\nvar rAF = typeof window !== \"undefined\" && window.requestAnimationFrame ? window.requestAnimationFrame : createQueueWithTimer(10);\r\nvar autoBatchEnhancer = function (options) {\r\n    if (options === void 0) { options = { type: \"raf\" }; }\r\n    return function (next) { return function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var store = next.apply(void 0, args);\r\n        var notifying = true;\r\n        var shouldNotifyAtEndOfTick = false;\r\n        var notificationQueued = false;\r\n        var listeners = new Set();\r\n        var queueCallback = options.type === \"tick\" ? queueMicrotaskShim : options.type === \"raf\" ? rAF : options.type === \"callback\" ? options.queueNotification : createQueueWithTimer(options.timeout);\r\n        var notifyListeners = function () {\r\n            notificationQueued = false;\r\n            if (shouldNotifyAtEndOfTick) {\r\n                shouldNotifyAtEndOfTick = false;\r\n                listeners.forEach(function (l) { return l(); });\r\n            }\r\n        };\r\n        return Object.assign({}, store, {\r\n            subscribe: function (listener2) {\r\n                var wrappedListener = function () { return notifying && listener2(); };\r\n                var unsubscribe = store.subscribe(wrappedListener);\r\n                listeners.add(listener2);\r\n                return function () {\r\n                    unsubscribe();\r\n                    listeners.delete(listener2);\r\n                };\r\n            },\r\n            dispatch: function (action) {\r\n                var _a;\r\n                try {\r\n                    notifying = !((_a = action == null ? void 0 : action.meta) == null ? void 0 : _a[SHOULD_AUTOBATCH]);\r\n                    shouldNotifyAtEndOfTick = !notifying;\r\n                    if (shouldNotifyAtEndOfTick) {\r\n                        if (!notificationQueued) {\r\n                            notificationQueued = true;\r\n                            queueCallback(notifyListeners);\r\n                        }\r\n                    }\r\n                    return store.dispatch(action);\r\n                }\r\n                finally {\r\n                    notifying = true;\r\n                }\r\n            }\r\n        });\r\n    }; };\r\n};\r\n// src/index.ts\r\nenableES5();\r\nexport { EnhancerArray, MiddlewareArray, SHOULD_AUTOBATCH, TaskAbortError, addListener, autoBatchEnhancer, clearAllListeners, configureStore, createAction, createActionCreatorInvariantMiddleware, createAsyncThunk, createDraftSafeSelector, createEntityAdapter, createImmutableStateInvariantMiddleware, createListenerMiddleware, default2 as createNextState, createReducer, createSelector2 as createSelector, createSerializableStateInvariantMiddleware, createSlice, current2 as current, findNonSerializableValue, freeze, getDefaultMiddleware, getType, isAction, isActionCreator, isAllOf, isAnyOf, isAsyncThunkAction, isDraft4 as isDraft, isFSA as isFluxStandardAction, isFulfilled, isImmutableDefault, isPending, isPlain, isPlainObject, isRejected, isRejectedWithValue, miniSerializeError, nanoid, original, prepareAutoBatched, removeListener, unwrapResult };\r\n//# sourceMappingURL=redux-toolkit.esm.js.map","import { createSlice } from \"@reduxjs/toolkit\";\nimport { useSelector } from \"react-redux\";\nimport { State } from \"./store\";\n\nconst translations: {[lang: string]: {[key: string]: string} } = {\n    ru: {\n        hello: \"Привет\",\n        hello_guest: \"Привет, гость!\",\n        mobile_controls: \"Моибльное управление\",\n        mirrored_controls: \"Отразить управление\",\n        scale_controls: \"Масштаб управления\",\n        enter_name_of_drive: \"Введите название диска\",\n        ws_outdated: \"Необходимо обновить DOS Браузер\",\n        update: \"Обновить\",\n        preloading_sockdrive: \"Загрузка\",\n        filter: \"Фильтр\",\n        add: \"Добавить\",\n        logout: \"Выйти\",\n        features: \"Функции\",\n        premium: \"Подписка\",\n        buy: \"Купить\",\n        experimental_features: \"Доступ к экспериентальным функциям\",\n        cloud_saves: \"Облачные сохранения\",\n        writeable_fat32: \"FAT32 диски\",\n        net_no_limits: \"Выбор сервера для стевой игры\",\n        unlock_options: \"Доступ ко всем настройкам\",\n        error: \"Упс... Что-то пошло не так...\",\n        consult_logs: \"Проверьте логи браузера\",\n        bundle_loading: \"Загрузка бандла\",\n        bundle_config: \"Чтение конфигурации\",\n        try_free: \"дней бесплатно\",\n        upload_file: \"Выбирите архив jsdos/zip что бы начать...\",\n        emulation_backend: \"Эмуляция\",\n        render_backend: \"Рендер\",\n        render_aspect: \"Соотношение сторон\",\n        worker: \"Фоновый поток\",\n        mouse_sensitivity: \"Чувст. мыши\",\n        mouse_lock: \"Захват мыши\",\n        volume: \"Громкость\",\n        pause: \"Пауза\",\n        dosboxconf_template: \"dosbox.conf шаблон:\",\n        preview: \"Превью\",\n        continue: \"Продолжить\",\n        skip: \"Пропустить\",\n        loading: \"Загрузка\",\n        extract_loading: \"Распаковка архива\",\n        extract_long_time: \"Может занять длительное время, пожалуйста ждите...\",\n        theme: \"Тема\",\n        create_empty: \"Создать пустой бандл\",\n        uploading_file: \"Загрузка файла\",\n        fs_restart: \"Вы хотите пересобрать бандл используя эту FS?\",\n        please_wait: \"Пожалуйста подождите\",\n        making_bundle: \"Создаем бандл\",\n        size: \"Размер\",\n        room: \"Команта\",\n        server: \"Сервер\",\n        load_by_url: \"Загрузить по ссылке\",\n        enter_url: \"Введите ссылку\",\n        load: \"Загрузить\",\n        stored: \"Сохраненные\",\n        delete: \"Удалить\",\n        editor: \"Редактор\",\n        download: \"Скачать\",\n        changes: \"Сохранения\",\n        loading_saves: \"Загрузка сохранений\",\n        success: \"Успешно\",\n        success_save: \"Сохранено в облаке\",\n        warn_save: \"Cохранено в браузере (вы не вошли)\",\n        unable_to_save: \"Ошибка записи\",\n        not_premium: \"Подключить подписку\",\n        copy_net_link: \"Отправьте ссылку на подключение\",\n        copied: \"Скопировано\",\n        image_rendering: \"Обработка изображения\",\n        read_only_access: \"Эмуляция Win 9x в режиме только для чтения\",\n        fix: \"Исправить\",\n        close: \"Закрыть\",\n        cancle: \"Отказаться\",\n        manage: \"Управлять\",\n        unable_to_cancle_subscription: \"Не удалось отменить подписку\",\n        subscription_cancelled: \"Подписка отменена\",\n        hardware: \"Аппаратное ускорение\",\n        net_drives: \"Сетевые диски\",\n        fat_write: \"FAT запись\",\n        play: \"Запустить\",\n        system_cursor: \"Системный курсор\",\n        no_cloud_access: \"Введите\",\n        no_cloud_access2: \"что бы использовать облачное хранилище\",\n        key: \"Ваш ключ\",\n        sockdrive_native: \"Native drives\",\n    },\n    en: {\n        hello: \"Hello\",\n        hello_guest: \"Hello, guest!\",\n        play: \"Start\",\n        system_cursor: \"System cursor\",\n        mobile_controls: \"Mobile controls\",\n        mirrored_controls: \"Mirror controls\",\n        scale_controls: \"Scale controls\",\n        enter_name_of_drive: \"Enter name of drive\",\n        ws_outdated: \"Must update DOS Browser App\",\n        update: \"Update\",\n        preloading_sockdrive: \"Loading\",\n        filter: \"Filter\",\n        add: \"Add\",\n        logout: \"Logout\",\n        features: \"Features\",\n        premium: \"Subscription\",\n        buy: \"Buy\",\n        experimental_features: \"Access to all experimental features\",\n        cloud_saves: \"Cloud saves\",\n        writeable_fat32: \"Writable FAT32\",\n        net_no_limits: \"Change the network region\",\n        unlock_options: \"Unlock all configuration options\",\n        error: \"Oops... Something went wrong...\",\n        consult_logs: \"Please check browser logs\",\n        bundle_loading: \"Bundle loading\",\n        bundle_config: \"Reading config\",\n        try_free: \"days for free\",\n        upload_file: \"Select jsdos/zip file to start...\",\n        emulation_backend: \"Emulation\",\n        render_backend: \"Render\",\n        render_aspect: \"Aspect\",\n        worker: \"Worker thread\",\n        mouse_sensitivity: \"Mouse sens...\",\n        mouse_lock: \"Capture mouse\",\n        volume: \"Volume\",\n        pause: \"Pause\",\n        dosboxconf_template: \"dosbox.conf template:\",\n        preview: \"Preview\",\n        continue: \"Continue\",\n        skip: \"Skip\",\n        loading: \"Loading\",\n        extract_loading: \"Unpacking archive\",\n        extract_long_time: \"Can take long time, please be patient...\",\n        theme: \"Theme\",\n        create_empty: \"Create empty bundle\",\n        uploading_file: \"Uploading file\",\n        fs_restart: \"Do you want to rebuild the bundle using this fs?\",\n        please_wait: \"Please wait\",\n        making_bundle: \"Creating bundle\",\n        size: \"Size\",\n        room: \"Room\",\n        server: \"Server\",\n        load_by_url: \"Load by url\",\n        enter_url: \"Enter url\",\n        load: \"Load\",\n        stored: \"Stored\",\n        delete: \"Delete\",\n        editor: \"Editor\",\n        download: \"Download\",\n        changes: \"Saves\",\n        loading_saves: \"Loading saves\",\n        success: \"Success\",\n        success_save: \"Saved in cloud\",\n        warn_save: \"Saved in browser (you are not logged)\",\n        unable_to_save: \"Unable to save\",\n        not_premium: \"Subscribe\",\n        copy_net_link: \"Share this link to connect\",\n        copied: \"Copied\",\n        image_rendering: \"Image rendering\",\n        read_only_access: \"Win 9x emulation is in READ ONLY mode\",\n        fix: \"Fix\",\n        close: \"Close\",\n        cancle: \"Cancle\",\n        manage: \"Manage\",\n        unable_to_cancle_subscription: \"Unable to cancle subscription\",\n        subscription_cancelled: \"Subscription cancelled\",\n        hardware: \"Hardware acceleration\",\n        net_drives: \"Net drives\",\n        fat_write: \"Writeable FAT\",\n        no_cloud_access: \"Please enter\",\n        no_cloud_access2: \"to use cloud storage\",\n        key: \"your key\",\n        sockdrive_native: \"Native drives\",\n    },\n};\n\nconst initialLang = navigator.language.startsWith(\"ru\") ? \"ru\" : \"en\";\n\nconst initialState: {\n    lang: \"ru\" | \"en\",\n    keys: {[key: string]: string},\n} = {\n    lang: initialLang,\n    keys: translations[initialLang],\n};\n\nexport type I18NState = typeof initialState;\n\nexport const i18nSlice = createSlice({\n    name: \"i18n\",\n    initialState,\n    reducers: {\n        setLang: (state, action: { payload: \"ru\" | \"en\" }) => {\n            state.lang = action.payload;\n            state.keys = translations[action.payload];\n        },\n    },\n});\n\nexport function useT() {\n    const keys = useSelector((state: State) => state.i18n.keys);\n    return (key: string) => {\n        return keys[key] ?? key;\n    };\n};\n\nexport function getT(state: State) {\n    return (key: string) => {\n        return state.i18n.keys[key] ?? key;\n    };\n};\n","/* eslint-disable max-len */\nexport const dosboxconf = [{\n    name: \"7.xx\",\n    backend: \"dosbox\",\n    contents: `[sdl]\nautolock=false\n\nfullscreen=false\nfulldouble=false\nfullresolution=original\nwindowresolution=original\noutput=surface\nsensitivity=100\nwaitonerror=true\npriority=higher,normal\nmapperfile=mapper-jsdos.map\nusescancodes=true\nvsync=false\n[dosbox]\nmachine=svga_s3\n\nlanguage=\ncaptures=capture\nmemsize=16\n[cpu]\ncore=auto\ncputype=auto\ncycles=auto\n\ncycleup=10\ncycledown=20\n[mixer]\nnosound=false\nrate=44100\n\nblocksize=1024\nprebuffer=20\n\n[render]\n# frameskip: How many frames DOSBox skips before drawing one.\n#    aspect: Do aspect correction, if your output method doesn't support scaling this can slow things down!.\n#    scaler: Scaler used to enlarge/enhance low resolution modes.\n#              If 'forced' is appended, then the scaler will be used even if the result might not be desired.\n#            Possible values: none, normal2x, normal3x, advmame2x, advmame3x, advinterp2x, advinterp3x, hq2x, hq3x, 2xsai, super2xsai, supereagle, tv2x, tv3x, rgb2x, rgb3x, scan2x, scan3x.\n\nframeskip=0\naspect=false\nscaler=none\n\n[midi]\n#     mpu401: Type of MPU-401 to emulate.\n#             Possible values: intelligent, uart, none.\n# mididevice: Device that will receive the MIDI data from MPU-401.\n#             Possible values: default, win32, alsa, oss, coreaudio, coremidi, none.\n# midiconfig: Special configuration options for the device driver. This is usually the id of the device you want to use.\n#               See the README/Manual for more details.\n\nmpu401=intelligent\nmididevice=default\nmidiconfig=\n\n[sblaster]\n#  sbtype: Type of Soundblaster to emulate. gb is Gameblaster.\n#          Possible values: sb1, sb2, sbpro1, sbpro2, sb16, gb, none.\n#  sbbase: The IO address of the soundblaster.\n#          Possible values: 220, 240, 260, 280, 2a0, 2c0, 2e0, 300.\n#     irq: The IRQ number of the soundblaster.\n#          Possible values: 7, 5, 3, 9, 10, 11, 12.\n#     dma: The DMA number of the soundblaster.\n#          Possible values: 1, 5, 0, 3, 6, 7.\n#    hdma: The High DMA number of the soundblaster.\n#          Possible values: 1, 5, 0, 3, 6, 7.\n# sbmixer: Allow the soundblaster mixer to modify the DOSBox mixer.\n# oplmode: Type of OPL emulation. On 'auto' the mode is determined by sblaster type. All OPL modes are Adlib-compatible, except for 'cms'.\n#          Possible values: auto, cms, opl2, dualopl2, opl3, none.\n#  oplemu: Provider for the OPL emulation. compat might provide better quality (see oplrate as well).\n#          Possible values: default, compat, fast.\n# oplrate: Sample rate of OPL music emulation. Use 49716 for highest quality (set the mixer rate accordingly).\n#          Possible values: 44100, 49716, 48000, 32000, 22050, 16000, 11025, 8000.\n\nsbtype=sb16\nsbbase=220\nirq=7\ndma=1\nhdma=5\nsbmixer=true\noplmode=auto\noplemu=default\noplrate=44100\n\n[gus]\n#      gus: Enable the Gravis Ultrasound emulation.\n#  gusrate: Sample rate of Ultrasound emulation.\n#           Possible values: 44100, 48000, 32000, 22050, 16000, 11025, 8000, 49716.\n#  gusbase: The IO base address of the Gravis Ultrasound.\n#           Possible values: 240, 220, 260, 280, 2a0, 2c0, 2e0, 300.\n#   gusirq: The IRQ number of the Gravis Ultrasound.\n#           Possible values: 5, 3, 7, 9, 10, 11, 12.\n#   gusdma: The DMA channel of the Gravis Ultrasound.\n#           Possible values: 3, 0, 1, 5, 6, 7.\n# ultradir: Path to Ultrasound directory. In this directory\n#           there should be a MIDI directory that contains\n#           the patch files for GUS playback. Patch sets used\n#           with Timidity should work fine.\n\ngus=false\ngusrate=44100\ngusbase=240\ngusirq=5\ngusdma=3\nultradir=C:\\\\ULTRASND\n\n[speaker]\n# pcspeaker: Enable PC-Speaker emulation.\n#    pcrate: Sample rate of the PC-Speaker sound generation.\n#            Possible values: 44100, 48000, 32000, 22050, 16000, 11025, 8000, 49716.\n#     tandy: Enable Tandy Sound System emulation. For 'auto', emulation is present only if machine is set to 'tandy'.\n#            Possible values: auto, on, off.\n# tandyrate: Sample rate of the Tandy 3-Voice generation.\n#            Possible values: 44100, 48000, 32000, 22050, 16000, 11025, 8000, 49716.\n#    disney: Enable Disney Sound Source emulation. (Covox Voice Master and Speech Thing compatible).\n\npcspeaker=true\npcrate=44100\ntandy=auto\ntandyrate=44100\ndisney=true\n\n[joystick]\n# joysticktype: Type of joystick to emulate: auto (default), none,\n#               2axis (supports two joysticks),\n#               4axis (supports one joystick, first joystick used),\n#               4axis_2 (supports one joystick, second joystick used),\n#               fcs (Thrustmaster), ch (CH Flightstick).\n#               none disables joystick emulation.\n#               auto chooses emulation depending on real joystick(s).\n#               (Remember to reset dosbox's mapperfile if you saved it earlier)\n#               Possible values: auto, 2axis, 4axis, 4axis_2, fcs, ch, none.\n#        timed: enable timed intervals for axis. Experiment with this option, if your joystick drifts (away).\n#     autofire: continuously fires as long as you keep the button pressed.\n#       swap34: swap the 3rd and the 4th axis. can be useful for certain joysticks.\n#   buttonwrap: enable button wrapping at the number of emulated buttons.\n\njoysticktype=auto\ntimed=true\nautofire=false\nswap34=false\nbuttonwrap=false\n\n[serial]\n# serial1: set type of device connected to com port.\n#          Can be disabled, dummy, modem, nullmodem, directserial.\n#          Additional parameters must be in the same line in the form of\n#          parameter:value. Parameter for all types is irq (optional).\n#          for directserial: realport (required), rxdelay (optional).\n#                           (realport:COM1 realport:ttyS0).\n#          for modem: listenport (optional).\n#          for nullmodem: server, rxdelay, txdelay, telnet, usedtr,\n#                         transparent, port, inhsocket (all optional).\n#          Example: serial1=modem listenport:5000\n#          Possible values: dummy, disabled, modem, nullmodem, directserial.\n# serial2: see serial1\n#          Possible values: dummy, disabled, modem, nullmodem, directserial.\n# serial3: see serial1\n#          Possible values: dummy, disabled, modem, nullmodem, directserial.\n# serial4: see serial1\n#          Possible values: dummy, disabled, modem, nullmodem, directserial.\n\nserial1=dummy\nserial2=dummy\nserial3=disabled\nserial4=disabled\n\n[dos]\n#            xms: Enable XMS support.\n#            ems: Enable EMS support.\n#            umb: Enable UMB support.\n# keyboardlayout: Language code of the keyboard layout (or none).\n\nxms=true\nems=true\numb=true\nkeyboardlayout=auto\n\n[ipx]\n# ipx: Enable ipx over UDP/IP emulation.\n\nipx=true\n[autoexec]\necho off\nmount c .\nc:\n\ntype jsdos~1/readme.txt\necho on\n\n# Generated using https://js-dos.com\n# █▀▀▀▀▀█ █  ▄▄▄▀▀█ █▀▀▀▀▀█\n# █ ███ █ ██▄ █ ▀ ▄ █ ███ █\n# █ ▀▀▀ █ ▄██ ▀ ▀▀█ █ ▀▀▀ █\n# ▀▀▀▀▀▀▀ ▀ █▄▀▄▀ █ ▀▀▀▀▀▀▀\n# █▀▄▄█▀▀▄▄ ▀ ▀█▄▄▄▄ ▀▄█▀█▀\n# █▀ ▀ ▀▀▄ █▀ ▄ ▄▀▀▀▄ █▀█▄\n# ▄ ▄▄ █▀▀▄ ▄▀▄▀▀█  ▀▀▄▀▀█▀\n#   ▄▀▀█▀▀ █▀█▀█▀▀▄ ▀██▀█▄\n# ▀▀▀ ▀ ▀ █▄█ ▀█▄▄█▀▀▀█▀▀\n# █▀▀▀▀▀█ ▄▄▄ ▄ ▄ █ ▀ █▄▄▄▄\n# █ ███ █ ▀█▀▀▄▀▀▄████▀▀█▄█\n# █ ▀▀▀ █ ▄▀▀█▀█▀▄ ▀▀▄▄█▄█\n# ▀▀▀▀▀▀▀ ▀   ▀▀ ▀  ▀   ▀▀▀\n`.replace(/\\n/g, \"\\r\\n\"),\n}, {\n    name: \"DOS 7.1\",\n    backend: \"dosboxX\",\n    contents: `\n[sdl]\nautolock=false\n\n[dosbox]\ntitle=DOS 7.1\nmemsize=64\n\n[dos]\nver=7.1\nhard drive data rate limit=0\nfloppy drive data rate limit=0\n\n[cpu]\ncputype=pentium_mmx\ncore=auto\n\n[sblaster]\nsbtype=sb16vibra\n\n[render]\nscaler=none\n\n[autoexec]\necho off\nimgmount 2 sockdrive {wss-makevm} system dos7.1-v1\necho Please visit our website:\necho \necho         _                __\necho        (_)____      ____/ /___  _____ _________  ____ ___\necho       / / ___/_____/ __  / __ \\\\/ ___// ___/ __ \\\\/ __ \\`__ \\\\\necho      / (__  )_____/ /_/ / /_/ (__  )/ /__/ /_/ / / / / / /\necho   __/ /____/      \\\\__,_/\\\\____/____(_)___/\\\\____/_/ /_/ /_/\necho  /___/\necho\necho type 'boot c:' to load DOS 7.1\necho on\n# \n# █▀▀▀▀▀█ █  ▄▄▄▀▀█ █▀▀▀▀▀█\n# █ ███ █ ██▄ █ ▀ ▄ █ ███ █\n# █ ▀▀▀ █ ▄██ ▀ ▀▀█ █ ▀▀▀ █\n# ▀▀▀▀▀▀▀ ▀ █▄▀▄▀ █ ▀▀▀▀▀▀▀\n# █▀▄▄█▀▀▄▄ ▀ ▀█▄▄▄▄ ▀▄█▀█▀\n# █▀ ▀ ▀▀▄ █▀ ▄ ▄▀▀▀▄ █▀█▄\n# ▄ ▄▄ █▀▀▄ ▄▀▄▀▀█  ▀▀▄▀▀█▀\n#   ▄▀▀█▀▀ █▀█▀█▀▀▄ ▀██▀█▄\n# ▀▀▀ ▀ ▀ █▄█ ▀█▄▄█▀▀▀█▀▀\n# █▀▀▀▀▀█ ▄▄▄ ▄ ▄ █ ▀ █▄▄▄▄\n# █ ███ █ ▀█▀▀▄▀▀▄████▀▀█▄█\n# █ ▀▀▀ █ ▄▀▀█▀█▀▄ ▀▀▄▄█▄█\n# ▀▀▀▀▀▀▀ ▀   ▀▀ ▀  ▀   ▀▀▀\n#\n`.replace(/\\n/g, \"\\r\\n\"),\n}, {\n    name: \"Win 3.11\",\n    backend: \"dosboxX\",\n    contents: `\n[sdl]\nautolock=false\nmouse emulation=integration\n\n[dosbox]\ntitle=Win 3.11\nmemsize=256\n\n[dos]\nhard drive data rate limit=0\nfloppy drive data rate limit=0\n\n[cpu]\ncputype=pentium\ncore=auto\nintegration device=true\n\n[pci]\nvoodoo=false\n\n[sblaster]\nsbtype=sb16vibra\n\n[render]\nscaler=none\n\n[autoexec]\necho off\nimgmount 2 sockdrive {wss-makevm} system win311-v1\necho Please visit our website:\necho \necho         _                __\necho        (_)____      ____/ /___  _____ _________  ____ ___\necho       / / ___/_____/ __  / __ \\\\/ ___// ___/ __ \\\\/ __ \\`__ \\\\\necho      / (__  )_____/ /_/ / /_/ (__  )/ /__/ /_/ / / / / / /\necho   __/ /____/      \\\\__,_/\\\\____/____(_)___/\\\\____/_/ /_/ /_/\necho  /___/\necho\necho type 'boot c:' to load Win 3.11\necho on\n# \n# █▀▀▀▀▀█ █  ▄▄▄▀▀█ █▀▀▀▀▀█\n# █ ███ █ ██▄ █ ▀ ▄ █ ███ █\n# █ ▀▀▀ █ ▄██ ▀ ▀▀█ █ ▀▀▀ █\n# ▀▀▀▀▀▀▀ ▀ █▄▀▄▀ █ ▀▀▀▀▀▀▀\n# █▀▄▄█▀▀▄▄ ▀ ▀█▄▄▄▄ ▀▄█▀█▀\n# █▀ ▀ ▀▀▄ █▀ ▄ ▄▀▀▀▄ █▀█▄\n# ▄ ▄▄ █▀▀▄ ▄▀▄▀▀█  ▀▀▄▀▀█▀\n#   ▄▀▀█▀▀ █▀█▀█▀▀▄ ▀██▀█▄\n# ▀▀▀ ▀ ▀ █▄█ ▀█▄▄█▀▀▀█▀▀\n# █▀▀▀▀▀█ ▄▄▄ ▄ ▄ █ ▀ █▄▄▄▄\n# █ ███ █ ▀█▀▀▄▀▀▄████▀▀█▄█\n# █ ▀▀▀ █ ▄▀▀█▀█▀▄ ▀▀▄▄█▄█\n# ▀▀▀▀▀▀▀ ▀   ▀▀ ▀  ▀   ▀▀▀\n#\n`.replace(/\\n/g, \"\\r\\n\"),\n}, {\n    name: \"Win 95\",\n    backend: \"dosboxX\",\n    contents: `\n[sdl]\nautolock=false\nmouse_emulation=integration\n\n[dosbox]\ntitle=Windows 95\nmemsize=128\n\n[video]\nvmemsize=8\nvesa modelist width limit=0\nvesa modelist height limit=0\n\n[dos]\nver=7.1\nhard drive data rate limit=0\nfloppy drive data rate limit=0\n\n[cpu]\ncputype=pentium_mmx\ncore=auto\nintegration device=true\n\n[sblaster]\nsbtype=sb16vibra\n\n[fdc, primary]\nint13fakev86io=true\n\n[ide, primary]\nint13fakeio=true\nint13fakev86io=true\n\n[ide, secondary]\nint13fakeio=true\nint13fakev86io=true\ncd-rom insertion delay=4000\n\n[render]\nscaler=none\n\n[autoexec]\necho off\nimgmount 2 sockdrive {wss-makevm} system win95-v2\necho Please visit our website:\necho \necho         _                __\necho        (_)____      ____/ /___  _____ _________  ____ ___\necho       / / ___/_____/ __  / __ \\\\/ ___// ___/ __ \\\\/ __ \\`__ \\\\\necho      / (__  )_____/ /_/ / /_/ (__  )/ /__/ /_/ / / / / / /\necho   __/ /____/      \\\\__,_/\\\\____/____(_)___/\\\\____/_/ /_/ /_/\necho  /___/\necho\necho type 'boot c:' to load windows 95\necho on\n# \n# █▀▀▀▀▀█ █  ▄▄▄▀▀█ █▀▀▀▀▀█\n# █ ███ █ ██▄ █ ▀ ▄ █ ███ █\n# █ ▀▀▀ █ ▄██ ▀ ▀▀█ █ ▀▀▀ █\n# ▀▀▀▀▀▀▀ ▀ █▄▀▄▀ █ ▀▀▀▀▀▀▀\n# █▀▄▄█▀▀▄▄ ▀ ▀█▄▄▄▄ ▀▄█▀█▀\n# █▀ ▀ ▀▀▄ █▀ ▄ ▄▀▀▀▄ █▀█▄\n# ▄ ▄▄ █▀▀▄ ▄▀▄▀▀█  ▀▀▄▀▀█▀\n#   ▄▀▀█▀▀ █▀█▀█▀▀▄ ▀██▀█▄\n# ▀▀▀ ▀ ▀ █▄█ ▀█▄▄█▀▀▀█▀▀\n# █▀▀▀▀▀█ ▄▄▄ ▄ ▄ █ ▀ █▄▄▄▄\n# █ ███ █ ▀█▀▀▄▀▀▄████▀▀█▄█\n# █ ▀▀▀ █ ▄▀▀█▀█▀▄ ▀▀▄▄█▄█\n# ▀▀▀▀▀▀▀ ▀   ▀▀ ▀  ▀   ▀▀▀\n#\n`.replace(/\\n/g, \"\\r\\n\"),\n}, {\n    name: \"Win 98\",\n    backend: \"dosboxX\",\n    contents: `\n[sdl]\nautolock=false\nmouse_emulation=integration\n\n[dosbox]\ntitle=Windows 98\nmemsize=128\n\n[video]\nvmemsize=8\nvesa modelist width limit=0\nvesa modelist height limit=0\n\n[dos]\nver=7.1\nhard drive data rate limit=0\nfloppy drive data rate limit=0\n\n[cpu]\ncputype=pentium_mmx\ncore=auto\nintegration device=true\n\n[sblaster]\nsbtype=sb16vibra\n\n[fdc, primary]\nint13fakev86io=true\n\n[ide, primary]\nint13fakeio=true\nint13fakev86io=true\n\n[ide, secondary]\nint13fakeio=true\nint13fakev86io=true\ncd-rom insertion delay=4000\n\n[render]\nscaler=none\n\n[autoexec]\necho off\nimgmount 2 sockdrive {wss-makevm} system win98-v1\necho Please visit our website:\necho \necho         _                __\necho        (_)____      ____/ /___  _____ _________  ____ ___\necho       / / ___/_____/ __  / __ \\\\/ ___// ___/ __ \\\\/ __ \\`__ \\\\\necho      / (__  )_____/ /_/ / /_/ (__  )/ /__/ /_/ / / / / / /\necho   __/ /____/      \\\\__,_/\\\\____/____(_)___/\\\\____/_/ /_/ /_/\necho  /___/\necho\necho type 'boot c:' to load windows 98\necho on\n# \n# █▀▀▀▀▀█ █  ▄▄▄▀▀█ █▀▀▀▀▀█\n# █ ███ █ ██▄ █ ▀ ▄ █ ███ █\n# █ ▀▀▀ █ ▄██ ▀ ▀▀█ █ ▀▀▀ █\n# ▀▀▀▀▀▀▀ ▀ █▄▀▄▀ █ ▀▀▀▀▀▀▀\n# █▀▄▄█▀▀▄▄ ▀ ▀█▄▄▄▄ ▀▄█▀█▀\n# █▀ ▀ ▀▀▄ █▀ ▄ ▄▀▀▀▄ █▀█▄\n# ▄ ▄▄ █▀▀▄ ▄▀▄▀▀█  ▀▀▄▀▀█▀\n#   ▄▀▀█▀▀ █▀█▀█▀▀▄ ▀██▀█▄\n# ▀▀▀ ▀ ▀ █▄█ ▀█▄▄█▀▀▀█▀▀\n# █▀▀▀▀▀█ ▄▄▄ ▄ ▄ █ ▀ █▄▄▄▄\n# █ ███ █ ▀█▀▀▄▀▀▄████▀▀█▄█\n# █ ▀▀▀ █ ▄▀▀█▀█▀▄ ▀▀▄▄█▄█\n# ▀▀▀▀▀▀▀ ▀   ▀▀ ▀  ▀   ▀▀▀\n#\n`.replace(/\\n/g, \"\\r\\n\"),\n},\n];\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { DosConfig } from \"emulators\";\nimport { Node } from \"react-checkbox-tree\";\nimport { dosboxconf } from \"../frame/editor/defaults\";\n\nconst initialState: {\n    // step: \"empty\" | \"extract\" | \"ready\" | \"error\",\n    configChanged: boolean,\n    bundleConfig: DosConfig | null,\n    errorMessage: string | null,\n    fs: Node[],\n} = {\n    // step: \"empty\",\n    configChanged: false,\n    bundleConfig: null,\n    errorMessage: null,\n    fs: [],\n};\n\nexport type EditorState = typeof initialState;\n\nexport const editorSlice = createSlice({\n    name: \"editor\",\n    initialState,\n    reducers: {\n        init: (s, a: { payload: DosConfig | null }) => {\n            if (a.payload === null) {\n                s.configChanged = true;\n                s.bundleConfig = {\n                    dosboxConf: dosboxconf[0].contents,\n                    jsdosConf: {\n                        version: \"js-dos-v8\",\n                    },\n                };\n            } else {\n                s.configChanged = false;\n                s.bundleConfig = a.payload;\n            }\n        },\n        dosboxConf: (s, a: { payload: string }) => {\n            s.configChanged = true;\n            s.bundleConfig!.dosboxConf = a.payload;\n        },\n        // empty: (s) => {\n        //     s.step = \"empty\";\n        // },\n        // extract: (s) => {\n        //     s.step = \"extract\";\n        // },\n        // ready: (s) => {\n        //     s.step = \"ready\";\n        // },\n        // config: (s, a: { payload: DosConfig | null }) => {\n        //     s.bundleConfig = a.payload;\n        // },\n        // error: (s, a: { payload: string }) => {\n        //     s.step = \"error\";\n        //     s.errorMessage = a.payload;\n        // },\n    },\n});\n","const MAX_VALUE_SIZE = 1024;\nconst NEXT_PART_SYMBOL = \"@\";\nconst NEXT_PART_SYFFIX = \".\";\n\nclass MemStorage implements Storage {\n    length = 0;\n\n    private storage: {[key: string]: string} = {};\n\n    setItem(key: string, value: string): void {\n        this.storage[key] = value;\n        this.length = Object.keys(this.storage).length;\n    }\n\n    getItem(key: string): string | null {\n        const value = this.storage[key];\n        return value === undefined ? null : value;\n    }\n\n    removeItem(key: string): void {\n        delete this.storage[key];\n        this.length = Object.keys(this.storage).length;\n    }\n\n    key(index: number): string | null {\n        const keys = Object.keys(this.storage);\n        return keys[index] === undefined ? null : keys[index];\n    }\n\n    clear() {\n        this.length = 0;\n        this.storage = {};\n    }\n}\n\n\nclass LStorage implements Storage {\n    private backend: Storage;\n    length: number;\n    prefix: string;\n\n    constructor(backend: Storage | undefined, prefix: string) {\n        this.prefix = prefix;\n\n        try {\n            this.backend = backend || localStorage;\n            this.testBackend();\n        } catch (e) {\n            this.backend = new MemStorage();\n        }\n\n        this.length = this.backend.length;\n\n        if (typeof this.backend.sync === \"function\") {\n            (this as any).sync = (callback: any) => {\n                this.backend.sync(callback);\n            };\n        }\n    }\n\n    private testBackend() {\n        const testKey = this.prefix + \".test.record\";\n        const testValue = \"123\";\n        this.backend.setItem(testKey, testValue);\n        const readedValue = this.backend.getItem(testKey);\n        this.backend.removeItem(testKey);\n        const valid = readedValue === testValue && this.backend.getItem(testKey) === null;\n\n        if (!valid) {\n            throw new Error(\"Storage backend is not working properly\");\n        }\n    }\n\n    setLocalStoragePrefix(prefix: string) {\n        this.prefix = prefix;\n    }\n\n    clear(): void {\n        if (!this.backend.length) {\n            return;\n        }\n\n        const toRemove: string[] = [];\n        for (let i = 0; i < this.backend.length; ++i) {\n            const next = this.backend.key(i);\n            if (next && next.startsWith(this.prefix)) {\n                toRemove.push(next);\n            }\n        }\n\n        for (const next of toRemove) {\n            this.backend.removeItem(next);\n        }\n        this.length = this.backend.length;\n    }\n\n    key(index: number): string | null {\n        return this.backend.key(index);\n    }\n\n    setItem(key: string, value: string): void {\n        if (!value || value.length === undefined || value.length === 0) {\n            this.writeStringToKey(key, \"\");\n            return;\n        }\n\n        let offset = 0;\n        while (offset < value.length) {\n            let substr = value.substr(offset, MAX_VALUE_SIZE);\n            offset += substr.length;\n\n            if (offset < value.length) {\n                substr += NEXT_PART_SYMBOL;\n            }\n\n            this.writeStringToKey(key, substr);\n            key += NEXT_PART_SYFFIX;\n        }\n    }\n\n    getItem(key: string): string | null {\n        let value = this.readStringFromKey(key);\n        if (value === null) {\n            return null;\n        }\n\n        if (value.length === 0) {\n            return value;\n        }\n\n        while (value[value.length - 1] === NEXT_PART_SYMBOL) {\n            value = value.substr(0, value.length - 1);\n            key += NEXT_PART_SYFFIX;\n            const next = this.readStringFromKey(key);\n            value += next === null ? \"\" : next;\n        }\n\n        return value;\n    }\n\n    removeItem(key: string): void {\n        this.backend.removeItem(this.prefix + key);\n        this.length = this.backend.length;\n    }\n\n    private writeStringToKey(key: string, value: string) {\n        this.backend.setItem(this.prefix + key, value);\n        this.length = this.backend.length;\n    }\n\n    private readStringFromKey(key: string) {\n        return this.backend.getItem(this.prefix + key);\n    }\n}\n\nexport const lStorage = new LStorage(undefined, \"jsdos.8.\");\n","import { createAction, createSlice } from \"@reduxjs/toolkit\";\nimport { lStorage } from \"../host/lstorage\";\nimport { DosAction } from \"../store\";\nimport { dosSlice } from \"./dos\";\n\nexport const ThemeValues = <const>[\"light\", \"dark\", \"cupcake\", \"bumblebee\", \"emerald\", \"corporate\",\n    \"synthwave\", \"retro\", \"cyberpunk\", \"valentine\", \"halloween\", \"garden\", \"forest\", \"aqua\", \"lofi\",\n    \"pastel\", \"fantasy\", \"wireframe\", \"black\", \"luxury\", \"dracula\", \"cmyk\", \"autumn\", \"business\",\n    \"acid\", \"lemonade\", \"night\", \"coffee\", \"winter\"];\nexport type Theme = typeof ThemeValues[number];\n\nexport type Frame = \"none\" | \"settings\" |\n    \"editor-conf\" | \"editor-fs\" | \"network\" |\n    \"stats\" | \"fat-drives\" |\n    \"prerun\";\n\nconst initialState: {\n    hidden: boolean,\n    frame: Frame,\n    frameXs: boolean,\n    window: \"none\" | \"error\" | \"loading\" | \"prerun\" | \"run\" | \"select\",\n    theme: Theme,\n    editor: boolean,\n    wideScreen: boolean,\n    fullScreen: boolean,\n    toast: string | null,\n    toastIntent: \"none\" | \"error\" | \"success\" | \"panic\" | \"warning\",\n    toastTimeoutId: number,\n    background: string | null,\n    updateWsWarning: boolean,\n    cloudSaves: boolean,\n    autoStart: boolean,\n    kiosk: boolean,\n    documentHidden: boolean,\n    noNetworking: boolean,\n    noCloud: boolean,\n    warnOnPremium: boolean,\n    warnOnKey: boolean,\n} = {\n    hidden: false,\n    frame: \"none\",\n    frameXs: false,\n    window: \"none\",\n    theme: (lStorage.getItem(\"theme\") ?? \"light\") as Theme,\n    editor: false,\n    wideScreen: true,\n    fullScreen: false,\n    toast: null,\n    toastIntent: \"none\",\n    toastTimeoutId: 0,\n    background: null,\n    updateWsWarning: false,\n    cloudSaves: true,\n    autoStart: false,\n    kiosk: false,\n    documentHidden: document.hidden ?? false,\n    noNetworking: true,\n    noCloud: false,\n    warnOnKey: false,\n    warnOnPremium: false,\n};\n\nexport type UiState = typeof initialState;\n\nexport const uiSlice = createSlice({\n    name: \"js-dos v8s\",\n    initialState,\n    reducers: {\n        theme: (state, a: { payload: Theme }) => {\n            lStorage.setItem(\"theme\", a.payload);\n            state.theme = a.payload;\n        },\n        frameNone: (state) => {\n            state.frame = \"none\";\n            state.frameXs = false;\n        },\n        frameSettings: (state) => {\n            state.frame = \"settings\";\n            state.frameXs = false;\n        },\n        frameNetwork: (state) => {\n            state.frame = \"network\";\n            state.frameXs = false;\n        },\n        frameStats: (state) => {\n            state.frame = \"stats\";\n            state.frameXs = false;\n        },\n        frameConf: (state) => {\n            state.frame = \"editor-conf\";\n            state.frameXs = false;\n        },\n        frameFs: (state) => {\n            state.frame = \"editor-fs\";\n            state.frameXs = false;\n        },\n        frameFatDrives: (state) => {\n            state.frame = \"fat-drives\";\n            state.frameXs = false;\n        },\n        framePreRun: (state) => {\n            state.frame = \"prerun\";\n            state.frameXs = false;\n        },\n        windowSelect: (state) => {\n            state.window = \"select\";\n            state.editor = true;\n        },\n        background: (state, a: { payload: string }) => {\n            state.background = a.payload;\n        },\n        setEditor: (state, a: { payload: boolean }) => {\n            state.editor = a.payload;\n        },\n        setWideScreen: (state, a: { payload: boolean }) => {\n            state.wideScreen = a.payload;\n        },\n        setFullScreen: (state, a: { payload: boolean }) => {\n            state.fullScreen = a.payload;\n        },\n        showToast: (state, a: {\n            payload: {\n                message: string, intent?: typeof initialState.toastIntent,\n                long?: boolean\n            }\n        }) => {\n            if (state.toastTimeoutId !== 0) {\n                clearInterval(state.toastTimeoutId);\n            }\n            state.toast = a.payload.message;\n            state.toastIntent = a.payload.intent ?? \"none\";\n            if (a.payload.intent !== \"panic\") {\n                state.toastTimeoutId = setTimeout(() => {\n                    (a as unknown as DosAction).asyncStore((store) => store.dispatch(uiSlice.actions.hideToast()));\n                }, a.payload.long ? 5000 : 1500);\n            }\n        },\n        hideToast: (state) => {\n            state.toast = null;\n            state.toastTimeoutId = 0;\n        },\n        updateWsWarning: (state, a: { payload: boolean }) => {\n            state.updateWsWarning = a.payload;\n        },\n        cloudSaves: (state, a: { payload: boolean }) => {\n            state.cloudSaves = a.payload;\n        },\n        autoStart: (state, a: { payload: boolean }) => {\n            state.autoStart = a.payload;\n        },\n        kiosk: (state, a: { payload: boolean }) => {\n            state.kiosk = a.payload;\n        },\n        documentHidden: (s, a: { payload: boolean }) => {\n            s.documentHidden = a.payload;\n        },\n        noNetworking: (state, a: { payload: boolean }) => {\n            state.noNetworking = a.payload;\n        },\n        noCloud: (state, a: { payload: boolean }) => {\n            state.noCloud = a.payload;\n        },\n        hidden: (state, a: { payload: boolean }) => {\n            state.hidden = a.payload;\n        },\n        warnOnKey: (state, a: { payload: boolean }) => {\n            state.warnOnKey = a.payload;\n            state.frame = \"none\";\n        },\n        warnOnPremium: (state, a: { payload: boolean }) => {\n            state.warnOnKey = a.payload;\n            state.frame = \"none\";\n        },\n    },\n    extraReducers: (builder) => {\n        builder\n            .addCase(createAction<string>(\"dos/bndLoad\"), (s, a) => {\n                s.window = \"loading\";\n            })\n            .addCase(createAction<string>(\"editor/extract\"), (s, a) => {\n                s.window = \"loading\";\n            })\n            .addCase(createAction<string>(\"editor/ready\"), (s, a) => {\n                s.window = \"prerun\";\n            })\n            .addCase(createAction<string>(\"dos/bndReady\"), (s, a) => {\n                if (s.autoStart) {\n                    (a as unknown as DosAction).asyncStore((store) => {\n                        store.dispatch(dosSlice.actions.bndPlay({}));\n                    });\n                } else {\n                    s.window = \"prerun\";\n                }\n            })\n            .addCase(createAction<string>(\"dos/bndPlay\"), (s, a) => {\n                s.window = \"run\";\n                s.frame = \"none\";\n            })\n            .addMatcher((action: { type: string }) => {\n                return action.type.startsWith(\"dos/\") &&\n                    action.type.endsWith(\"Error\");\n            }, (s, a) => {\n                s.window = \"error\";\n            });\n    },\n});\n\n","export const endpoint = \"https://v8.js-dos.com\";\nexport const uploadsS3Bucket = \"doszone-uploads\";\nexport const uploadsS3Url = \"https://storage.yandexcloud.net\";\nexport const uploadNamspace = \"dzapi\";\n\nexport const apiEndpoint = \"https://d5dn8hh4ivlobv6682ep.apigw.yandexcloud.net\";\nexport const presignPut = apiEndpoint + \"/presign-put\";\nexport const tokenGet = apiEndpoint + \"/token/get\";\n\nexport const brCdn = \"https://br.cdn.dos.zone\";\n\nexport const cancelSubscriptionPage = {\n    en: \"https://v8.js-dos.com/cancel-your-subscription/\",\n    ru: \"https://v8.js-dos.com/ru/cancel-your-subscription/\",\n};\n\nexport const actualWsVersion = 3;\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { lStorage } from \"../host/lstorage\";\nimport { DosAction } from \"../store\";\nimport { tokenGet } from \"../v8/config\";\nimport { dosSlice } from \"./dos\";\n\nconst cachedAccount = \"cached.jsdos.account\";\n\nexport interface Account {\n    token: string,\n    name: string,\n    email: string,\n    premium: boolean,\n};\n\nconst initAccount = (() => {\n    const json = lStorage.getItem(cachedAccount);\n    if (json) {\n        const account = JSON.parse(json);\n        if (account.email && account.email.length > 0 && account.token && account.token.length === 5) {\n            return account;\n        }\n    }\n    return null;\n})();\n\nconst initialState: {\n    account: Account | null,\n} = {\n    account: initAccount,\n};\n\nexport type AuthState = typeof initialState;\n\nexport const authSlice = createSlice({\n    name: \"auth\",\n    initialState,\n    reducers: {\n        setAccount: (state, action: { payload: Account | null }) => {\n            const account = action.payload;\n            if (account !== null) {\n                lStorage.setItem(cachedAccount, JSON.stringify(account));\n                (action as unknown as DosAction).asyncStore((store) => {\n                    if (account.email === \"dz.caiiiycuk@gmail.com\") {\n                        store.dispatch(dosSlice.actions.setSockdriveWrite(false));\n                    }\n                });\n            } else {\n                lStorage.removeItem(cachedAccount);\n            }\n            state.account = account;\n        },\n    },\n});\n\nexport async function loadAccount(token: string) {\n    if (!token || token.length !== 5) {\n        return { token, account: null };\n    }\n\n    for (let i = 0; i < token.length; ++i) {\n        const code = token.charCodeAt(i);\n        if (!(code > 96 && code < 123)) { // lower alpha (a-z)\n            return { token, account: null };\n        }\n    }\n\n    const account = await (await fetch(tokenGet + \"?id=\" + token)).json();\n    delete account.success;\n\n    return { token, account: account.email ? account : null };\n}\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState: {\n    recived: number,\n    total: number,\n    ready: boolean,\n} = {\n    recived: 0,\n    total: 0,\n    ready: false,\n};\n\nexport type StorageState = typeof initialState;\n\nexport const storageSlice = createSlice({\n    name: \"storage\",\n    initialState,\n    reducers: {\n        reset: (s) => {\n            s.recived = -1;\n            s.total = 0;\n            s.ready = false;\n        },\n        progress: (s, a: { payload: [number, number ] }) => {\n            s.recived = a.payload[0];\n            s.total = a.payload[1];\n        },\n        ready: (s) => {\n            s.ready = true;\n        },\n    },\n});\n","/* eslint @typescript-eslint/no-unused-vars: 0 */\n\nexport interface Cache {\n    readonly owner: string;\n    put: (key: string, data: Uint8Array) => Promise<void>;\n    get: (key: string, defaultValue?: Uint8Array) => Promise<Uint8Array>;\n    del: (key: string) => Promise<void>;\n    keys: () => Promise<string[]>;\n    forEach: (each: (key: string, value: Uint8Array) => void) => Promise<void>;\n    close: () => void;\n}\n\nexport class CacheNoop implements Cache {\n    public owner = \"\";\n\n    public close() {\n    }\n\n    public put(key: string, data: Uint8Array): Promise<void> {\n        return Promise.resolve();\n    }\n\n    public get(key: string, defaultValue?: Uint8Array): Promise<Uint8Array> {\n        if (defaultValue !== undefined) {\n            return Promise.resolve(defaultValue);\n        }\n        return Promise.reject(new Error(\"Cache is not supported on this host\"));\n    }\n\n    public del(key: string): Promise<void> {\n        return Promise.resolve();\n    }\n\n    public keys(): Promise<string[]> {\n        return Promise.resolve([]);\n    }\n\n    public forEach(each: (key: string, value: Uint8Array) => void) {\n        return Promise.resolve();\n    }\n}\n\nclass LCache implements Cache {\n    public owner: string;\n    private storeName = \"files\";\n    private indexedDB: IDBFactory;\n    private db: IDBDatabase | null = null;\n\n    constructor(owner: string,\n        onready: (cache: Cache) => void,\n        onerror: (msg: string) => void) {\n        this.owner = owner;\n        this.indexedDB = (typeof window === \"undefined\" ? undefined : window.indexedDB ||\n            (window as any).mozIndexedDB ||\n            (window as any).webkitIndexedDB || (window as any).msIndexedDB) as any;\n\n        if (!this.indexedDB) {\n            onerror(\"Indexed db is not supported on this host\");\n            return;\n        }\n\n        try {\n            const openRequest = this.indexedDB.open(\"js-dos-cache (\" + owner + \")\", 1);\n            openRequest.onerror = (event) => {\n                onerror(\"Can't open cache database: \" + openRequest.error?.message);\n            };\n            openRequest.onsuccess = (event) => {\n                this.db = openRequest.result;\n                onready(this);\n            };\n            openRequest.onupgradeneeded = (event) => {\n                try {\n                    this.db = openRequest.result;\n                    this.db.onerror = (event) => {\n                        onerror(\"Can't upgrade cache database\");\n                    };\n\n                    const objectStore = this.db.createObjectStore(this.storeName);\n                    objectStore.createIndex(\"key\", \"\", {\n                        unique: true,\n                        multiEntry: false,\n                    });\n                } catch (e) {\n                    onerror(\"Can't upgrade cache database\");\n                }\n            };\n        } catch (e: any) {\n            onerror(\"Can't open cache database: \" + e.message);\n        }\n    }\n\n    public close() {\n        if (this.db !== null) {\n            this.db.close();\n            this.db = null;\n        }\n    }\n\n    public put(key: string, data: Uint8Array): Promise<void> {\n        return new Promise<void>((resolve, reject) => {\n            if (this.db === null) {\n                resolve();\n                return;\n            }\n\n            const transaction = this.db.transaction(this.storeName, \"readwrite\");\n            const request = transaction.objectStore(this.storeName).put(data.buffer, key);\n            request.onerror = () => reject;\n            request.onsuccess = () => resolve();\n        });\n    }\n\n    public del(key: string): Promise<void> {\n        return new Promise<void>((resolve, reject) => {\n            if (this.db === null) {\n                resolve();\n                return;\n            }\n\n            const transaction = this.db.transaction(this.storeName, \"readwrite\");\n            const request = transaction.objectStore(this.storeName).delete(key);\n            request.onerror = () => reject;\n            request.onsuccess = () => resolve();\n        });\n    }\n\n    public get(key: string, defaultValue?: Uint8Array): Promise<Uint8Array> {\n        return new Promise<Uint8Array>((resolve, reject) => {\n            function rejectOrResolve(message: string) {\n                if (defaultValue === undefined) {\n                    reject(new Error(message));\n                } else {\n                    resolve(defaultValue);\n                }\n            }\n\n\n            if (this.db === null) {\n                rejectOrResolve(\"db is not initalized\");\n                return;\n            }\n\n            const transaction = this.db.transaction(this.storeName, \"readonly\");\n            const request = transaction.objectStore(this.storeName).get(key) as IDBRequest<ArrayBuffer>;\n            request.onerror = () => reject(new Error(\"Can't read value for key '\" + key + \"'\"));\n            request.onsuccess = () => {\n                if (request.result) {\n                    resolve(new Uint8Array(request.result));\n                } else {\n                    rejectOrResolve(\"Result is empty for key '\" + key + \"', result: \" + request.result);\n                }\n            };\n        });\n    }\n\n    public keys(): Promise<string[]> {\n        return new Promise<string[]>((resolve, reject) => {\n            if (this.db === null) {\n                resolve([]);\n                return;\n            }\n\n            const transaction = this.db.transaction(this.storeName, \"readonly\");\n            const request = transaction.objectStore(this.storeName).index(\"key\").getAllKeys();\n            request.onerror = () => reject;\n            request.onsuccess = (event) => {\n                const keys = (event.target as any).result as string[];\n                resolve(keys);\n            };\n        });\n    }\n\n    public forEach(each: (key: string, value: Uint8Array) => void): Promise<void> {\n        return new Promise<void>((resolve, reject) => {\n            if (this.db === null) {\n                resolve();\n                return;\n            }\n\n            const transaction = this.db.transaction(this.storeName, \"readonly\");\n            const request = transaction.objectStore(this.storeName).openCursor();\n            request.onerror = () => reject;\n            request.onsuccess = (event) => {\n                const cursor = (event.target as any).result as IDBCursorWithValue;\n                if (cursor) {\n                    each(cursor.key.toString(), new Uint8Array(cursor.value));\n                    cursor.continue();\n                } else {\n                    resolve();\n                }\n            };\n        });\n    }\n}\n\nexport function getCache(owner: string): Promise<Cache> {\n    return new Promise((resolve) => {\n        new LCache(owner, resolve, (msg: string) => {\n            console.error(\"Can't open IndexedDB cache\", msg);\n            resolve(new CacheNoop());\n        });\n    });\n}\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { lStorage } from \"../host/lstorage\";\n\nexport const sockdriveBackendNames = [\"localhost\", \"js-dos\"];\nexport type SockdriveBackendName = typeof sockdriveBackendNames[number];\nexport const sockdriveBackend: {\n    [key: SockdriveBackendName]: {\n        sockdriveEndpoint: string,\n        sockdriveWssEndpoint: string,\n    }\n} = {\n    \"js-dos\": {\n        sockdriveEndpoint: \"https://sockdrive.js-dos.com:8001\",\n        sockdriveWssEndpoint: \"wss://sockdrive.js-dos.com:8001\",\n    },\n    \"localhost\": {\n        sockdriveEndpoint: \"http://localhost:8001\",\n        sockdriveWssEndpoint: \"ws://localhost:8001\",\n    },\n};\n\nexport interface InitState {\n    uid: string,\n    sockdriveBackendName: SockdriveBackendName,\n};\n\nlet storeUid = -1;\nexport function createInitSlice() {\n    storeUid += 1;\n    return {\n        storeUid,\n        slice: createSlice({\n            name: \"init\",\n            initialState: {\n                uid: storeUid,\n                sockdriveBackendName: lStorage.getItem(\"sockdrive.backend.name\") ?? \"js-dos\",\n            },\n            reducers: {\n                setSockdriveBackendName: (state, a: { payload: SockdriveBackendName }) => {\n                    state.sockdriveBackendName = a.payload;\n                    lStorage.setItem(\"sockdrive.backend.name\", a.payload);\n                },\n            },\n        }),\n    };\n}\n\nexport const initSlice = createInitSlice().slice;\n","import { ThunkMiddleware, configureStore } from \"@reduxjs/toolkit\";\nimport { UiState, uiSlice } from \"./store/ui\";\nimport { AuthState, authSlice } from \"./store/auth\";\nimport { DosState, dosSlice } from \"./store/dos\";\nimport { I18NState, i18nSlice } from \"./i18n\";\nimport { StorageState, storageSlice } from \"./store/storage\";\nimport { EditorState, editorSlice } from \"./store/editor\";\nimport { DosEvent, DosOptions } from \"./public/types\";\nimport { CommandInterface, InitFs } from \"emulators\";\nimport { useStore } from \"react-redux\";\nimport { Cache, CacheNoop } from \"./host/lcache\";\nimport { InitState, createInitSlice, initSlice, sockdriveBackend, sockdriveBackendNames } from \"./store/init\";\nimport { LayersInstance } from \"./layers/instance\";\n\nexport interface LoadedBundle {\n    bundleUrl: string | null,\n    bundleChangesUrl: string | null,\n    bundle: InitFs | null,\n    bundleChanges: Uint8Array | null,\n    initFs: InitFs | null,\n}\n\nexport interface NonSerializableStore {\n    root: HTMLDivElement,\n    loadedBundle: LoadedBundle | null,\n    ci: CommandInterface | null,\n    cache: Cache,\n    options: Partial<DosOptions>,\n    layers: Promise<LayersInstance> | null,\n}\n\nexport interface DosAction {\n    asyncStore: (cakkback: (store: Store) => void) => void,\n}\n\nconst dosMiddleware: ThunkMiddleware<any> = (store) => (next) => (action) => {\n    function asyncStore(callback: (store: any) => void) {\n        setTimeout(() => callback(store), 4);\n    }\n\n    const actionWithAsyncDispatch =\n        Object.assign({}, action, { asyncStore });\n\n    next(actionWithAsyncDispatch);\n};\n\nconst nonSerializableStoreMap: { [uid: string]: NonSerializableStore } = {};\n\nexport function makeNonSerializableStore(options: Partial<DosOptions>): NonSerializableStore {\n    return {\n        root: null as any,\n        loadedBundle: null,\n        ci: null,\n        cache: new CacheNoop(),\n        options,\n        layers: null,\n    };\n}\n\nexport function makeStore(nonSerializableStore: NonSerializableStore, options: Partial<DosOptions>) {\n    const { storeUid, slice } = createInitSlice();\n    const store = configureStore({\n        reducer: {\n            init: slice.reducer,\n            i18n: i18nSlice.reducer,\n            auth: authSlice.reducer,\n            ui: uiSlice.reducer,\n            dos: dosSlice.reducer,\n            storage: storageSlice.reducer,\n            editor: editorSlice.reducer,\n        },\n        middleware: (getDefault) => {\n            const all = getDefault();\n            all.push(dosMiddleware);\n            return all;\n        },\n    });\n    nonSerializableStoreMap[storeUid] = nonSerializableStore;\n    if (options.sockdriveBackend && sockdriveBackendNames.indexOf(options.sockdriveBackend.name) === -1) {\n        sockdriveBackendNames.push(options.sockdriveBackend.name);\n        sockdriveBackend[options.sockdriveBackend.name] = {\n            sockdriveEndpoint: \"https://\" + options.sockdriveBackend.host,\n            sockdriveWssEndpoint: \"wss://\" + options.sockdriveBackend.host,\n        };\n        store.dispatch(initSlice.actions.setSockdriveBackendName(options.sockdriveBackend.name));\n    }\n    return store;\n};\n\nexport interface State {\n    init: InitState,\n    ui: UiState,\n    auth: AuthState,\n    dos: DosState,\n    i18n: I18NState,\n    editor: EditorState,\n    storage: StorageState,\n}\n\nexport type Store = ReturnType<typeof makeStore>;\n\nexport function getNonSerializableStore(storeOrState: any): NonSerializableStore {\n    if (typeof storeOrState.getState === \"function\") {\n        return nonSerializableStoreMap[storeOrState.getState().init.uid];\n    } else {\n        return nonSerializableStoreMap[storeOrState.init.uid];\n    }\n}\n\nexport function useNonSerializableStore() {\n    return getNonSerializableStore(useStore());\n}\n\nexport function postJsDosEvent(nonSerializableStore: NonSerializableStore, event: DosEvent, ci?: CommandInterface) {\n    if (nonSerializableStore.options.onEvent) {\n        setTimeout(() => {\n            nonSerializableStore.options.onEvent?.(event, ci);\n        }, 4);\n    }\n}\n\nexport function getState(store: Store): State {\n    return store.getState() as any;\n}\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { DosAction, getNonSerializableStore, makeStore, postJsDosEvent } from \"../store\";\nimport { Emulators } from \"emulators\";\nimport { lStorage } from \"../host/lstorage\";\n\nconst alphabet = \"qwertyuiopasdfghjklzxcvbnm1234567890\";\ndeclare const emulators: Emulators;\nexport interface BundleConfig {\n    name?: string,\n    version?: string,\n    backend?: string,\n    render?: string,\n};\n\nexport const BackendValues = <const>[\"dosbox\", \"dosboxX\"];\nexport type Backend = typeof BackendValues[number];\n\nexport const RenderBackendValues = <const>[\"webgl\", \"canvas\"];\nexport type RenderBackend = typeof RenderBackendValues[number];\n\nexport const RenderAspectValues = <const>[\"AsIs\", \"1/1\", \"5/4\", \"4/3\", \"16/10\", \"16/9\", \"Fit\"];\nexport type RenderAspect = typeof RenderAspectValues[number];\nexport const FitConstant = 65535;\n\nexport const ImageRenderingValues = <const>[\"pixelated\", \"smooth\"];\nexport type ImageRendering = typeof ImageRenderingValues[number];\n\nexport interface EmulatorStats {\n    cyclesPerMs: number,\n    nonSkippableSleepPreSec: number,\n    sleepPerSec: number,\n    sleepTimePerSec: number,\n    framePerSec: number,\n    soundPerSec: number,\n    msgSentPerSec: number,\n    msgRecvPerSec: number,\n    netSent: number,\n    netRecv: number,\n    driveSent: number,\n    driveRecv: number,\n    driveRecvTime: number,\n    driveCacheHit: number,\n    driveCacheMiss: number,\n    driveCacheUsed: number,\n    driveBufferedAmount: number,\n    driveIo: { read: number, write: number }[];\n};\n\nconst initialState: {\n    step:\n    \"emu-init\" | \"emu-error\" | \"emu-ready\" |\n    \"bnd-load\" | \"bnd-error\" | \"bnd-config\" | \"bnd-ready\" |\n    \"bnd-play\",\n    emuVersion: string,\n    worker: boolean,\n    backend: Backend,\n    backendLocked: boolean,\n    backendHardware: boolean,\n    renderBackend: RenderBackend,\n    renderAspect: RenderAspect,\n    volume: number,\n    mobileControls: boolean,\n    mirroredControls: boolean,\n    scaleControls: number,\n    mouseSensitivity: number,\n    mouseCapture: boolean,\n    paused: boolean,\n    error: null | undefined | string,\n    bundle: string | null,\n    config: BundleConfig,\n    stats: EmulatorStats,\n    ci: boolean,\n    ciStartedAt: number,\n    network: {\n        server: \"netherlands\" | \"newyork\" | \"singapore\",\n        room: string,\n        ipx: \"connecting\" | \"connected\" | \"disconnected\" | \"error\",\n    },\n    imageRendering: ImageRendering,\n    sockdriveWrite: boolean,\n    sockdriveInfo: { drive: string, write: boolean}[],\n    sockdriveNative: boolean,\n    softKeyboard: boolean,\n    softKeyboardLayout: string[][][],\n    softKeyboardSymbols: {[key: string]: string}[],\n    softKeyboardActiveSymbols: number,\n    softKeyboardActiveLayout: number,\n    noCursor: boolean,\n} = {\n    step: \"emu-init\",\n    emuVersion: \"-\",\n    error: null,\n    bundle: null,\n    config: {},\n    worker: lStorage.getItem(\"worker\") !== \"false\",\n    backend: (lStorage.getItem(\"backend\") ?? \"dosbox\") as Backend,\n    backendLocked: false,\n    backendHardware: (lStorage.getItem(\"backendHardware\") !== \"false\"),\n    renderBackend: (lStorage.getItem(\"renderBackend\") ?? \"webgl\") as RenderBackend,\n    renderAspect: (lStorage.getItem(\"renderAspect\") ?? \"AsIs\") as RenderAspect,\n    volume: (Number.parseFloat(lStorage.getItem(\"volume\") ?? \"1.0\")),\n    mobileControls: false,\n    mirroredControls: lStorage.getItem(\"mirroredControls\") === \"true\",\n    scaleControls: (Number.parseFloat(lStorage.getItem(\"scaleControls\") ?? \"0.2\")),\n    mouseSensitivity: (Number.parseFloat(lStorage.getItem(\"mouse_sensitivity\") ?? \"1.0\")),\n    mouseCapture: false,\n    paused: false,\n    stats: {\n        cyclesPerMs: 0,\n        nonSkippableSleepPreSec: 0,\n        sleepPerSec: 0,\n        sleepTimePerSec: 0,\n        framePerSec: 0,\n        soundPerSec: 0,\n        msgSentPerSec: 0,\n        msgRecvPerSec: 0,\n        netRecv: 0,\n        netSent: 0,\n        driveSent: 0,\n        driveRecv: 0,\n        driveRecvTime: 0,\n        driveCacheHit: 0,\n        driveCacheMiss: 0,\n        driveCacheUsed: 0,\n        driveBufferedAmount: 0,\n        driveIo: [],\n    },\n    network: {\n        server: (lStorage.getItem(\"net.server\") ?? \"netherlands\") as any,\n        room: randomRoom(),\n        ipx: \"disconnected\",\n    },\n    ci: false,\n    ciStartedAt: 0,\n    imageRendering: (lStorage.getItem(\"imageRendering\") ?? \"pixelated\") as any,\n    sockdriveWrite: true,\n    sockdriveInfo: [],\n    sockdriveNative: (lStorage.getItem(\"sockdriveNative\") === \"true\"),\n    softKeyboard: false,\n    softKeyboardLayout: [\n        [\n            [\n                \"{esc} {f1} {f2} {f3} {f4}\",\n                \"0 1 2 3 4\",\n                \"5 6 7 8 9\",\n                \"{ } ( ) {shift}\",\n                \"{layout} {ctrl} {alt} {space}\",\n            ],\n            [\n                \"{f5} {f6} {f7} {f8}\",\n                \"{pgup} {pgdown} {bksp}\",\n                \"\",\n                \"{up}\",\n                \"{left} {down} {right}\",\n            ],\n            [\n                \"{f9} {f10} {f11} {f12}\",\n                \"{del} {kp7} {kp8} {kp9}\",\n                \"{tab} {kp4} {kp5} {kp6}\",\n                \"- {kp1} {kp2} {kp3}\",\n                \"+ {kp0} . {enter}\",\n            ],\n        ],\n        [\n            [\n                \"{esc} ` 1 2 3 4 5 6 7 8 9 0 ( ) - = {bksp} {enter}\",\n                \"{tab} q w e r t y u i o p { } \\\\ [ ] {up}\",\n                \"{shift} {left} {right} a s d f g h j k l : ; ' [ {down}\",\n                \"{layout} {symbols} {alt} {ctrl} z x c v b n m , . / ] {space}\",\n            ],\n        ],\n    ],\n    softKeyboardSymbols: [\n        {\n            \"{esc}\": \"␛\",\n            \"{bksp}\": \"⌫\",\n            \"{enter}\": \"↵\",\n            \"{up}\": \"↑\",\n            \"{down}\": \"↓\",\n            \"{left}\": \"←\",\n            \"{right}\": \"→\",\n            \"{shift}\": \"⇑\",\n            \"{layout}\": \"⎘\",\n            \"{pgup}\": \"PgUp\",\n            \"{pgdown}\": \"PgDown\",\n            \"{kp7}\": \"↖\",\n            \"{kp8}\": \"↑\",\n            \"{kp9}\": \"↗\",\n            \"{kp5}\": \"5\",\n            \"{kp4}\": \"←\",\n            \"{kp6}\": \"→\",\n            \"{kp1}\": \"↙\",\n            \"{kp2}\": \"↓\",\n            \"{kp3}\": \"↘\",\n            \"{kp0}\": \"0\",\n            \"{symbols}\": \"En/Ru\",\n        },\n        {\n            \"q\": \"й\", \"w\": \"ц\", \"e\": \"у\", \"r\": \"к\", \"t\": \"е\",\n            \"y\": \"н\", \"u\": \"г\", \"i\": \"ш\", \"o\": \"щ\", \"p\": \"з\",\n            \"{\": \"х\", \"}\": \"ъ\", \"a\": \"ф\", \"s\": \"ы\", \"d\": \"в\",\n            \"f\": \"а\", \"g\": \"п\", \"h\": \"р\", \"j\": \"о\", \"k\": \"л\",\n            \"l\": \"д\", \";\": \"ж\", \"'\": \"э\", \"z\": \"я\", \"x\": \"ч\",\n            \"c\": \"с\", \"v\": \"м\", \"b\": \"и\", \"n\": \"т\", \"m\": \"ь\",\n            \",\": \"б\", \".\": \"ю\",\n        },\n    ],\n    softKeyboardActiveSymbols: 0,\n    softKeyboardActiveLayout: 0,\n    noCursor: false,\n};\n\nexport type DosState = typeof initialState;\n\nexport const dosSlice = createSlice({\n    name: \"dos\",\n    initialState,\n    reducers: {\n        emuReady: (s, a: { payload: string }) => {\n            s.step = \"emu-ready\";\n            s.emuVersion = a.payload;\n        },\n        emuError: (s, a: { payload: string }) => {\n            s.step = \"emu-error\";\n            s.error = a.payload ?? \"Unexpeceted error\";\n        },\n        bndLoad: (s, a: { payload: string }) => {\n            s.step = \"bnd-load\";\n            s.bundle = a.payload;\n        },\n        bndError: (s, a: { payload: string }) => {\n            s.step = \"bnd-error\";\n            s.error = a.payload ?? \"Unexpeceted error\";\n        },\n        bndConfig: (s) => {\n            s.step = \"bnd-config\";\n        },\n        bndReady: (s, a: { payload: BundleConfig }) => {\n            s.step = \"bnd-ready\";\n            s.config = a.payload;\n        },\n        bndPlay: (s, a) => {\n            s.step = \"bnd-play\";\n            (a as unknown as DosAction).asyncStore((store) => {\n                postJsDosEvent(getNonSerializableStore(store), \"bnd-play\");\n            });\n        },\n        dosWorker: (s, a: { payload: boolean }) => {\n            s.worker = a.payload;\n            lStorage.setItem(\"worker\", s.worker ? \"true\" : \"false\");\n        },\n        dosBackend: (s, a: { payload: Backend }) => {\n            s.backend = a.payload as Backend;\n        },\n        dosBackendLocked: (s, a: { payload: boolean }) => {\n            s.backendLocked = a.payload;\n        },\n        dosBackendHardware: (s, a: { payload: boolean }) => {\n            s.backendHardware = a.payload;\n            lStorage.setItem(\"backendHardware\", s.backendHardware ? \"true\" : \"false\");\n        },\n        renderBackend: (s, a: { payload: RenderBackend }) => {\n            s.renderBackend = a.payload;\n            lStorage.setItem(\"renderBackend\", s.renderBackend);\n        },\n        renderAspect: (s, a: { payload: RenderAspect }) => {\n            s.renderAspect = a.payload;\n            lStorage.setItem(\"renderAspect\", s.renderAspect);\n        },\n        imageRendering: (s, a: { payload: ImageRendering }) => {\n            s.imageRendering = a.payload;\n            lStorage.setItem(\"imageRendering\", s.imageRendering);\n        },\n        volume: (s, a: { payload: number }) => {\n            s.volume = a.payload;\n            lStorage.setItem(\"volume\", s.volume + \"\");\n        },\n        mouseSensitivity: (s, a: { payload: number }) => {\n            s.mouseSensitivity = a.payload;\n            lStorage.setItem(\"mouse_sensitivity\", s.mouseSensitivity + \"\");\n        },\n        mouseCapture: (s, a: { payload: boolean }) => {\n            s.mouseCapture = a.payload;\n        },\n        paused: (s, a: { payload: boolean }) => {\n            s.paused = a.payload;\n        },\n        stats: (s, a: { payload: EmulatorStats }) => {\n            s.stats = a.payload;\n        },\n        ci: (s, a: { payload: boolean }) => {\n            s.ci = a.payload;\n            if (a.payload) {\n                s.ciStartedAt = Date.now();\n            }\n        },\n        connectIpx: (s, a: { payload: { room: string, address: string } }) => {\n            if (s.network.ipx === \"connected\") {\n                throw new Error(\"Already connected\");\n            }\n\n            if (!s.ci) {\n                throw new Error(\"DOS is not started\");\n            }\n\n            const { room, address } = a.payload;\n            s.network.ipx = \"connecting\";\n            (a as unknown as DosAction).asyncStore((store) => {\n                const nonSerializableStore = getNonSerializableStore(store);\n                if (!nonSerializableStore.ci) {\n                    throw new Error(\"DOS is not started\");\n                }\n\n                const canonicalAddress = address.endsWith(\"/\") ?\n                    address.substring(0, address.length - 1) :\n                    address;\n\n                nonSerializableStore.ci.networkConnect(0 /* NetworkType.NETWORK_DOSBOX_IPX */,\n                    canonicalAddress + \":1900/ipx/\" + room.replaceAll(\"@\", \"_\"))\n                    .then(() => {\n                        store.dispatch(dosSlice.actions.statusIpx(\"connected\"));\n                    })\n                    .catch((e) => {\n                        store.dispatch(dosSlice.actions.statusIpx(\"error\"));\n                        console.error(e);\n                    });\n            });\n        },\n        statusIpx: (s, a: { payload: \"error\" | \"connected\" | \"connecting\" }) => {\n            s.network.ipx = a.payload;\n        },\n        disconnectIpx: (s, a) => {\n            s.network.ipx = \"disconnected\";\n            (a as unknown as DosAction).asyncStore((store) => {\n                getNonSerializableStore(store).ci?.networkDisconnect(0 /* IPX */);\n            });\n        },\n        setRoom: (s, a: { payload: string }) => {\n            s.network.room = a.payload;\n        },\n        setServer: (s, a: { payload: typeof initialState.network.server }) => {\n            s.network.server = a.payload;\n            lStorage.setItem(\"net.server\", a.payload);\n        },\n        setSockdriveWrite: (s, a: { payload: boolean }) => {\n            s.sockdriveWrite = a.payload;\n        },\n        setSockdriveNative: (s, a: { payload: boolean }) => {\n            s.sockdriveNative = a.payload;\n            lStorage.setItem(\"sockdriveNative\", a.payload ? \"true\" : \"false\");\n        },\n        addSockdriveInfo: (s, a: { payload: { drive: string, write: boolean} }) => {\n            s.sockdriveInfo.push(a.payload);\n        },\n        mobileControls: (s, a: { payload: boolean }) => {\n            s.mobileControls = a.payload;\n        },\n        mirroredControls: (s, a: { payload: boolean }) => {\n            s.mirroredControls = a.payload;\n            lStorage.setItem(\"mirroredControls\", a.payload ? \"true\" : \"false\");\n        },\n        scaleControls: (s, a: { payload: number }) => {\n            s.scaleControls = a.payload;\n            lStorage.setItem(\"scaleControls\", s.scaleControls + \"\");\n        },\n        softKeyboard: (s, a: { payload: boolean }) => {\n            s.softKeyboard = a.payload;\n        },\n        softKeyboardLayout: (s, a: { payload: string[] | string[][][] }) => {\n            if (a.payload.length > 0 && Array.isArray(a.payload[0])) {\n                s.softKeyboardLayout = a.payload as string[][][];\n            } else {\n                s.softKeyboardLayout = [[a.payload as string[]]];\n            }\n        },\n        softKeyboardSymbols: (s, a: { payload: {[key: string]: string}[] }) => {\n            s.softKeyboardSymbols = a.payload;\n        },\n        softKeyboardActiveSymbols: (s, a: { payload: number }) => {\n            s.softKeyboardActiveSymbols = a.payload;\n        },\n        softKeyboardActiveLayout: (s, a: { payload: number }) => {\n            s.softKeyboardActiveLayout = a.payload;\n        },\n        noCursor: (s, a: { payload: boolean }) => {\n            s.noCursor = a.payload;\n        },\n    },\n});\n\nlet emulatorsReady = false;\nexport function initEmulators(store: ReturnType<typeof makeStore>, pathPrefix: string) {\n    store.dispatch(async (dispatch) => {\n        try {\n            if (!emulatorsReady) {\n                await initEmulatorsJs(pathPrefix);\n                emulatorsReady = true;\n            }\n            dispatch(dosSlice.actions.emuReady(emulators.version));\n        } catch (e) {\n            console.error(\"Unable to init emulators.js\", e);\n            dispatch(dosSlice.actions.emuError((e as any).message));\n        }\n    });\n}\n\nfunction initEmulatorsJs(pathPrefix: string) {\n    const el = document.querySelector(\"#emulators.js\");\n    if (el !== null) {\n        return Promise.resolve();\n    }\n\n    return new Promise<void>((resolve, reject) => {\n        const script = document.createElement(\"script\");\n        script.async = true;\n        script.type = \"text/javascript\";\n        script.src = pathPrefix + \"emulators.js\";\n        script.onload = () => {\n            emulators.pathPrefix = pathPrefix;\n            resolve();\n        };\n        script.onerror = (err) => {\n            reject(new Error(\"Unable to add emulators.js. Probably you should set the \" +\n                \"'pathPrefix' option to point to the js-dos folder.\"));\n        };\n\n        document.head.appendChild(script);\n    });\n};\n\nfunction randomSymbol() {\n    return alphabet[Math.round(Math.random() * (alphabet.length - 1))];\n}\n\nfunction randomRoom() {\n    return randomSymbol() + randomSymbol() + randomSymbol();\n}\n","import { uploadsS3Url, uploadsS3Bucket, uploadNamspace, presignPut } from \"./config\";\n\nfunction getPersonalBundleKey(id: string,\n                              bundleUrl: string): string {\n    const index = bundleUrl.lastIndexOf(\"/\");\n    const basename = bundleUrl.substring(index + 1);\n    return \"personal-v2/\" + uploadNamspace + \"/\" + id + \"/\" + basename;\n}\n\nexport function getChangesUrlPrefix(id: string): string {\n    return uploadsS3Url + \"/\" + uploadsS3Bucket + \"/\" + \"personal-v2\" + \"/\" + uploadNamspace + \"/\" + id + \"/\";\n}\n\nexport function getChangesUrl(id: string, bundleUrl: string): string {\n    const personalBundleKey = getPersonalBundleKey(id, bundleUrl);\n    return uploadsS3Url + \"/\" + uploadsS3Bucket + \"/\" + personalBundleKey;\n}\n\nexport async function putChanges(bundleUrl: string,\n                                 data: Uint8Array): Promise<void> {\n    let response = await fetch(presignPut + \"?bundleUrl=\" + encodeURIComponent(bundleUrl));\n    const result = await response.json();\n\n    if (!result.success) {\n        throw new Error(\"Unable to put personal bundle\");\n    }\n\n    const post = result.post as {\n        url: string,\n        fields: {\n            Policy: string,\n            \"X-Amz-Algorithm\": string,\n            \"X-Amz-Credential\": string,\n            \"X-Amz-Date\": string,\n            \"X-Amz-Signature\": string,\n            bucket: string,\n            key: string,\n        },\n    };\n\n    const formData = new FormData();\n    Object.entries(post.fields).forEach(([k, v]) => {\n        formData.append(k, v);\n    });\n    formData.append(\"acl\", \"public-read\");\n    formData.append(\"file\", new Blob([data]));\n\n    response = await fetch(post.url, {\n        method: \"post\",\n        body: formData,\n    });\n\n    if (response.status !== 200 && response.status !== 204) {\n        throw new Error(\"Unable to put changes: \" + response.statusText);\n    }\n}\n","import { Dispatch } from \"@reduxjs/toolkit\";\nimport { NonSerializableStore, State } from \"./store\";\nimport { getT } from \"./i18n\";\nimport { putChanges } from \"./v8/changes\";\nimport { uiSlice } from \"./store/ui\";\nimport { Account } from \"./store/auth\";\n\nexport async function apiSave(state: State,\n                              nonSerializableStore: NonSerializableStore,\n                              dispatch: Dispatch): Promise<boolean> {\n    const ci = nonSerializableStore.ci;\n    const changesUrl = nonSerializableStore.loadedBundle?.bundleChangesUrl;\n    if (ci === null || !changesUrl || !state.ui.cloudSaves) {\n        return false;\n    }\n\n    const t = getT(state);\n    const account = state.auth.account;\n    try {\n        const changes = await ci.persist(true);\n        if (changes !== null) {\n            if (canDoCloudSaves(account)) {\n                await putChanges(changesUrl, changes);\n            } else {\n                await nonSerializableStore.cache.put(changesUrl, changes);\n            }\n        }\n\n        if (account === null || account.email === null) {\n            dispatch(uiSlice.actions.showToast({\n                message: t(\"warn_save\"),\n                intent: \"success\",\n            }));\n        } else {\n            dispatch(uiSlice.actions.showToast({\n                message: t(\"success_save\"),\n                intent: \"success\",\n            }));\n        }\n\n        return true;\n    } catch (e: any) {\n        dispatch(uiSlice.actions.showToast({\n            message: t(\"unable_to_save\"),\n            intent: \"error\",\n        }));\n        console.error(e);\n\n        return false;\n    }\n}\n\nexport function isSockdrivePremium(sockdriveEndpoint: string, account: Account | null): Promise<boolean> {\n    if (account) {\n        return fetch(sockdriveEndpoint + \"/premium/\" + account.email)\n            .then((r) => r.json())\n            .then((payload: { premium: boolean }) => payload.premium);\n    } else {\n        return Promise.resolve(false);\n    }\n}\n\nexport function canDoCloudSaves(account: Account | null) {\n    return account?.email !== undefined;\n}\n","import { Dispatch, Store } from \"@reduxjs/toolkit\";\nimport { DosConfig, Emulators, InitFs } from \"emulators\";\nimport { dosSlice } from \"./store/dos\";\nimport { bundleFromChanges, bundleFromFile, bundleFromUrl } from \"./host/bundle-storage\";\nimport { uiSlice } from \"./store/ui\";\nimport { editorSlice } from \"./store/editor\";\nimport { getChangesUrl } from \"./v8/changes\";\nimport { storageSlice } from \"./store/storage\";\nimport { getNonSerializableStore, getState } from \"./store\";\n\ndeclare const emulators: Emulators;\n\nexport const sockdriveImgmount = new RegExp(\n    \"imgmount\\\\s+(\\\\d+)\\\\s+sockdrive\\\\s+([^\\\\s]+)\\\\s+([^\\\\s]+)\\\\s+([^\\\\s]+)\\\\s*$\", \"gm\");\n\nexport async function loadEmptyBundle(store: Store) {\n    await doLoadBundle(\"empty.jsdos\",\n        (async () => {\n            const bundle = await emulators.bundle();\n            return bundle.toUint8Array();\n        })(), null, null, store);\n\n    store.dispatch(uiSlice.actions.frameConf());\n    store.dispatch(uiSlice.actions.setEditor(true));\n}\n\nexport async function loadBundle(bundle: Uint8Array, openConfig: boolean, store: Store) {\n    await doLoadBundle(\"bundle.jsdos\", Promise.resolve(bundle),\n        null, null, store);\n    if (openConfig) {\n        store.dispatch(uiSlice.actions.frameConf());\n    }\n}\n\nexport function loadBundleFromFile(file: File, store: Store) {\n    return doLoadBundle(file.name,\n        bundleFromFile(file, store),\n        null, null, store);\n}\n\nexport async function loadBundleFromConfg(config: DosConfig, initFs: InitFs | null, store: Store) {\n    const nonSerializableStore = getNonSerializableStore(store);\n    const dispatch = store.dispatch;\n    nonSerializableStore.loadedBundle = null;\n\n    dispatch(editorSlice.actions.init(config));\n    syncWithConfig(config, dispatch);\n\n    nonSerializableStore.loadedBundle = {\n        bundleUrl: null,\n        bundleChangesUrl: null,\n        bundle: config,\n        bundleChanges: null,\n        initFs,\n    };\n    dispatch(dosSlice.actions.bndReady({}));\n}\n\nexport async function loadBundleFromUrl(url: string, store: Store) {\n    return doLoadBundle(url,\n        bundleFromUrl(url, store),\n        changesProducer(url, store),\n        url,\n        store);\n}\n\nasync function doLoadBundle(bundleName: string,\n                            bundlePromise: Promise<Uint8Array>,\n                            bundleChangesPromise: (ReturnType<typeof changesProducer>) | null,\n                            bundleUrl: string | null,\n                            store: Store) {\n    const nonSerializableStore = getNonSerializableStore(store);\n    const dispatch = store.dispatch;\n    nonSerializableStore.loadedBundle = null;\n\n\n    dispatch(dosSlice.actions.bndLoad(bundleName));\n\n    const bundle = await bundlePromise;\n    dispatch(storageSlice.actions.ready());\n    const bundleChanges = await bundleChangesPromise;\n    dispatch(dosSlice.actions.bndConfig());\n\n    const config = await emulators.bundleConfig(bundle);\n    dispatch(editorSlice.actions.init(config));\n    if (config === null) {\n        dispatch(uiSlice.actions.frameConf());\n    } else {\n        syncWithConfig(config, dispatch);\n    }\n\n    nonSerializableStore.loadedBundle = {\n        bundleUrl,\n        bundleChangesUrl: bundleChanges?.url ?? null,\n        bundle,\n        bundleChanges: bundleChanges?.bundle ?? null,\n        initFs: null,\n    };\n    dispatch(dosSlice.actions.bndReady({}));\n}\n\nasync function changesProducer(bundleUrl: string, store: Store): Promise<{\n    url: string,\n    bundle: Uint8Array | null,\n}> {\n    const account = getState(store).auth.account;\n    const owner = account?.email ?? \"guest\";\n    const url = getChangesUrl(owner, bundleUrl);\n    const bundle = await bundleFromChanges(url, account, store);\n    return {\n        url,\n        bundle,\n    };\n}\n\nfunction syncWithConfig(config: DosConfig, dispatch: Dispatch) {\n    applySockdriveOptionsIfNeeded(config.dosboxConf, dispatch);\n    dispatch(dosSlice.actions.mouseCapture(config.dosboxConf.indexOf(\"autolock=true\") >= 0));\n}\n\nexport function applySockdriveOptionsIfNeeded(config: string, dispatch: Dispatch) {\n    if (config.indexOf(\"sockdrive\") >= 0) {\n        dispatch(dosSlice.actions.dosBackendLocked(true));\n        dispatch(dosSlice.actions.dosBackend(\"dosboxX\"));\n        dispatch(dosSlice.actions.noCursor(true));\n    }\n}\n","import { storageSlice } from \"../store/storage\";\nimport { Account } from \"../store/auth\";\nimport { brCdn } from \"../v8/config\";\nimport { Store, getNonSerializableStore } from \"../store\";\nimport { canDoCloudSaves } from \"../player-api\";\n\nexport function bundleFromFile(file: File, store: Store): Promise<Uint8Array> {\n    return new Promise<Uint8Array>((resolve) => {\n        store.dispatch(storageSlice.actions.reset());\n        const reader = new FileReader();\n        reader.addEventListener(\"load\", async (e) => {\n            resolve(new Uint8Array(reader.result as ArrayBuffer));\n        });\n        reader.addEventListener(\"progress\", (e) => {\n            store.dispatch(storageSlice.actions.progress([e.loaded, e.total]));\n        });\n        reader.readAsArrayBuffer(file);\n    });\n}\n\n\nexport async function bundleFromChanges(url: string, account: Account | null,\n                                        store: Store): Promise<Uint8Array | null> {\n    if (!canDoCloudSaves(account)) {\n        return await getNonSerializableStore(store).cache.get(url).catch(() => null);\n    }\n\n    try {\n        const response = await fetch(url, {\n            cache: \"no-cache\",\n        });\n\n        if (response.status !== 200) {\n            throw new Error(\"Resource not avalible (\" + response.status + \"): \" + response.statusText);\n        }\n\n        return response.arrayBuffer().then((b) => new Uint8Array(b));\n    } catch (e: any) {\n        return await getNonSerializableStore(store).cache.get(url).catch(() => null);\n    }\n}\n\nexport async function bundleFromUrl(url: string, store: Store): Promise<Uint8Array> {\n    try {\n        return await getNonSerializableStore(store).cache.get(url);\n    } catch (e: any) {\n        // ignore\n    }\n\n    store.dispatch(storageSlice.actions.reset());\n    const response = await fetch(url, {\n        cache: \"no-store\",\n    });\n\n    if (response.status !== 200) {\n        throw new Error(\"Resource not avalible (\" + response.status + \"): \" + response.statusText);\n    }\n\n    const lenHeader = response.headers.get(\"Content-Length\");\n    const length = lenHeader === null ? 0 :\n        Number.parseInt(lenHeader);\n    const reader = response.body!.getReader();\n\n    let received = 0;\n    const chunks: Uint8Array[] = [];\n    while (true) {\n        const { done, value } = await reader.read();\n\n        if (done) {\n            break;\n        }\n\n        chunks.push(value);\n        received += value.length;\n\n        const bytes = Math.min(url.startsWith(brCdn) ? received / 2 : received, length);\n        store.dispatch(storageSlice.actions.progress([bytes, length]));\n    }\n\n    let offset = 0;\n    const complete = new Uint8Array(received);\n    for (const next of chunks) {\n        complete.set(next, offset);\n        offset += next.length;\n    }\n\n    getNonSerializableStore(store).cache\n        .put(url, complete)\n        .catch(console.error);\n\n    return complete;\n};\n","import{options as r,Fragment as e}from\"preact\";export{Fragment}from\"preact\";var t=/[\"&<]/;function n(r){if(0===r.length||!1===t.test(r))return r;for(var e=0,n=0,o=\"\",f=\"\";n<r.length;n++){switch(r.charCodeAt(n)){case 34:f=\"&quot;\";break;case 38:f=\"&amp;\";break;case 60:f=\"&lt;\";break;default:continue}n!==e&&(o+=r.slice(e,n)),o+=f,e=n+1}return n!==e&&(o+=r.slice(e,n)),o}var o=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,f=0,i=Array.isArray;function u(e,t,n,o,i,u){var a,c,p={};for(c in t)\"ref\"==c?a=t[c]:p[c]=t[c];var l={type:e,props:p,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--f,__i:-1,__u:0,__source:i,__self:u};if(\"function\"==typeof e&&(a=e.defaultProps))for(c in a)void 0===p[c]&&(p[c]=a[c]);return r.vnode&&r.vnode(l),l}function a(r){var t=u(e,{tpl:r,exprs:[].slice.call(arguments,1)});return t.key=t.__v,t}var c={},p=/[A-Z]/g;function l(e,t){if(r.attr){var f=r.attr(e,t);if(\"string\"==typeof f)return f}if(\"ref\"===e||\"key\"===e)return\"\";if(\"style\"===e&&\"object\"==typeof t){var i=\"\";for(var u in t){var a=t[u];if(null!=a&&\"\"!==a){var l=\"-\"==u[0]?u:c[u]||(c[u]=u.replace(p,\"-$&\").toLowerCase()),_=\";\";\"number\"!=typeof a||l.startsWith(\"--\")||o.test(l)||(_=\"px;\"),i=i+l+\":\"+a+_}}return e+'=\"'+i+'\"'}return null==t||!1===t||\"function\"==typeof t||\"object\"==typeof t?\"\":!0===t?e:e+'=\"'+n(t)+'\"'}function _(r){if(null==r||\"boolean\"==typeof r||\"function\"==typeof r)return null;if(\"object\"==typeof r){if(void 0===r.constructor)return r;if(i(r)){for(var e=0;e<r.length;e++)r[e]=_(r[e]);return r}}return n(\"\"+r)}export{u as jsx,l as jsxAttr,u as jsxDEV,_ as jsxEscape,a as jsxTemplate,u as jsxs};\n//# sourceMappingURL=jsxRuntime.module.js.map\n","import { useDispatch, useSelector } from \"react-redux\";\nimport { useT } from \"../../i18n\";\nimport { State } from \"../../store\";\nimport { editorSlice } from \"../../store/editor\";\nimport { dosboxconf } from \"./defaults\";\nimport { dosSlice } from \"../../store/dos\";\nimport { useEffect, useState } from \"preact/hooks\";\nimport { sockdriveBackend } from \"../../store/init\";\nimport { uiSlice } from \"../../store/ui\";\nimport { applySockdriveOptionsIfNeeded, sockdriveImgmount } from \"../../player-api-load\";\n\nconst cleanup = \"imgmount\\\\s+(\\\\d+)\\\\s+sockdrive\\\\s+.*$\";\n\ninterface Sockdrive {\n    num: string,\n    backend: string,\n    owner: string,\n    drive: string,\n}\n\nexport function EditorConf() {\n    const t = useT();\n    const bundleConfig = useSelector((state: State) => state.editor.bundleConfig);\n    const account = useSelector((state: State) => state.auth.account);\n    const backend = useSelector((state: State) => state.dos.backend);\n    const { sockdriveEndpoint, sockdriveWssEndpoint } = useSelector((state: State) =>\n        sockdriveBackend[state.init.sockdriveBackendName] ??\n        sockdriveBackend[\"js-dos\"]);\n    const dispatch = useDispatch();\n    const [myDrives, setMyDrives] = useState<{ name: string, owner: string }[]>([]);\n\n    useEffect(() => {\n        if (!account) {\n            setMyDrives([]);\n        } else {\n            fetch(sockdriveEndpoint + \"/list/drives/\" + account.token)\n                .then((r) => r.json())\n                .then(setMyDrives)\n                .catch(console.error);\n        }\n    }, [account?.token, sockdriveEndpoint]);\n\n    function parseSockDrives(conf: string) {\n        const drives: { [num: string]: Sockdrive } = {};\n        let m: RegExpExecArray | null;\n        while (m = sockdriveImgmount.exec(conf)) {\n            /* eslint-disable-next-line no-unused-vars */\n            const [_, num, backend, owner, drive] = m;\n            drives[num] = {\n                num,\n                backend,\n                owner,\n                drive,\n            };\n        }\n        return drives;\n    }\n\n    const [sockdrives, setSockdrives] = useState<{ [num: string]: Sockdrive }>(\n        parseSockDrives(bundleConfig?.dosboxConf ?? \"\"));\n\n    function setSockdrivesAndUpdateConf(sockdrives: { [num: string]: Sockdrive }) {\n        setSockdrives(sockdrives);\n        if (bundleConfig) {\n            const parts: string[] = [];\n            for (const next of Object.values(sockdrives)) {\n                if (next.owner.length > 0 && next.drive.length > 0) {\n                    parts.push(`imgmount ${next.num} sockdrive ${next.backend} ${next.owner} ${next.drive}`);\n                }\n            }\n\n            let contents = bundleConfig.dosboxConf;\n            contents = contents.replaceAll(new RegExp(cleanup, \"gm\"), \"\");\n            if (parts.length > 0) {\n                let start = contents.indexOf(\"[autoexec]\");\n                if (start === -1) {\n                    start = contents.length;\n                } else {\n                    start += 10;\n                }\n                const footer = contents.substring(start);\n                contents = contents.substring(0, start);\n                contents += \"\\n\" + parts.join(\"\\n\") + \"\\n\" + footer.trim();\n            }\n            updateDosboxConf(contents);\n        }\n    }\n\n    function changeConfig(contents: string) {\n        setSockdrives(parseSockDrives(contents));\n        updateDosboxConf(contents);\n    }\n\n    function updateDosboxConf(newConf: string) {\n        applySockdriveOptionsIfNeeded(newConf, dispatch);\n        dispatch(dosSlice.actions.mouseCapture(newConf.indexOf(\"autolock=true\") > 0));\n        dispatch(editorSlice.actions.dosboxConf(newConf));\n    }\n\n    if (bundleConfig === null) {\n        return null;\n    }\n\n    return <div class=\"editor-conf-frame flex flex-col flex-grow w-full gap-2\">\n        <div class=\"\">{t(\"dosboxconf_template\")}</div>\n        <div class=\"flex flex-row flex-wrap items-center gap-2\">\n            {dosboxconf\n                .map(({ name, backend, contents }) => {\n                    return <button class=\"btn btn-sm\"\n                        onClick={() => {\n                            dispatch(dosSlice.actions.dosBackend(backend === \"dosboxX\" ? \"dosboxX\" : \"dosbox\"));\n                            changeConfig(contents.replaceAll(\"{wss-makevm}\", sockdriveWssEndpoint));\n                        }}>\n                        {name}\n                    </button>;\n                })}\n        </div>\n        {backend === \"dosboxX\" && <>\n            <button class=\"btn btn-ghost btn-xs self-start\" target=\"_blank\"\n                onClick={() => dispatch(uiSlice.actions.frameFatDrives())}>\n                {t(\"net_drives\")}:\n                <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\n                    stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-4 h-4\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"m12.75 15 3-3m0 0-3-3m3\n                         3h-7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z\" />\n                </svg>\n            </button>\n            {[\"2\", \"3\"].map((num) => {\n                return <div class=\"flex flex-row justify-start items-center gap-3 w-full\">\n                    <p>{num === \"2\" ? \"C:\" : \"D:\"}</p>\n                    <div class=\"flex flex-col gap-2\">\n                        <div class=\"flex flex-row gap-1 items-center\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\n                                stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-4 h-4\">\n                                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M17.982 18.725A7.488 7.488\n                                    0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963\n                                    0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3\n                                    3 0 1 1-6 0 3 3 0 0 1 6 0Z\" />\n                            </svg>\n                            <input class=\"input input-xs\" type=\"text\" value={sockdrives[num]?.owner ?? \"\"}\n                                onChange={(e) => {\n                                    const newSockdrives = { ...sockdrives };\n                                    newSockdrives[num] = {\n                                        num,\n                                        backend: sockdrives[num]?.backend ?? sockdriveWssEndpoint,\n                                        owner: e.currentTarget.value,\n                                        drive: sockdrives[num]?.drive ?? \"\",\n                                    };\n                                    setSockdrivesAndUpdateConf(newSockdrives);\n                                }}></input>\n                        </div>\n                        <div class=\"flex flex-row gap-1 items-center\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\n                                stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-4 h-4\">\n                                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M20.25 6.375c0 2.278-3.694\n                                    4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75\n                                    4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25\n                                    4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5\n                                    0v3.75C20.25 16.153\n                                    16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25\n                                    4.125s-8.25-1.847-8.25-4.125\" />\n                            </svg>\n\n                            <input class=\"input input-xs\" type=\"text\" value={sockdrives[num]?.drive ?? \"\"}\n                                onChange={(e) => {\n                                    const newSockdrives = { ...sockdrives };\n                                    newSockdrives[num] = {\n                                        num,\n                                        backend: sockdrives[num]?.backend ?? sockdriveWssEndpoint,\n                                        owner: sockdrives[num]?.owner ?? \"\",\n                                        drive: e.currentTarget.value,\n                                    };\n                                    setSockdrivesAndUpdateConf(newSockdrives);\n                                }}></input>\n                        </div>\n                    </div>\n                    <div class=\"dropdown dropdown-bottom dropdown-end\">\n                        <button tabIndex={0} role=\"button\" class=\"btn btn-sm\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n                                viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-4 h-4\">\n                                <path stroke-linecap=\"round\" stroke-linejoin=\"round\"\n                                    d=\"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5\n                                        0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25\n                                        2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25\n                                        0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0\n                                        1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776\" />\n                            </svg>\n                        </button>\n                        <ul tabIndex={0} class=\"dropdown-content z-[1] menu p-2 shadow bg-base-100\n                            rounded-box w-52 max-h-80 overflow-auto\">\n                            {myDrives.map(({ name, owner }) => {\n                                return <li onClick={(e) => {\n                                    const newSockdrives = { ...sockdrives };\n                                    newSockdrives[num] = {\n                                        num,\n                                        owner,\n                                        backend: sockdriveWssEndpoint,\n                                        drive: name,\n                                    };\n                                    setSockdrivesAndUpdateConf(newSockdrives);\n                                    e.currentTarget.parentElement!.blur();\n                                }}><a>{name}</a></li>;\n                            })}\n                        </ul>\n                    </div>\n                    <button class=\"btn btn-sm\" onClick={() => {\n                        const newSockdrives = { ...sockdrives };\n                        delete newSockdrives[num];\n                        setSockdrivesAndUpdateConf(newSockdrives);\n                    }}>\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\"\n                            stroke=\"currentColor\" class=\"w-4 h-4\">\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\"\n                                d=\"M12 9.75 14.25 12m0 0 2.25 2.25M14.25 12l2.25-2.25M14.25 12 12 14.25m-2.58\n                                4.92-6.374-6.375a1.125 1.125 0 0 1 0-1.59L9.42 4.83c.21-.211.497-.33.795-.33H19.5a2.25\n                                2.25 0 0 1 2.25 2.25v10.5a2.25 2.25 0 0 1-2.25 2.25h-9.284c-.298 0-.585-.119-.795-.33Z\"\n                            />\n                        </svg>\n                    </button>\n                </div>;\n            })}\n        </>}\n        <textarea class=\"flex-grow\" value={bundleConfig.dosboxConf}\n            onChange={(e) => changeConfig(e.currentTarget?.value ?? \"\")} />\n    </div>;\n}\n","/*! react-checkbox-tree - v1.8.0 | 2022 */\n/*! For license information please see index.browser.js.LICENSE.txt */\n!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t(require(\"react\")):\"function\"==typeof define&&define.amd?define([\"react\"],t):\"object\"==typeof exports?exports.ReactCheckboxTree=t(require(\"react\")):e.ReactCheckboxTree=t(e.React)}(self,(e=>(()=>{var t={4184:(e,t)=>{var r;!function(){\"use strict\";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if(\"string\"===i||\"number\"===i)e.push(r);else if(Array.isArray(r)){if(r.length){var a=o.apply(null,r);a&&e.push(a)}}else if(\"object\"===i)if(r.toString===Object.prototype.toString)for(var c in r)n.call(r,c)&&r[c]&&e.push(c);else e.push(r.toString())}}return e.join(\" \")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},8552:(e,t,r)=>{var n=r(852)(r(5639),\"DataView\");e.exports=n},1989:(e,t,r)=>{var n=r(1789),o=r(401),i=r(7667),a=r(1327),c=r(1866);function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=c,e.exports=s},8407:(e,t,r)=>{var n=r(7040),o=r(4125),i=r(2117),a=r(7518),c=r(4705);function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=c,e.exports=s},7071:(e,t,r)=>{var n=r(852)(r(5639),\"Map\");e.exports=n},3369:(e,t,r)=>{var n=r(4785),o=r(1285),i=r(6e3),a=r(9916),c=r(5265);function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=c,e.exports=s},3818:(e,t,r)=>{var n=r(852)(r(5639),\"Promise\");e.exports=n},8525:(e,t,r)=>{var n=r(852)(r(5639),\"Set\");e.exports=n},8668:(e,t,r)=>{var n=r(3369),o=r(619),i=r(2385);function a(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},6384:(e,t,r)=>{var n=r(8407),o=r(7465),i=r(3779),a=r(7599),c=r(4758),s=r(4309);function l(e){var t=this.__data__=new n(e);this.size=t.size}l.prototype.clear=o,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=c,l.prototype.set=s,e.exports=l},2705:(e,t,r)=>{var n=r(5639).Symbol;e.exports=n},1149:(e,t,r)=>{var n=r(5639).Uint8Array;e.exports=n},577:(e,t,r)=>{var n=r(852)(r(5639),\"WeakMap\");e.exports=n},4963:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i}},4636:(e,t,r)=>{var n=r(2545),o=r(5694),i=r(1469),a=r(4144),c=r(5776),s=r(6719),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=i(e),u=!r&&o(e),p=!r&&!u&&a(e),f=!r&&!u&&!p&&s(e),d=r||u||p||f,h=d?n(e.length,String):[],y=h.length;for(var b in e)!t&&!l.call(e,b)||d&&(\"length\"==b||p&&(\"offset\"==b||\"parent\"==b)||f&&(\"buffer\"==b||\"byteLength\"==b||\"byteOffset\"==b)||c(b,y))||h.push(b);return h}},2488:e=>{e.exports=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}},2908:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},8470:(e,t,r)=>{var n=r(7813);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},8866:(e,t,r)=>{var n=r(2488),o=r(1469);e.exports=function(e,t,r){var i=t(e);return o(e)?i:n(i,r(e))}},4239:(e,t,r)=>{var n=r(2705),o=r(9607),i=r(2333),a=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?\"[object Undefined]\":\"[object Null]\":a&&a in Object(e)?o(e):i(e)}},9454:(e,t,r)=>{var n=r(4239),o=r(7005);e.exports=function(e){return o(e)&&\"[object Arguments]\"==n(e)}},939:(e,t,r)=>{var n=r(2492),o=r(7005);e.exports=function e(t,r,i,a,c){return t===r||(null==t||null==r||!o(t)&&!o(r)?t!=t&&r!=r:n(t,r,i,a,e,c))}},2492:(e,t,r)=>{var n=r(6384),o=r(7114),i=r(8351),a=r(6096),c=r(4160),s=r(1469),l=r(4144),u=r(6719),p=\"[object Arguments]\",f=\"[object Array]\",d=\"[object Object]\",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,y,b,v){var g=s(e),m=s(t),x=g?f:c(e),O=m?f:c(t),k=(x=x==p?d:x)==d,j=(O=O==p?d:O)==d,_=x==O;if(_&&l(e)){if(!l(t))return!1;g=!0,k=!1}if(_&&!k)return v||(v=new n),g||u(e)?o(e,t,r,y,b,v):i(e,t,x,r,y,b,v);if(!(1&r)){var w=k&&h.call(e,\"__wrapped__\"),C=j&&h.call(t,\"__wrapped__\");if(w||C){var P=w?e.value():e,E=C?t.value():t;return v||(v=new n),b(P,E,r,y,v)}}return!!_&&(v||(v=new n),a(e,t,r,y,b,v))}},8458:(e,t,r)=>{var n=r(3560),o=r(5346),i=r(3218),a=r(346),c=/^\\[object .+?Constructor\\]$/,s=Function.prototype,l=Object.prototype,u=s.toString,p=l.hasOwnProperty,f=RegExp(\"^\"+u.call(p).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");e.exports=function(e){return!(!i(e)||o(e))&&(n(e)?f:c).test(a(e))}},8749:(e,t,r)=>{var n=r(4239),o=r(1780),i=r(7005),a={};a[\"[object Float32Array]\"]=a[\"[object Float64Array]\"]=a[\"[object Int8Array]\"]=a[\"[object Int16Array]\"]=a[\"[object Int32Array]\"]=a[\"[object Uint8Array]\"]=a[\"[object Uint8ClampedArray]\"]=a[\"[object Uint16Array]\"]=a[\"[object Uint32Array]\"]=!0,a[\"[object Arguments]\"]=a[\"[object Array]\"]=a[\"[object ArrayBuffer]\"]=a[\"[object Boolean]\"]=a[\"[object DataView]\"]=a[\"[object Date]\"]=a[\"[object Error]\"]=a[\"[object Function]\"]=a[\"[object Map]\"]=a[\"[object Number]\"]=a[\"[object Object]\"]=a[\"[object RegExp]\"]=a[\"[object Set]\"]=a[\"[object String]\"]=a[\"[object WeakMap]\"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[n(e)]}},280:(e,t,r)=>{var n=r(5726),o=r(6916),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=[];for(var r in Object(e))i.call(e,r)&&\"constructor\"!=r&&t.push(r);return t}},2545:e=>{e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},1717:e=>{e.exports=function(e){return function(t){return e(t)}}},4757:e=>{e.exports=function(e,t){return e.has(t)}},4429:(e,t,r)=>{var n=r(5639)[\"__core-js_shared__\"];e.exports=n},7114:(e,t,r)=>{var n=r(8668),o=r(2908),i=r(4757);e.exports=function(e,t,r,a,c,s){var l=1&r,u=e.length,p=t.length;if(u!=p&&!(l&&p>u))return!1;var f=s.get(e),d=s.get(t);if(f&&d)return f==t&&d==e;var h=-1,y=!0,b=2&r?new n:void 0;for(s.set(e,t),s.set(t,e);++h<u;){var v=e[h],g=t[h];if(a)var m=l?a(g,v,h,t,e,s):a(v,g,h,e,t,s);if(void 0!==m){if(m)continue;y=!1;break}if(b){if(!o(t,(function(e,t){if(!i(b,t)&&(v===e||c(v,e,r,a,s)))return b.push(t)}))){y=!1;break}}else if(v!==g&&!c(v,g,r,a,s)){y=!1;break}}return s.delete(e),s.delete(t),y}},8351:(e,t,r)=>{var n=r(2705),o=r(1149),i=r(7813),a=r(7114),c=r(8776),s=r(1814),l=n?n.prototype:void 0,u=l?l.valueOf:void 0;e.exports=function(e,t,r,n,l,p,f){switch(r){case\"[object DataView]\":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case\"[object ArrayBuffer]\":return!(e.byteLength!=t.byteLength||!p(new o(e),new o(t)));case\"[object Boolean]\":case\"[object Date]\":case\"[object Number]\":return i(+e,+t);case\"[object Error]\":return e.name==t.name&&e.message==t.message;case\"[object RegExp]\":case\"[object String]\":return e==t+\"\";case\"[object Map]\":var d=c;case\"[object Set]\":var h=1&n;if(d||(d=s),e.size!=t.size&&!h)return!1;var y=f.get(e);if(y)return y==t;n|=2,f.set(e,t);var b=a(d(e),d(t),n,l,p,f);return f.delete(e),b;case\"[object Symbol]\":if(u)return u.call(e)==u.call(t)}return!1}},6096:(e,t,r)=>{var n=r(8234),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,i,a,c){var s=1&r,l=n(e),u=l.length;if(u!=n(t).length&&!s)return!1;for(var p=u;p--;){var f=l[p];if(!(s?f in t:o.call(t,f)))return!1}var d=c.get(e),h=c.get(t);if(d&&h)return d==t&&h==e;var y=!0;c.set(e,t),c.set(t,e);for(var b=s;++p<u;){var v=e[f=l[p]],g=t[f];if(i)var m=s?i(g,v,f,t,e,c):i(v,g,f,e,t,c);if(!(void 0===m?v===g||a(v,g,r,i,c):m)){y=!1;break}b||(b=\"constructor\"==f)}if(y&&!b){var x=e.constructor,O=t.constructor;x==O||!(\"constructor\"in e)||!(\"constructor\"in t)||\"function\"==typeof x&&x instanceof x&&\"function\"==typeof O&&O instanceof O||(y=!1)}return c.delete(e),c.delete(t),y}},1957:(e,t,r)=>{var n=\"object\"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},8234:(e,t,r)=>{var n=r(8866),o=r(9551),i=r(3674);e.exports=function(e){return n(e,i,o)}},5050:(e,t,r)=>{var n=r(7019);e.exports=function(e,t){var r=e.__data__;return n(t)?r[\"string\"==typeof t?\"string\":\"hash\"]:r.map}},852:(e,t,r)=>{var n=r(8458),o=r(7801);e.exports=function(e,t){var r=o(e,t);return n(r)?r:void 0}},9607:(e,t,r)=>{var n=r(2705),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,c=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,c),r=e[c];try{e[c]=void 0;var n=!0}catch(e){}var o=a.call(e);return n&&(t?e[c]=r:delete e[c]),o}},9551:(e,t,r)=>{var n=r(4963),o=r(479),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,c=a?function(e){return null==e?[]:(e=Object(e),n(a(e),(function(t){return i.call(e,t)})))}:o;e.exports=c},4160:(e,t,r)=>{var n=r(8552),o=r(7071),i=r(3818),a=r(8525),c=r(577),s=r(4239),l=r(346),u=\"[object Map]\",p=\"[object Promise]\",f=\"[object Set]\",d=\"[object WeakMap]\",h=\"[object DataView]\",y=l(n),b=l(o),v=l(i),g=l(a),m=l(c),x=s;(n&&x(new n(new ArrayBuffer(1)))!=h||o&&x(new o)!=u||i&&x(i.resolve())!=p||a&&x(new a)!=f||c&&x(new c)!=d)&&(x=function(e){var t=s(e),r=\"[object Object]\"==t?e.constructor:void 0,n=r?l(r):\"\";if(n)switch(n){case y:return h;case b:return u;case v:return p;case g:return f;case m:return d}return t}),e.exports=x},7801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},1789:(e,t,r)=>{var n=r(4536);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},7667:(e,t,r)=>{var n=r(4536),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return\"__lodash_hash_undefined__\"===r?void 0:r}return o.call(t,e)?t[e]:void 0}},1327:(e,t,r)=>{var n=r(4536),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:o.call(t,e)}},1866:(e,t,r)=>{var n=r(4536);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?\"__lodash_hash_undefined__\":t,this}},5776:e=>{var t=/^(?:0|[1-9]\\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&(\"number\"==n||\"symbol\"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},7019:e=>{e.exports=function(e){var t=typeof e;return\"string\"==t||\"number\"==t||\"symbol\"==t||\"boolean\"==t?\"__proto__\"!==e:null===e}},5346:(e,t,r)=>{var n,o=r(4429),i=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+n:\"\";e.exports=function(e){return!!i&&i in e}},5726:e=>{var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===(\"function\"==typeof r&&r.prototype||t)}},7040:e=>{e.exports=function(){this.__data__=[],this.size=0}},4125:(e,t,r)=>{var n=r(8470),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0||(r==t.length-1?t.pop():o.call(t,r,1),--this.size,0))}},2117:(e,t,r)=>{var n=r(8470);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},7518:(e,t,r)=>{var n=r(8470);e.exports=function(e){return n(this.__data__,e)>-1}},4705:(e,t,r)=>{var n=r(8470);e.exports=function(e,t){var r=this.__data__,o=n(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}},4785:(e,t,r)=>{var n=r(1989),o=r(8407),i=r(7071);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}},1285:(e,t,r)=>{var n=r(5050);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},6e3:(e,t,r)=>{var n=r(5050);e.exports=function(e){return n(this,e).get(e)}},9916:(e,t,r)=>{var n=r(5050);e.exports=function(e){return n(this,e).has(e)}},5265:(e,t,r)=>{var n=r(5050);e.exports=function(e,t){var r=n(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}},8776:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}},4536:(e,t,r)=>{var n=r(852)(Object,\"create\");e.exports=n},6916:(e,t,r)=>{var n=r(5569)(Object.keys,Object);e.exports=n},1167:(e,t,r)=>{e=r.nmd(e);var n=r(1957),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&n.process,c=function(){try{return i&&i.require&&i.require(\"util\").types||a&&a.binding&&a.binding(\"util\")}catch(e){}}();e.exports=c},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(r){return e(t(r))}}},5639:(e,t,r)=>{var n=r(1957),o=\"object\"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function(\"return this\")();e.exports=i},619:e=>{e.exports=function(e){return this.__data__.set(e,\"__lodash_hash_undefined__\"),this}},2385:e=>{e.exports=function(e){return this.__data__.has(e)}},1814:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}},7465:(e,t,r)=>{var n=r(8407);e.exports=function(){this.__data__=new n,this.size=0}},3779:e=>{e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},7599:e=>{e.exports=function(e){return this.__data__.get(e)}},4758:e=>{e.exports=function(e){return this.__data__.has(e)}},4309:(e,t,r)=>{var n=r(8407),o=r(7071),i=r(3369);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new i(a)}return r.set(e,t),this.size=r.size,this}},346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+\"\"}catch(e){}}return\"\"}},7813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},5694:(e,t,r)=>{var n=r(9454),o=r(7005),i=Object.prototype,a=i.hasOwnProperty,c=i.propertyIsEnumerable,s=n(function(){return arguments}())?n:function(e){return o(e)&&a.call(e,\"callee\")&&!c.call(e,\"callee\")};e.exports=s},1469:e=>{var t=Array.isArray;e.exports=t},8612:(e,t,r)=>{var n=r(3560),o=r(1780);e.exports=function(e){return null!=e&&o(e.length)&&!n(e)}},4144:(e,t,r)=>{e=r.nmd(e);var n=r(5639),o=r(5062),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,c=a&&a.exports===i?n.Buffer:void 0,s=(c?c.isBuffer:void 0)||o;e.exports=s},8446:(e,t,r)=>{var n=r(939);e.exports=function(e,t){return n(e,t)}},3560:(e,t,r)=>{var n=r(4239),o=r(3218);e.exports=function(e){if(!o(e))return!1;var t=n(e);return\"[object Function]\"==t||\"[object GeneratorFunction]\"==t||\"[object AsyncFunction]\"==t||\"[object Proxy]\"==t}},1780:e=>{e.exports=function(e){return\"number\"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&(\"object\"==t||\"function\"==t)}},7005:e=>{e.exports=function(e){return null!=e&&\"object\"==typeof e}},6719:(e,t,r)=>{var n=r(8749),o=r(1717),i=r(1167),a=i&&i.isTypedArray,c=a?o(a):n;e.exports=c},3674:(e,t,r)=>{var n=r(4636),o=r(280),i=r(8612);e.exports=function(e){return i(e)?n(e):o(e)}},8306:(e,t,r)=>{var n=r(3369);function o(e,t){if(\"function\"!=typeof e||null!=t&&\"function\"!=typeof t)throw new TypeError(\"Expected a function\");var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(o.Cache||n),r}o.Cache=n,e.exports=o},479:e=>{e.exports=function(){return[]}},5062:e=>{e.exports=function(){return!1}},2703:(e,t,r)=>{\"use strict\";var n=r(414);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,i,a){if(a!==n){var c=new Error(\"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types\");throw c.name=\"Invariant Violation\",c}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},5697:(e,t,r)=>{e.exports=r(2703)()},414:e=>{\"use strict\";e.exports=\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\"},9787:t=>{\"use strict\";t.exports=e}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={id:e,loaded:!1,exports:{}};return t[e](i,i.exports,n),i.loaded=!0,i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if(\"object\"==typeof globalThis)return globalThis;try{return this||new Function(\"return this\")()}catch(e){if(\"object\"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var o={};return(()=>{\"use strict\";n.r(o),n.d(o,{default:()=>xe,expandNodesToLevel:()=>me});var e=n(4184),t=n.n(e),r=n(8446),i=n.n(r),a=n(8306),c=n.n(a);let s=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?\"-\":\"_\")),\"\");var l=n(5697),u=n.n(l),p=n(9787),f=n.n(p);function d(e){return d=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},d(e)}var h=[\"children\",\"title\"];function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y.apply(this,arguments)}function b(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function m(e,t){if(t&&(\"object\"===d(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var k=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&g(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=x(n);if(o){var r=x(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return m(this,e)});function a(){return b(this,a),i.apply(this,arguments)}return t=a,(r=[{key:\"render\",value:function(){var e=this.props,t=e.children,r=e.title,n=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,h);return f().createElement(\"button\",y({\"aria-label\":r,title:r,type:\"button\"},n),t)}}])&&v(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(f().PureComponent);O(k,\"propTypes\",{children:u().node.isRequired,title:u().string}),O(k,\"defaultProps\",{title:null});const j=k,_={ALL:\"all\",PARENT:\"parent\",LEAF:\"leaf\"};function w(e){this.message=e,this.stack=Error().stack}w.prototype=Object.create(Error.prototype),w.prototype.name=\"CheckboxTreeError\";const C=w;function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var S=_;const T=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};N(this,e),this.props=t,this.flatNodes=r}var t,r;return t=e,r=[{key:\"setProps\",value:function(e){this.props=e}},{key:\"clone\",value:function(){var t=this,r={};return Object.keys(this.flatNodes).forEach((function(e){var n=t.flatNodes[e];r[e]=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},n)})),new e(this.props,r)}},{key:\"getNode\",value:function(e){return this.flatNodes[e]}},{key:\"reset\",value:function(){this.flatNodes={}}},{key:\"flattenNodes\",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(Array.isArray(e)&&0!==e.length){var o=this.props,i=o.disabled,a=o.noCascade;e.forEach((function(e,o){var c=t.nodeHasChildren(e);if(void 0!==t.flatNodes[e.value])throw new C(\"Duplicate value '\".concat(e.value,\"' detected. All node values must be unique.\"));t.flatNodes[e.value]={label:e.label,value:e.value,children:e.children,parent:r,isChild:void 0!==r.value,isParent:c,isLeaf:!c,showCheckbox:void 0===e.showCheckbox||e.showCheckbox,disabled:t.getDisabledState(e,r,i,a),treeDepth:n,index:o},t.flattenNodes(e.children,e,n+1)}))}}},{key:\"nodeHasChildren\",value:function(e){return Array.isArray(e.children)}},{key:\"getDisabledState\",value:function(e,t,r,n){return!!r||!(n||!t.disabled)||Boolean(e.disabled)}},{key:\"deserializeLists\",value:function(e){var t=this,r=[\"checked\",\"expanded\"];Object.keys(this.flatNodes).forEach((function(e){r.forEach((function(r){t.flatNodes[e][r]=!1}))})),r.forEach((function(r){e[r].forEach((function(e){void 0!==t.flatNodes[e]&&(t.flatNodes[e][r]=!0)}))}))}},{key:\"serializeList\",value:function(e){var t=this,r=[];return Object.keys(this.flatNodes).forEach((function(n){t.flatNodes[n][e]&&r.push(n)})),r}},{key:\"expandAllNodes\",value:function(e){var t=this;return Object.keys(this.flatNodes).forEach((function(r){t.flatNodes[r].isParent&&(t.flatNodes[r].expanded=e)})),this}},{key:\"toggleChecked\",value:function(e,t,r,n){var o=this,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=this.flatNodes[e.value],c=[S.PARENT,S.ALL].indexOf(r)>-1,s=[S.LEAF,S.ALL].indexOf(r)>-1;if(a.isLeaf||n){if(e.disabled)return this;this.toggleNode(e.value,\"checked\",t)}else(c||0===a.children.length)&&this.toggleNode(e.value,\"checked\",t),s&&a.children.forEach((function(e){o.toggleChecked(e,t,r,n,!1)}));return i&&!n&&a.isChild&&c&&this.toggleParentStatus(a.parent,r),this}},{key:\"toggleParentStatus\",value:function(e,t){var r=this.flatNodes[e.value];r.isChild?(t===S.ALL&&this.toggleNode(e.value,\"checked\",this.isEveryChildChecked(r)),this.toggleParentStatus(r.parent,t)):this.toggleNode(e.value,\"checked\",this.isEveryChildChecked(r))}},{key:\"isEveryChildChecked\",value:function(e){var t=this;return e.children.every((function(e){return t.getNode(e.value).checked}))}},{key:\"toggleNode\",value:function(e,t,r){return this.flatNodes[e][t]=r,this}}],r&&A(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),e}();function R(e){return R=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},R(e)}function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L.apply(this,arguments)}function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function q(e,t){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},q(e,t)}function B(e,t){if(t&&(\"object\"===R(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}function F(e){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},F(e)}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var U=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&q(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=F(n);if(o){var r=F(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return B(this,e)});function a(){return I(this,a),i.apply(this,arguments)}return t=a,r=[{key:\"componentDidMount\",value:function(){this.updateDeterminateProperty()}},{key:\"componentDidUpdate\",value:function(){this.updateDeterminateProperty()}},{key:\"updateDeterminateProperty\",value:function(){var e=this.props.indeterminate;this.checkbox.indeterminate=e}},{key:\"render\",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},this.props);return delete t.indeterminate,f().createElement(\"input\",L({},t,{ref:function(t){e.checkbox=t},type:\"checkbox\"}))}}],r&&z(t.prototype,r),Object.defineProperty(t,\"prototype\",{writable:!1}),a}(f().PureComponent);M(U,\"propTypes\",{indeterminate:u().bool}),M(U,\"defaultProps\",{indeterminate:!1});const K=U,H=u().shape({check:u().node,uncheck:u().node,halfCheck:u().node,expandClose:u().node,expandOpen:u().node,expandAll:u().node,collapseAll:u().node,parentClose:u().node,parentOpen:u().node,leaf:u().node}),$=u().shape({collapseAll:u().string.isRequired,expandAll:u().string.isRequired,toggle:u().string.isRequired});function V(e){return V=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},V(e)}function W(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function J(e,t){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},J(e,t)}function G(e,t){if(t&&(\"object\"===V(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return Y(e)}function Y(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Q(e){return Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Q(e)}function X(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Z=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&J(e,t)}(c,e);var r,n,o,i,a=(o=c,i=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Q(o);if(i){var r=Q(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return G(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,c),(t=a.call(this,e)).onCheck=t.onCheck.bind(Y(t)),t.onCheckboxKeyPress=t.onCheckboxKeyPress.bind(Y(t)),t.onCheckboxKeyUp=t.onCheckboxKeyUp.bind(Y(t)),t.onClick=t.onClick.bind(Y(t)),t.onExpand=t.onExpand.bind(Y(t)),t}return r=c,(n=[{key:\"onCheck\",value:function(){var e=this.props,t=e.value;(0,e.onCheck)({value:t,checked:this.getCheckState({toggle:!0})})}},{key:\"onCheckboxKeyPress\",value:function(e){32===e.which&&e.preventDefault()}},{key:\"onCheckboxKeyUp\",value:function(e){var t=e.keyCode;[13,32].includes(t)&&this.onCheck()}},{key:\"onClick\",value:function(){var e=this.props,t=e.expandOnClick,r=e.isParent,n=e.value,o=e.onClick;r&&t&&this.onExpand(),o({value:n,checked:this.getCheckState({toggle:!1})})}},{key:\"onExpand\",value:function(){var e=this.props,t=e.expanded,r=e.value;(0,e.onExpand)({value:r,expanded:!t})}},{key:\"getCheckState\",value:function(e){var t=e.toggle,r=this.props,n=r.checked,o=r.optimisticToggle;return!(0!==n||!t)||1===n&&!t||2===n&&o}},{key:\"renderCollapseButton\",value:function(){var e=this.props,t=e.expandDisabled,r=e.isLeaf,n=e.lang;return r?f().createElement(\"span\",{className:\"rct-collapse\"},f().createElement(\"span\",{className:\"rct-icon\"})):f().createElement(j,{className:\"rct-collapse rct-collapse-btn\",disabled:t,title:n.toggle,onClick:this.onExpand},this.renderCollapseIcon())}},{key:\"renderCollapseIcon\",value:function(){var e=this.props,t=e.expanded,r=e.icons,n=r.expandClose,o=r.expandOpen;return t?o:n}},{key:\"renderCheckboxIcon\",value:function(){var e=this.props,t=e.checked,r=e.icons,n=r.uncheck,o=r.check,i=r.halfCheck;return 0===t?n:1===t?o:i}},{key:\"renderNodeIcon\",value:function(){var e=this.props,t=e.expanded,r=e.icon,n=e.icons,o=n.leaf,i=n.parentClose,a=n.parentOpen,c=e.isLeaf;return null!==r?r:c?o:t?a:i}},{key:\"renderBareLabel\",value:function(e){var t=this.props,r=t.onClick,n=t.title,o=null!==r;return f().createElement(\"span\",{className:\"rct-bare-label\",title:n},o?f().createElement(\"span\",{className:\"rct-node-clickable\",onClick:this.onClick,onKeyPress:this.onClick,role:\"button\",tabIndex:0},e):e)}},{key:\"renderCheckboxLabel\",value:function(e){var t=this.props,r=t.checked,n=t.disabled,o=t.title,i=t.treeId,a=t.value,c=null!==t.onClick,s=\"\".concat(i,\"-\").concat(String(a).split(\" \").join(\"_\")),l=[f().createElement(\"label\",{key:0,htmlFor:s,title:o},f().createElement(K,{checked:1===r,disabled:n,id:s,indeterminate:2===r,onClick:this.onCheck,onChange:function(){}}),f().createElement(\"span\",{\"aria-checked\":1===r,\"aria-disabled\":n,className:\"rct-checkbox\",role:\"checkbox\",tabIndex:0,onKeyPress:this.onCheckboxKeyPress,onKeyUp:this.onCheckboxKeyUp},this.renderCheckboxIcon()),c?null:e)];return c&&l.push(f().createElement(\"span\",{key:1,className:\"rct-node-clickable\",onClick:this.onClick,onKeyPress:this.onClick,role:\"link\",tabIndex:0},e)),l}},{key:\"renderLabel\",value:function(){var e=this.props,t=e.label,r=e.showCheckbox,n=[e.showNodeIcon?f().createElement(\"span\",{key:0,className:\"rct-node-icon\"},this.renderNodeIcon()):null,f().createElement(\"span\",{key:1,className:\"rct-title\"},t)];return r?this.renderCheckboxLabel(n):this.renderBareLabel(n)}},{key:\"renderChildren\",value:function(){return this.props.expanded?this.props.children:null}},{key:\"render\",value:function(){var e=this.props,r=e.className,n=e.disabled,o=e.expanded,i=e.isLeaf,a=t()({\"rct-node\":!0,\"rct-node-leaf\":i,\"rct-node-parent\":!i,\"rct-node-expanded\":!i&&o,\"rct-node-collapsed\":!i&&!o,\"rct-disabled\":n},r);return f().createElement(\"li\",{className:a},f().createElement(\"span\",{className:\"rct-text\"},this.renderCollapseButton(),this.renderLabel()),this.renderChildren())}}])&&W(r.prototype,n),Object.defineProperty(r,\"prototype\",{writable:!1}),c}(f().PureComponent);X(Z,\"propTypes\",{checked:u().number.isRequired,disabled:u().bool.isRequired,expandDisabled:u().bool.isRequired,expanded:u().bool.isRequired,icons:H.isRequired,isLeaf:u().bool.isRequired,isParent:u().bool.isRequired,label:u().node.isRequired,lang:$.isRequired,optimisticToggle:u().bool.isRequired,showNodeIcon:u().bool.isRequired,treeId:u().string.isRequired,value:u().oneOfType([u().string,u().number]).isRequired,onCheck:u().func.isRequired,onExpand:u().func.isRequired,children:u().node,className:u().string,expandOnClick:u().bool,icon:u().node,showCheckbox:u().bool,title:u().string,onClick:u().func}),X(Z,\"defaultProps\",{children:null,className:null,expandOnClick:!1,icon:null,showCheckbox:!0,title:null,onClick:function(){}});const ee=Z,te=u().oneOfType([u().arrayOf(u().string),u().arrayOf(u().number)]);function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ie={label:u().node.isRequired,value:u().oneOfType([u().string,u().number]).isRequired,disabled:u().bool,icon:u().node,showCheckbox:u().bool,title:u().string};const ae=u().oneOfType([u().shape(ie),u().shape(ne(ne({},ie),{},{children:u().arrayOf(ie).isRequired}))]);function ce(e){return ce=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},ce(e)}function se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?se(Object(r),!0).forEach((function(t){ye(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pe(e,t){return pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pe(e,t)}function fe(e,t){if(t&&(\"object\"===ce(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return de(e)}function de(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function he(e){return he=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},he(e)}function ye(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var be=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&pe(e,t)}(p,e);var r,n,o,a,l,u=(a=p,l=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=he(a);if(l){var r=he(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return fe(this,e)});function p(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,p),t=u.call(this,e);var r=new T(e);return r.flattenNodes(e.nodes),r.deserializeLists({checked:e.checked,expanded:e.expanded}),t.state={id:e.id||\"rct-\".concat(s()),model:r,prevProps:e},t.onCheck=t.onCheck.bind(de(t)),t.onExpand=t.onExpand.bind(de(t)),t.onNodeClick=t.onNodeClick.bind(de(t)),t.onExpandAll=t.onExpandAll.bind(de(t)),t.onCollapseAll=t.onCollapseAll.bind(de(t)),t.combineMemorized=c()((function(e,t){return le(le({},e),t)})).bind(de(t)),t}return r=p,n=[{key:\"onCheck\",value:function(e){var t=this.props,r=t.checkModel,n=t.noCascade,o=t.onCheck,i=this.state.model.clone(),a=i.getNode(e.value);i.toggleChecked(e,e.checked,r,n),o(i.serializeList(\"checked\"),le(le({},a),e))}},{key:\"onExpand\",value:function(e){var t=this.props.onExpand,r=this.state.model.clone(),n=r.getNode(e.value);r.toggleNode(e.value,\"expanded\",e.expanded),t(r.serializeList(\"expanded\"),le(le({},n),e))}},{key:\"onNodeClick\",value:function(e){(0,this.props.onClick)(le(le({},this.state.model.getNode(e.value)),e))}},{key:\"onExpandAll\",value:function(){this.expandAllNodes()}},{key:\"onCollapseAll\",value:function(){this.expandAllNodes(!1)}},{key:\"expandAllNodes\",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.props.onExpand;t(this.state.model.clone().expandAllNodes(e).serializeList(\"expanded\"))}},{key:\"determineShallowCheckState\",value:function(e,t){var r=this.state.model.getNode(e.value);return r.isLeaf||t||0===e.children.length?r.checked?1:0:this.isEveryChildChecked(e)?1:this.isSomeChildChecked(e)?2:0}},{key:\"isEveryChildChecked\",value:function(e){var t=this;return e.children.every((function(e){return 1===t.state.model.getNode(e.value).checkState}))}},{key:\"isSomeChildChecked\",value:function(e){var t=this;return e.children.some((function(e){return t.state.model.getNode(e.value).checkState>0}))}},{key:\"renderTreeNodes\",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.props,o=n.expandDisabled,i=n.expandOnClick,a=n.icons,c=n.lang,s=n.noCascade,l=n.onClick,u=n.onlyLeafCheckboxes,d=n.optimisticToggle,h=n.showNodeTitle,y=n.showNodeIcon,b=this.state,v=b.id,g=b.model,m=p.defaultProps.icons,x=e.map((function(e){var n=e.value,p=g.getNode(e.value),b=p.isParent?t.renderTreeNodes(e.children,e):null;p.checkState=t.determineShallowCheckState(e,s);var x=u?p.isLeaf:p.showCheckbox;return!r.value||g.getNode(r.value).expanded?f().createElement(ee,{key:n,checked:p.checkState,className:e.className,disabled:p.disabled,expandDisabled:o,expandOnClick:i,expanded:p.expanded,icon:e.icon,icons:t.combineMemorized(m,a),label:e.label,lang:c,optimisticToggle:d,isLeaf:p.isLeaf,isParent:p.isParent,showCheckbox:x,showNodeIcon:y,title:h?e.title||e.label:e.title,treeId:v,value:e.value,onCheck:t.onCheck,onClick:l&&t.onNodeClick,onExpand:t.onExpand},b):null}));return f().createElement(\"ol\",null,x)}},{key:\"renderExpandAll\",value:function(){var e=this.props,t=e.icons,r=t.expandAll,n=t.collapseAll,o=e.lang;return e.showExpandAll?f().createElement(\"div\",{className:\"rct-options\"},f().createElement(j,{className:\"rct-option rct-option-expand-all\",title:o.expandAll,onClick:this.onExpandAll},r),f().createElement(j,{className:\"rct-option rct-option-collapse-all\",title:o.collapseAll,onClick:this.onCollapseAll},n)):null}},{key:\"renderHiddenInput\",value:function(){var e=this.props,t=e.name,r=e.nameAsArray;return void 0===t?null:r?this.renderArrayHiddenInput():this.renderJoinedHiddenInput()}},{key:\"renderArrayHiddenInput\",value:function(){var e=this.props,t=e.checked,r=e.name;return t.map((function(e){var t=\"\".concat(r,\"[]\");return f().createElement(\"input\",{key:e,name:t,type:\"hidden\",value:e})}))}},{key:\"renderJoinedHiddenInput\",value:function(){var e=this.props,t=e.checked,r=e.name,n=t.join(\",\");return f().createElement(\"input\",{name:r,type:\"hidden\",value:n})}},{key:\"render\",value:function(){var e,r=this.props,n=r.direction,o=r.disabled,i=r.iconsClass,a=r.nodes,c=r.nativeCheckboxes,s=this.state.id,l=this.renderTreeNodes(a),u=t()((ye(e={\"react-checkbox-tree\":!0,\"rct-disabled\":o},\"rct-icons-\".concat(i),!0),ye(e,\"rct-native-display\",c),ye(e,\"rct-direction-rtl\",\"rtl\"===n),e));return f().createElement(\"div\",{className:u,id:s},this.renderExpandAll(),this.renderHiddenInput(),l)}}],o=[{key:\"getDerivedStateFromProps\",value:function(e,t){var r=t.model,n=t.prevProps,o=e.disabled,a=e.id,c=e.nodes,s=le(le({},t),{},{prevProps:e});return r.setProps(e),i()(n.nodes,c)&&n.disabled===o||(r.reset(),r.flattenNodes(c)),null!==a&&(s=le(le({},s),{},{id:a})),r.deserializeLists({checked:e.checked,expanded:e.expanded}),s}}],n&&ue(r.prototype,n),o&&ue(r,o),Object.defineProperty(r,\"prototype\",{writable:!1}),p}(f().Component);function ve(e){return function(e){if(Array.isArray(e))return ge(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}(e)||function(e,t){if(e){if(\"string\"==typeof e)return ge(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===r&&e.constructor&&(r=e.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(e):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ge(e,t):void 0}}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function me(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(r>t)return[];var n=[];return e.forEach((function(e){e.children&&(n=[].concat(ve(n),[e.value],ve(me(e.children,t,r+1))))})),n}ye(be,\"propTypes\",{nodes:u().arrayOf(ae).isRequired,checkModel:u().oneOf([_.LEAF,_.ALL]),checked:te,direction:u().string,disabled:u().bool,expandDisabled:u().bool,expandOnClick:u().bool,expanded:te,icons:H,iconsClass:u().string,id:u().string,lang:$,name:u().string,nameAsArray:u().bool,nativeCheckboxes:u().bool,noCascade:u().bool,onlyLeafCheckboxes:u().bool,optimisticToggle:u().bool,showExpandAll:u().bool,showNodeIcon:u().bool,showNodeTitle:u().bool,onCheck:u().func,onClick:u().func,onExpand:u().func}),ye(be,\"defaultProps\",{checkModel:_.LEAF,checked:[],direction:\"ltr\",disabled:!1,expandDisabled:!1,expandOnClick:!1,expanded:[],icons:{check:f().createElement(\"span\",{className:\"rct-icon rct-icon-check\"}),uncheck:f().createElement(\"span\",{className:\"rct-icon rct-icon-uncheck\"}),halfCheck:f().createElement(\"span\",{className:\"rct-icon rct-icon-half-check\"}),expandClose:f().createElement(\"span\",{className:\"rct-icon rct-icon-expand-close\"}),expandOpen:f().createElement(\"span\",{className:\"rct-icon rct-icon-expand-open\"}),expandAll:f().createElement(\"span\",{className:\"rct-icon rct-icon-expand-all\"}),collapseAll:f().createElement(\"span\",{className:\"rct-icon rct-icon-collapse-all\"}),parentClose:f().createElement(\"span\",{className:\"rct-icon rct-icon-parent-close\"}),parentOpen:f().createElement(\"span\",{className:\"rct-icon rct-icon-parent-open\"}),leaf:f().createElement(\"span\",{className:\"rct-icon rct-icon-leaf\"})},iconsClass:\"fa4\",id:null,lang:{collapseAll:\"Collapse all\",expandAll:\"Expand all\",toggle:\"Toggle\"},name:void 0,nameAsArray:!1,nativeCheckboxes:!1,noCascade:!1,onlyLeafCheckboxes:!1,optimisticToggle:!0,showExpandAll:!1,showNodeIcon:!0,showNodeTitle:!1,onCheck:function(){},onClick:null,onExpand:function(){}});const xe=be})(),o})()));","export function downloadUrlToFs(fileName: string, url: string, targetBlank = true) {\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.target = targetBlank ? \"_blank\" : \"_self\";\n    a.download = fileName;\n    a.style.display = \"none\";\n    document.body.appendChild(a);\n\n    a.click();\n    a.remove();\n}\n\nexport function downloadArrayToFs(fileName: string, data: Uint8Array) {\n    const blob = new Blob([data], {\n        type: \"application/zip\",\n    });\n    downloadUrlToFs(fileName, URL.createObjectURL(blob));\n}\n","import { FsNode } from \"emulators/dist/types/protocol/protocol\";\nimport { useEffect, useRef, useState } from \"preact/hooks\";\nimport CheckboxTree, { Node, OnCheckNode, OnExpandNode } from \"react-checkbox-tree\";\nimport { useSelector, useStore } from \"react-redux\";\nimport { useT } from \"../../i18n\";\nimport { loadBundle } from \"../../player-api-load\";\nimport { State, useNonSerializableStore } from \"../../store\";\nimport { downloadArrayToFs } from \"../../download-file\";\n\ninterface NodeExt extends Node {\n    fsNode: FsNode,\n}\n\nexport function EditorFsFrame() {\n    const t = useT();\n    const haveCi = useSelector((state: State) => state.dos.ci);\n    const nonSerializableStore = useNonSerializableStore();\n    const [fsSize, setFsSize] = useState<number>(0);\n    const [fsTree, _setFsTree] = useState<NodeExt[] | null>(null);\n    const [expanded, setExpanded] = useState<string[]>([]);\n    const [checked, setChecked] = useState<string[]>([]);\n    const [uploadingFile, setUploadingFile] = useState<string | null>(null);\n    const [makingBundle, setMakingBundle] = useState<boolean>(false);\n\n    function setFsTree(fsTree: NodeExt[] | null) {\n        _setFsTree(fsTree);\n        setFsSize(Math.round(calcFsSize(fsTree) / 1024 / 1024 * 100) / 100);\n    }\n\n    useEffect(() => {\n        if (nonSerializableStore.ci === null || !haveCi) {\n            return;\n        }\n\n        let cancled = false;\n        nonSerializableStore.ci.fsTree()\n            .then((tree) => {\n                if (!cancled) {\n                    setFsTree(toNodes(tree));\n                }\n            })\n            .catch((e) => {\n                console.error(e);\n                if (!cancled) {\n                    setFsTree(null);\n                }\n            });\n\n        return () => {\n            cancled = true;\n        };\n    }, [haveCi]);\n\n\n    function onExpand(expanded: Array<string>, node: OnExpandNode) {\n        setExpanded(expanded);\n    }\n\n    function onCheck(checked: Array<string>, node: OnCheckNode) {\n        setChecked(checked);\n    }\n\n    async function onRefresh() {\n        setFsTree(null);\n        if (nonSerializableStore.ci === null || !haveCi) {\n            return;\n        }\n        const tree = await nonSerializableStore.ci.fsTree();\n        setFsTree(toNodes(tree));\n    }\n\n    // const check = <input type=\"checkbox\" class=\"checkbox\" />;\n    return <div class=\"editor-fs-frame frame-root items-start px-4\">\n        {(makingBundle || uploadingFile !== null) &&\n        <div class=\"card card-bordered bg-base-100 shadow-xl w-full\">\n            <div class=\"card-body\">\n                <div class=\"card-title\">\n                    {t(makingBundle ? \"please_wait\" : \"uploading_file\")}\n                </div>\n                <span class=\"break-words\">\n                    {makingBundle ? t(\"making_bundle\") : uploadingFile}\n                </span>\n            </div>\n        </div>}\n        {!makingBundle && uploadingFile === null && fsTree &&\n        <div className=\"fs-tree-view\">\n            <Actions\n                onRefresh={onRefresh}\n                onUploadingFile={setUploadingFile}\n                onMakingBundle={setMakingBundle} />\n            <div class=\"bg-base-200 px-2 py-1 text-right\">\n                {t(\"size\")}: {fsSize} Mb\n            </div>\n            <div class=\"fs-tree\">\n                <CheckboxTree\n                    icons={{\n                        expandOpen: <FolderOpened /> as any,\n                        expandClose: <FolderClosed /> as any,\n                        // expandAll: <div class=\"bg-red-100 w-4 h-4\"></div> as any,\n                        // parentOpen: <div class=\"bg-blue-100 w-4 h-4\"></div> as any,\n                        // parentClose: <div class=\"bg-purple-100 w-4 h-4\"></div> as any,\n                    }}\n                    iconsClass=\"icon\"\n                    nativeCheckboxes={false}\n                    onlyLeafCheckboxes={true}\n                    nodes={fsTree}\n                    checked={checked}\n                    onCheck={onCheck}\n                    expanded={expanded}\n                    onExpand={onExpand} />\n            </div>\n        </div>}\n    </div>;\n}\n\nfunction toNodes(fsTree: FsNode): NodeExt[] {\n    const fs: NodeExt[] = [];\n    for (const next of (fsTree.nodes?.sort(nodeSorter) || [])) {\n        fs.push(toNode(next, \".\"));\n    }\n    return fs;\n}\n\nfunction toNode(fsNode: FsNode, path: string): NodeExt {\n    const fullPath = path + \"/\" + fsNode.name;\n    const nodeExt: NodeExt = {\n        label: fsNode.name,\n        value: fullPath,\n        fsNode,\n    };\n\n    if (fsNode.nodes !== null) {\n        const children = fsNode.nodes.sort(nodeSorter)\n            .map((next) => toNode(next, fullPath));\n        nodeExt.children = children;\n    }\n\n    return nodeExt;\n}\n\nfunction Actions(props: {\n    onRefresh: () => void,\n    onUploadingFile: (file: string | null) => void,\n    onMakingBundle: (making: boolean) => void,\n}) {\n    const t = useT();\n    const uploadDirRef = useRef<HTMLInputElement>(null);\n    const uploadFileRef = useRef<HTMLInputElement>(null);\n    const store = useStore();\n    const nonSerializableStore = useNonSerializableStore();\n    const { onRefresh, onUploadingFile, onMakingBundle } = props;\n\n    useEffect(() => {\n        if (uploadDirRef.current !== null) {\n            uploadDirRef.current.setAttribute(\"directory\", \"\");\n            uploadDirRef.current.setAttribute(\"webkitdirectory\", \"\");\n        }\n    }, [uploadDirRef]);\n\n    function onUploadClick(file: boolean) {\n        const input = (file ? uploadFileRef : uploadDirRef).current;\n        if (input === null) {\n            return;\n        }\n\n        input.click();\n    }\n\n    async function onUpload(event: any) {\n        const ci = nonSerializableStore.ci;\n        const files: FileList = event.target.files;\n        if (ci === null || files === null) {\n            return;\n        }\n\n        try {\n            for (const file of files) {\n                onUploadingFile(file.name);\n                const parts = (file.webkitRelativePath ?? \"\").split(\"/\");\n                parts.shift();\n                const relPath = parts.join(\"/\");\n                await ci.fsWriteFile(relPath.length == 0 ? file.name : relPath, file.stream());\n            }\n        } finally {\n            onUploadingFile(null);\n        }\n\n        await onRefresh();\n    }\n\n    async function onRestart() {\n        const ci = nonSerializableStore.ci;\n        if (ci === null || !window.confirm(t(\"fs_restart\"))) {\n            return;\n        }\n\n        onMakingBundle(true);\n        try {\n            const bundle = await ci.persist(false);\n            if (bundle) {\n                loadBundle(bundle, true, store);\n            }\n        } finally {\n            onMakingBundle(false);\n        }\n    }\n\n    async function onDownload() {\n        const ci = nonSerializableStore.ci;\n        if (ci === null) {\n            return;\n        }\n\n        onMakingBundle(true);\n        try {\n            const bundle = await ci.persist(false);\n            if (bundle) {\n                downloadArrayToFs(\"bundle.jsdos\", bundle);\n            }\n        } finally {\n            onMakingBundle(false);\n        }\n    }\n\n    return <div class=\"h-6 flex flex-row\">\n        <input class=\"hidden\" type=\"file\" multiple ref={uploadDirRef} onChange={onUpload} />\n        <input class=\"hidden\" type=\"file\" multiple ref={uploadFileRef} onChange={onUpload} />\n        <button class=\"refresh btn-xs rounded-none\" onClick={onRefresh}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n                viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-4 h-4\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\"\n                    d=\"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181\n                    3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181\n                    3.182m0-4.991v4.99\" />\n            </svg>\n        </button>\n        <button class=\"add-file btn-xs rounded-none\" onClick={() => onUploadClick(true)}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n                viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-4 h-4\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M19.5 14.25v-2.625a3.375\n                    3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0\n                    00-3.375-3.375H8.25m3.75 9v6m3-3H9m1.5-12H5.625c-.621 0-1.125.504-1.125\n                    1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9\n                     9 0 00-9-9z\" />\n            </svg>\n        </button>\n        <button class=\"add-dir btn-xs rounded-none\" onClick={() => onUploadClick(false)}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n                viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-4 h-4\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\"\n                    d=\"M12 10.5v6m3-3H9m4.06-7.19l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25\n                    2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75\n                    18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z\" />\n            </svg>\n        </button>\n        <div class=\"flex-grow\"></div>\n        <button class=\"download btn-xs rounded-none\" onClick={onDownload}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n                viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-4 h-4\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M9 13.5l3 3m0 0l3-3m-3\n                    3v-6m1.06-4.19l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25\n                    0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5\n                    0 01-1.06-.44z\" />\n            </svg>\n        </button>\n        <button class=\"restart btn-xs rounded-none\" onClick={onRestart}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n                viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-4 h-4\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M21 7.5V18M15 7.5V18M3\n                    16.811V8.69c0-.864.933-1.406 1.683-.977l7.108 4.061a1.125 1.125 0 010 1.954l-7.108\n                    4.061A1.125 1.125 0 013 16.811z\" />\n            </svg>\n        </button>\n    </div>;\n}\n\nfunction nodeSorter(a: FsNode, b: FsNode) {\n    if (a.nodes !== null && b.nodes !== null) {\n        return b.name.localeCompare(a.name);\n    }\n\n    return a.nodes === null ? 1 : -1;\n}\n\nfunction FolderOpened() {\n    return <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n        viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-4 h-4 mr-2\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M19.5 8.25l-7.5 7.5-7.5-7.5\" />\n    </svg>;\n}\n\nfunction FolderClosed() {\n    return <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\n        stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-4 h-4 mr-2\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M8.25 4.5l7.5 7.5-7.5 7.5\" />\n    </svg>;\n}\n\nfunction calcFsSize(fsTree: NodeExt[] | null) {\n    if (!fsTree) {\n        return 0;\n    }\n\n    let size = 0;\n    for (const next of fsTree) {\n        if (next.fsNode.size !== null) {\n            size += next.fsNode.size!;\n        } else {\n            size += calcFsSize(next.children as NodeExt[]);\n        }\n    }\n\n    return size;\n}\n","import { useT } from \"../i18n\";\n\nexport function Select(props: {\n    class?: string,\n    selectClass?: string,\n    label: string,\n    selected: string,\n    values: string[],\n    onSelect?: (value: string) => void,\n    disabled?: boolean,\n    multiline?: boolean,\n}) {\n    const t = useT();\n    const multiline = props.multiline === true;\n    function onSelect(e: any) {\n        if (props.onSelect !== undefined) {\n            props.onSelect(e.currentTarget.value);\n        }\n    }\n    return <div class={props.class + \" option flex \" +\n        (multiline ? \"flex-col\" : \"flex-row items-center\")}>\n        <div class={ multiline ? \"mb-2\" : \"mr-4\" }>{props.label}</div>\n        <div class=\"flex-grow\">\n            <select class={ props.selectClass ? props.selectClass :\n                (multiline ? \"w-full\" : \"w-28\") }\n            onChange={onSelect} disabled={props.disabled === true}>\n                {props.values.map((v) => {\n                    return <option selected={v === props.selected} value={v}>{t(v)}</option>;\n                })}\n            </select>\n        </div>\n    </div>;\n}\n","import { useDispatch, useSelector } from \"react-redux\";\nimport { useT } from \"../i18n\";\nimport { State } from \"../store\";\nimport { Select } from \"./select\";\nimport { AnyAction } from \"@reduxjs/toolkit\";\nimport {\n    Backend, BackendValues, dosSlice, ImageRendering, ImageRenderingValues, RenderAspect, RenderAspectValues,\n    RenderBackend, RenderBackendValues,\n} from \"../store/dos\";\nimport { ThemeValues, Theme, uiSlice } from \"../store/ui\";\nimport { lStorage } from \"../host/lstorage\";\nimport { SockdriveBackendName, initSlice, sockdriveBackendNames } from \"../store/init\";\n\nexport function BackendSelect(props: { multiline?: boolean }) {\n    const locked = useSelector((state: State) => state.dos.backendLocked);\n    return <OptionSelect\n        multiline={props.multiline}\n        label=\"emulation_backend\"\n        values={[...BackendValues]}\n        disabled={locked}\n        selector={(state: State) => state.dos.backend}\n        dispatch={(newValue: Backend) => {\n            lStorage.setItem(\"backend\", newValue);\n            return dosSlice.actions.dosBackend(newValue);\n        }}\n    />;\n}\n\nexport function RenderSelect(props: { multiline?: boolean }) {\n    const disabled = useSelector((state: State) => state.ui.window) === \"run\";\n    return <OptionSelect\n        multiline={props.multiline}\n        label=\"render_backend\"\n        values={[...RenderBackendValues]}\n        disabled={disabled}\n        selector={(state: State) => state.dos.renderBackend}\n        dispatch={(newValue: RenderBackend) => dosSlice.actions.renderBackend(newValue)}\n    />;\n}\n\nexport function RenderAspectSelect(props: { multiline?: boolean }) {\n    return <OptionSelect\n        label=\"render_aspect\"\n        multiline={props.multiline}\n        values={[...RenderAspectValues]}\n        selector={(state: State) => state.dos.renderAspect}\n        dispatch={(newValue: RenderAspect) => dosSlice.actions.renderAspect(newValue)}\n    />;\n}\n\nexport function ImageRenderingSelect(props: { multiline?: boolean }) {\n    return <OptionSelect\n        label=\"image_rendering\"\n        multiline={props.multiline}\n        values={[...ImageRenderingValues]}\n        selector={(state: State) => state.dos.imageRendering}\n        dispatch={(newValue: ImageRendering) => dosSlice.actions.imageRendering(newValue)}\n    />;\n}\n\nexport function ThemeSelect(props: { class?: string, multiline?: boolean }) {\n    return <OptionSelect\n        class={props.class}\n        label=\"theme\"\n        values={[...ThemeValues]}\n        selector={(state: State) => state.ui.theme}\n        dispatch={(newValue: Theme) => uiSlice.actions.theme(newValue)}\n        multiline={props.multiline}\n    />;\n}\n\nexport function SockdriveBackend(props: { class?: string, multiline?: boolean }) {\n    return <OptionSelect<SockdriveBackendName>\n        class={props.class}\n        label=\"FAT16/32 Backend\"\n        values={sockdriveBackendNames}\n        selector={(state: State) => state.init.sockdriveBackendName}\n        dispatch={(newValue) => initSlice.actions.setSockdriveBackendName(newValue)}\n        multiline={props.multiline}\n    />;\n}\n\nfunction OptionSelect<T>(props: {\n    class?: string,\n    selectClass?: string,\n    label: string,\n    values: string[]\n    selector: (state: State) => T,\n    dispatch: (newValue: T) => AnyAction;\n    disabled?: boolean,\n    multiline?: boolean,\n}) {\n    const t = useT();\n    const value = useSelector(props.selector);\n    const dispatch = useDispatch();\n\n    function onBackend(newValue: T) {\n        dispatch(props.dispatch(newValue));\n    }\n    return <Select\n        class={\"mt-4 \" + props.class}\n        selectClass={props.selectClass}\n        disabled={props.disabled}\n        multiline={props.multiline}\n        label={t(props.label)}\n        selected={value as string}\n        values={props.values}\n        onSelect={onBackend as any} />;\n}\n\n","export function LockBadge(props: {\n    class?: string,\n}) {\n    return <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\"\n        class={ props.class ?? \"absolute left-0 top-0 -ml-1 -mt-1 text-error w-4 h-4\" }>\n        <path fill-rule=\"evenodd\" d=\"M12 1.5a5.25 5.25 0 00-5.25 5.25v3a3 3 0 00-3 3v6.75a3 3 0 003\n                    3h10.5a3 3 0 003-3v-6.75a3 3 0 00-3-3v-3c0-2.9-2.35-5.25-5.25-5.25zm3.75\n                    8.25v-3a3.75 3.75 0 10-7.5 0v3h7.5z\" clip-rule=\"evenodd\" />\n    </svg>;\n}\n","import { useT } from \"../i18n\";\nimport { SockdriveBackend } from \"../components/dos-option-select\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { sockdriveBackend } from \"../store/init\";\nimport { State } from \"../store\";\nimport { useEffect, useRef, useState } from \"preact/hooks\";\nimport { uiSlice } from \"../store/ui\";\nimport { LockBadge } from \"../components/lock\";\nimport { isSockdrivePremium } from \"../player-api\";\n\ninterface Drive {\n    name: string,\n    owner: string\n    fork_of: string[],\n    template: string,\n}\n\nexport function FatDrivesFrame() {\n    const t = useT();\n    const account = useSelector((state: State) => state.auth.account);\n    const { sockdriveEndpoint } = useSelector((state: State) =>\n        sockdriveBackend[state.init.sockdriveBackendName] ??\n        sockdriveBackend[\"js-dos\"]);\n    const [myDrives, setMyDrives] = useState<Drive[]>([]);\n    const dispatch = useDispatch();\n    const me = account?.email ?? \"\";\n    const [filter, setFilter] = useState<string>(\"\");\n    const [busy, setBusy] = useState<boolean>(true);\n    const forkDialogRef = useRef<HTMLDialogElement>(null);\n    const deleteDialogRef = useRef<HTMLDialogElement>(null);\n    const [forkName, setForkName] = useState<string>(\"\");\n    const [deleteConfirm, setDeleteConfirm] = useState<string>(\"\");\n    const [dialogError, setDialogError] = useState<string | null>(null);\n    const [dialogIndex, setDialogIndex] = useState<number>(-1);\n    const [sockdrivePremium, setSockdrivePremium] = useState<boolean>(false);\n    const premium = (account?.premium ?? false) || sockdrivePremium;\n\n\n    function reloadDrives() {\n        if (!account || !account.token) {\n            setMyDrives([\n                {\n                    \"fork_of\": [],\n                    \"name\": \"fat32-2gb\",\n                    \"owner\": \"system\",\n                    \"template\": \"fat32-2gb\",\n                },\n                {\n                    \"fork_of\": [],\n                    \"name\": \"fat16-256m\",\n                    \"owner\": \"system\",\n                    \"template\": \"fat16-256m\",\n                },\n                {\n                    \"fork_of\": [\n                        \"system/fat16-256m\",\n                    ],\n                    \"name\": \"win95-v1\",\n                    \"owner\": \"system\",\n                    \"template\": \"fat16-256m\",\n                },\n                {\n                    \"fork_of\": [\n                        \"system/fat16-256m\",\n                    ],\n                    \"name\": \"dos7.1-v1\",\n                    \"owner\": \"system\",\n                    \"template\": \"fat16-256m\",\n                },\n                {\n                    \"fork_of\": [\n                        \"system/fat32-2gb\",\n                    ],\n                    \"name\": \"win98-v1\",\n                    \"owner\": \"system\",\n                    \"template\": \"fat32-2gb\",\n                },\n                {\n                    \"fork_of\": [\n                        \"system/fat32-2gb\",\n                    ],\n                    \"name\": \"win95-v2\",\n                    \"owner\": \"system\",\n                    \"template\": \"fat32-2gb\",\n                },\n            ]);\n            setBusy(false);\n        } else {\n            setBusy(true);\n            fetch(sockdriveEndpoint + \"/list/drives/\" + account.token)\n                .then((r) => r.json())\n                .then((drives: Drive[]) => {\n                    setMyDrives(drives.sort((a, b) => a.name.localeCompare(b.name)));\n                })\n                .catch(console.error)\n                .finally(() => setBusy(false));\n\n            isSockdrivePremium(sockdriveEndpoint, account)\n                .then(setSockdrivePremium)\n                .catch(console.error);\n        }\n    }\n\n    useEffect(() => {\n        reloadDrives();\n    }, [account?.token, sockdriveEndpoint]);\n\n    return <div class=\"frame-root items-start gap-3 px-4\">\n        <SockdriveBackend multiline={true} class=\"w-full \" />\n        <input class=\"input input-bordered input-sm w-full\" placeholder={t(\"filter\")}\n            value={filter} onChange={(e) => setFilter(e.currentTarget.value ?? \"\")}></input>\n        <div class=\"w-full\">\n            {!busy && <table class=\"table w-full\">\n                <thead>\n                    <tr>\n                        <th>{t(\"net_drives\")}</th>\n                        <th></th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {\n                        // eslint-disable-next-line camelcase\n                        myDrives.map(({ name, owner, fork_of }, index) => {\n                            if (filter.length > 0 &&\n                                owner.indexOf(filter) === -1 && name.indexOf(filter) === -1) {\n                                return null;\n                            }\n                            return <>\n                                <tr>\n                                    <td onClick={() => { }}>\n                                        <p class=\"font-bold\">{name}</p>\n                                        {\n                                            // eslint-disable-next-line camelcase\n                                            fork_of.map((path) => {\n                                                return <p class=\"text-xs\">&nbsp;&nbsp;&nbsp;&nbsp;{path}</p>;\n                                            })}\n                                        {owner !== account?.email &&\n                                            <p class=\"text-xs\">{owner}</p>}\n                                    </td>\n                                    {premium && <td>\n                                        {account?.token && <div class=\"btn btn-ghost btn-xs\"\n                                            onClick={() => {\n                                                setDialogIndex(index);\n                                                forkDialogRef.current?.showModal();\n                                            }}>Fork</div>}\n                                        {account?.token && owner === me && <div class=\"btn btn-xs btn-ghost\"\n                                            onClick={() => {\n                                                setDialogIndex(index);\n                                                deleteDialogRef.current?.showModal();\n                                            }}>{t(\"delete\")}</div>}\n                                    </td>}\n                                    {!premium && <td>\n                                        <div class=\"cursor-pointer\"\n                                            onClick={() => dispatch(uiSlice.actions.warnOnPremium(true))}>\n                                            <LockBadge class=\"text-error\" />\n                                        </div>\n                                    </td>}\n                                </tr>\n                            </>;\n                        })}\n                </tbody>\n            </table>\n            }\n            {busy && <span class=\"loading loading-spinner loading-lg\"></span>}\n        </div>\n        <dialog ref={forkDialogRef} class=\"modal\">\n            {!busy && dialogIndex >= 0 && account !== null && <div class=\"modal-box\">\n                <h3 class=\"font-bold text-lg\">{t(\"enter_name_of_drive\")}:</h3>\n                <p class=\"text-xs text-neutral-content mt-2\">\n                    fork of: {myDrives[dialogIndex].owner}/{myDrives[dialogIndex].name}\n                </p>\n                <input type=\"text\" placeholder=\"name\" value={forkName}\n                    class=\"mt-6 input input-bordered input-primary w-full\" onChange={(e) =>\n                        setForkName(e.currentTarget.value)} />\n                {dialogError !== null &&\n                    <p class=\"mt-2 text-error\">{t(\"error\")}: {dialogError}</p>}\n                <div class=\"modal-action\">\n                    {forkName.length > 0 && <button class=\"btn mr-2 btn-primary\" onClick={() => {\n                        setDialogIndex(-1);\n                        setBusy(true);\n                        // eslint-disable-next-line max-len\n                        fetch(`${sockdriveEndpoint}/fork/drive/${myDrives[dialogIndex].owner}/${myDrives[dialogIndex].name}/${forkName}/${account.token}`, {\n                            method: \"POST\",\n                        })\n                            .then((r) => r.json())\n                            .then((response) => {\n                                if (response.error) {\n                                    throw new Error(response.error);\n                                } else {\n                                    setMyDrives([]);\n                                    reloadDrives();\n                                }\n                                forkDialogRef.current?.close();\n                            })\n                            .catch((e) => {\n                                console.error(e.message);\n                                dispatch(uiSlice.actions\n                                    .showToast({ message: e.message, intent: \"error\" }));\n                            })\n                            .finally(() => {\n                                setBusy(false);\n                            });\n                    }}>{t(\"fork\")}</button>}\n                    <button class=\"btn\" onClick={() => forkDialogRef.current?.close()}>{t(\"close\")}</button>\n                </div>\n            </div>}\n        </dialog>\n        <dialog ref={deleteDialogRef} class=\"modal\">\n            {!busy && dialogIndex >= 0 && account !== null && <div class=\"modal-box\">\n                <h3 class=\"font-bold text-lg\">{t(\"enter_name_of_drive\")}:</h3>\n                <p class=\"text-xs text-neutral mt-2\">{myDrives[dialogIndex].owner}/{myDrives[dialogIndex].name}</p>\n                <input type=\"text\" placeholder=\"name\" value={deleteConfirm}\n                    class=\"mt-6 input input-bordered input-primary w-full\"\n                    onChange={(e) => setDeleteConfirm(e.currentTarget.value)} />\n                {dialogError !== null &&\n                    <p class=\"mt-2 text-error\">{t(\"error\")}: {setDialogError}</p>}\n                <div class=\"modal-action\">\n                    {deleteConfirm === myDrives[dialogIndex].owner + \"/\" + myDrives[dialogIndex].name &&\n                        <button class=\"btn mr-2 btn-primary\" onClick={() => {\n                            setDialogIndex(-1);\n                            setBusy(true);\n                            // eslint-disable-next-line max-len\n                            fetch(`${sockdriveEndpoint}/fork/delete/${myDrives[dialogIndex].owner}/${myDrives[dialogIndex].name}/${account.token}`, { method: \"POST\" })\n                                .then((r) => r.json())\n                                .then((response) => {\n                                    if (response.error) {\n                                        throw new Error(response.error);\n                                    } else {\n                                        const newDrives = [...myDrives];\n                                        newDrives.splice(dialogIndex, 1);\n                                        setMyDrives(newDrives);\n                                    }\n                                    deleteDialogRef.current?.close();\n                                })\n                                .catch((e) => {\n                                    console.error(e.message);\n                                    setDialogError(e.message);\n                                    dispatch(uiSlice.actions\n                                        .showToast({ message: e.message, intent: \"error\" }));\n                                })\n                                .finally(() => {\n                                    setBusy(false);\n                                });\n                        }}>{t(\"delete\")}</button>}\n                    <button class=\"btn\" onClick={() => deleteDialogRef.current?.close()}>{t(\"close\")}</button>\n                </div>\n            </div>\n            }\n        </dialog >\n    </div >;\n}\n","import { useEffect, useRef } from \"preact/hooks\";\n\nexport function Checkbox(props: {\n    class?: string,\n    toggleClass?: string,\n    label: string,\n    checked?: boolean,\n    onChange?: (value: boolean) => void,\n    disabled?: boolean,\n    intermediate?: boolean,\n}) {\n    const ref = useRef<HTMLInputElement>(null);\n\n    useEffect(() => {\n        if (ref === null || ref.current === null) {\n            return;\n        }\n\n        (ref.current as any).indeterminate = props.intermediate;\n    }, [ref, props.intermediate]);\n\n    function onChange() {\n        if (props.onChange) {\n            props.onChange(!(props.checked === true));\n        }\n    }\n\n    return <div className={props.class + \" form-control option\"}\n        onClick={onChange}>\n        <label className=\"label cursor-pointer\">\n            <span className=\"label-text mr-6\">{props.label}</span>\n            <input\n                ref={ref}\n                checked={props.checked === true}\n                type=\"checkbox\"\n                className={ \"toggle \" + (props.checked ? \" toggle-primary \" : \"\") +\n                    props.toggleClass }\n                disabled={props.disabled === true} />\n        </label>\n    </div>;\n}\n","import { useDispatch, useSelector } from \"react-redux\";\nimport { Checkbox } from \"../components/checkbox\";\nimport { useT } from \"../i18n\";\nimport { State } from \"../store\";\nimport { dosSlice } from \"../store/dos\";\nimport { Select } from \"../components/select\";\nimport { uiSlice } from \"../store/ui\";\nimport { Dispatch } from \"@reduxjs/toolkit\";\n\nexport function NetworkFrame() {\n    const network = useSelector((state: State) => state.dos.network);\n    const room = network.room;\n    const server = network.server;\n    const disabled = network.ipx !== \"disconnected\";\n    const t = useT();\n    const dispatch = useDispatch();\n    const ipxLink =\n        network.ipx === \"connected\" ?\n            location.href + searchSeparator() +\n            \"ipx=1&server=\" + network.server + \"&room=\" + room :\n            null;\n\n    function setRoom(room: string) {\n        dispatch(dosSlice.actions.setRoom(room));\n    }\n\n    function setServer(server: string) {\n        dispatch(dosSlice.actions.setServer(server as any));\n    }\n\n    function toggleIpx() {\n        if (network.ipx === \"connected\") {\n            dispatch(dosSlice.actions.disconnectIpx({}));\n        } else {\n            dispatch(dosSlice.actions.connectIpx({\n                room,\n                address: \"wss://\" + server + \".dos.zone\",\n            }) as any);\n        }\n    }\n\n    function copyAndClose() {\n        if (ipxLink) {\n            copyToClipBoard(ipxLink, t, dispatch);\n            dispatch(uiSlice.actions.frameNone());\n        }\n    }\n\n    function onServer(newServer: string) {\n        setServer(newServer);\n    }\n\n    return <div class=\"network-frame frame-root items-start px-4 relative\">\n        <div class=\"ml-1 mb-4 w-full flex flex-row items-center\">\n            <Select\n                class=\"text-sm\"\n                selectClass=\"w-full\"\n                label={t(\"server\") + \":\"}\n                selected={server}\n                values={[\"netherlands\", \"newyork\", \"singapore\"]}\n                disabled={disabled}\n                onSelect={onServer}\n            />\n        </div>\n        <div class=\"form-control w-full\">\n            <label class=\"label\">\n                <span class=\"label-text\">{t(\"room\")}:</span>\n            </label>\n            <input type=\"text\"\n                class=\"input w-full input-sm input-bordered\"\n                disabled={disabled}\n                onChange={(e) => setRoom(e.currentTarget.value)}\n                value={room}></input>\n        </div>\n        <Checkbox\n            class={\"mt-4 \" + (network.ipx === \"error\" ? \"error\" : \"\")}\n            onChange={toggleIpx}\n            label=\"IPX\"\n            checked={network.ipx === \"connected\"}\n            disabled={network.ipx === \"connecting\"}\n            intermediate={network.ipx === \"connecting\"}\n        />\n\n        {ipxLink !== null && <div class=\"mt-4 text-sm alert alert-success shadow-lg flex flex-col\">\n            <div>{t(\"copy_net_link\")}:</div>\n            <div class=\"flex flex-row\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\"\n                    class=\"w-6 h-6 mx-1 cursor-pointer hover:text-accent-focus flex-shrink-0\"\n                    fill=\"none\" onClick={copyAndClose}\n                    viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\">\n                    <path stroke-linecap=\"round\"\n                        stroke-linejoin=\"round\"\n                        d=\"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125\n                        1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06\n                        9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504\n                        1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0\n                        00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5\n                        10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12\n                        6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125\n                         0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75\" />\n                </svg>\n                <div class=\"contextmenu underline break-all\"\n                    target=\"_blank\">{ipxLink}</div>\n            </div>\n        </div>}\n    </div >;\n}\n\nfunction searchSeparator() {\n    if (location.href.endsWith(\"?\") || location.href.endsWith(\"&\")) {\n        return \"\";\n    }\n    return location.href.indexOf(\"?\") > 0 ? \"&\" : \"?\";\n}\n\nasync function copyToClipBoard(text: string,\n                               t: (key: string) => string,\n                               dispatch: Dispatch) {\n    if (!navigator.clipboard) {\n        return;\n    }\n\n    try {\n        await navigator.clipboard.writeText(text);\n        dispatch(uiSlice.actions.showToast({\n            message: t(\"copied\"),\n            intent: \"success\",\n        }));\n    } catch (e: any) {\n        dispatch(uiSlice.actions.showToast({\n            message: t(\"error\"),\n            intent: \"error\",\n        }));\n    }\n}\n","import { useDispatch, useSelector } from \"react-redux\";\nimport { useT } from \"../i18n\";\nimport { State, useNonSerializableStore } from \"../store\";\nimport { dosSlice } from \"../store/dos\";\nimport { uiSlice } from \"../store/ui\";\nimport { Checkbox } from \"./checkbox\";\n\nexport function Editor() {\n    const t = useT();\n    const dispatch = useDispatch();\n    const editor = useSelector((state: State) => state.ui.editor);\n    return <Checkbox\n        class=\"mt-4\"\n        label={t(\"editor\")}\n        checked={editor}\n        onChange={(e) => dispatch(uiSlice.actions.setEditor(e))}\n    />;\n}\n\nexport function MouseCapture() {\n    const t = useT();\n    const dispatch = useDispatch();\n    const lock = useSelector((state: State) => state.dos.mouseCapture);\n    return <Checkbox\n        class=\"mt-4\"\n        label={t(\"mouse_lock\")}\n        checked={lock}\n        onChange={(l) => dispatch(dosSlice.actions.mouseCapture(l))}\n    />;\n}\n\nexport function SockdriveNative() {\n    const t = useT();\n    const dispatch = useDispatch();\n    const native = useSelector((state: State) => state.dos.sockdriveNative);\n    return <Checkbox\n        class=\"mt-4\"\n        label={t(\"sockdrive_native\")}\n        checked={native}\n        onChange={(n) => dispatch(dosSlice.actions.setSockdriveNative(n))}\n    />;\n}\n\nexport function SystemCursor() {\n    const t = useT();\n    const dispatch = useDispatch();\n    const lock = useSelector((state: State) => !state.dos.noCursor);\n    return <Checkbox\n        class=\"mt-4\"\n        label={t(\"system_cursor\")}\n        checked={lock}\n        onChange={(l) => dispatch(dosSlice.actions.noCursor(!l))}\n    />;\n}\n\nexport function MobileControls() {\n    const t = useT();\n    const dispatch = useDispatch();\n    const lock = useSelector((state: State) => state.dos.mobileControls);\n    return <Checkbox\n        class=\"mt-4\"\n        label={t(\"mobile_controls\")}\n        checked={lock}\n        onChange={(l) => dispatch(dosSlice.actions.mobileControls(l))}\n    />;\n}\n\nexport function MirroredControls() {\n    const t = useT();\n    const dispatch = useDispatch();\n    const lock = useSelector((state: State) => state.dos.mirroredControls);\n    return <Checkbox\n        class=\"mt-4\"\n        label={t(\"mirrored_controls\")}\n        checked={lock}\n        onChange={(l) => dispatch(dosSlice.actions.mirroredControls(l))}\n    />;\n}\n\nexport function PauseCheckbox() {\n    const t = useT();\n    const dispatch = useDispatch();\n    const paused = useSelector((state: State) => state.dos.paused);\n    const disabled = useSelector((state: State) => state.ui.window) !== \"run\";\n    return <Checkbox\n        class=\"mt-4\"\n        label={t(\"pause\")}\n        checked={paused}\n        disabled={disabled}\n        onChange={(p) => dispatch(dosSlice.actions.paused(p))}\n    />;\n}\n\nexport function WorkerCheckbox() {\n    const t = useT();\n    const dispatch = useDispatch();\n    const worker = useSelector((state: State) => state.dos.worker);\n    const hardware = useSelector((state: State) => state.dos.backendHardware);\n    const disabled = useSelector((state: State) => state.ui.window) === \"run\";\n    const nonSerializableStore = useNonSerializableStore();\n    return hardware && nonSerializableStore.options.backendHardware ? null : <Checkbox\n        class=\"mt-4\"\n        label={t(\"worker\")}\n        checked={worker}\n        disabled={disabled}\n        onChange={(w) => dispatch(dosSlice.actions.dosWorker(w))}\n    />;\n}\n\nexport function HardwareCheckbox() {\n    const t = useT();\n    const dispatch = useDispatch();\n    const hardware = useSelector((state: State) => state.dos.backendHardware);\n    const nonSerializableStore = useNonSerializableStore();\n    return nonSerializableStore.options.backendHardware ? <Checkbox\n        class=\"mt-4\"\n        label={t(\"hardware\")}\n        checked={hardware}\n        onChange={(h) => dispatch(dosSlice.actions.dosBackendHardware(h))}\n    /> : null;\n}\n\nexport function SockdriveWrite() {\n    const t = useT();\n    const dispatch = useDispatch();\n    const account = useSelector((state: State) => state.auth.account);\n    const visible = useSelector((state: State) => state.dos.backend === \"dosboxX\");\n    const checked = useSelector((state: State) => state.dos.sockdriveWrite) && account !== null;\n    return visible ? <Checkbox\n        class=\"mt-4\"\n        label={t(\"fat_write\")}\n        checked={checked}\n        onChange={(c) => {\n            if (!account) {\n                dispatch(uiSlice.actions.warnOnKey(true));\n            } else if (!account.premium) {\n                dispatch(uiSlice.actions.warnOnPremium(true));\n            }\n\n            dispatch(dosSlice.actions.setSockdriveWrite(c));\n        }}\n    /> : null;\n}\n","import { useEffect, useRef } from \"preact/hooks\";\n\nexport function Slider(props: {\n    class?: string,\n    label: string,\n    value: number,\n    onChange: (value: number) => void,\n}) {\n    const sliderRef = useRef<HTMLDivElement>(null);\n    const pointRef = useRef<HTMLDivElement>(null);\n\n    useEffect(() => {\n        if (sliderRef?.current === null) {\n            return;\n        }\n\n        const sliderEl = sliderRef.current;\n\n        let pressed = false;\n        function updatePercent(e: PointerEvent) {\n            const boundingRect = sliderEl.getBoundingClientRect();\n            const percent = Math.min(1, Math.max(0,\n                (e.clientX - boundingRect.left) / boundingRect.width));\n            props.onChange(percent);\n        }\n\n        function onPointerDown(e: PointerEvent) {\n            pressed = true;\n            updatePercent(e);\n        }\n        function onPointerMove(e: PointerEvent) {\n            if (!pressed) {\n                return;\n            }\n\n            updatePercent(e);\n        }\n\n        function onPointerUp(e: PointerEvent) {\n            pressed = false;\n        }\n\n\n        sliderEl.addEventListener(\"pointerdown\", onPointerDown);\n        sliderEl.addEventListener(\"pointermove\", onPointerMove);\n        sliderEl.addEventListener(\"pointerup\", onPointerUp);\n        sliderEl.addEventListener(\"pointercancel\", onPointerUp);\n        sliderEl.addEventListener(\"pointerleave\", onPointerUp);\n\n        return () => {\n            sliderEl.removeEventListener(\"pointerdown\", onPointerDown);\n            sliderEl.removeEventListener(\"pointermove\", onPointerMove);\n            sliderEl.removeEventListener(\"pointerup\", onPointerUp);\n            sliderEl.removeEventListener(\"pointercancel\", onPointerUp);\n            sliderEl.removeEventListener(\"pointerleave\", onPointerUp);\n        };\n    }, [sliderRef]);\n\n    const percent = Math.min(Math.max(0, props.value * 100), 100);\n\n    return <div class={props.class + \" slider option\"}>\n        <div class=\"label\">{props.label}</div>\n        <div class=\"touch\" ref={sliderRef}>\n            <div class=\"bg\"></div>\n            <div class=\"point\" ref={pointRef}\n                style={{ left: \"calc(\" + percent + \"%\" + \" - 12px)\" }}></div>\n        </div>\n    </div>;\n}\n","import { useDispatch, useSelector } from \"react-redux\";\nimport { useT } from \"../i18n\";\nimport { dosSlice } from \"../store/dos\";\nimport { Slider } from \"./slider\";\nimport { State } from \"../store\";\n\nexport function MouseSensitiviySlider(props: {\n    class?: string,\n}) {\n    const t = useT();\n    const sensitivity = useSelector((state: State) => state.dos.mouseSensitivity);\n    const dispatch = useDispatch();\n\n    return <Slider\n        class={props.class}\n        label={t(\"mouse_sensitivity\")}\n        value={sensitivity}\n        onChange={(value) => dispatch(dosSlice.actions.mouseSensitivity(value)) }\n    />;\n}\n\nexport function ScaleControlsSlider(props: {\n    class?: string,\n}) {\n    const t = useT();\n    const sensitivity = useSelector((state: State) => state.dos.scaleControls);\n    const dispatch = useDispatch();\n\n    return <Slider\n        class={props.class}\n        label={t(\"scale_controls\")}\n        value={sensitivity}\n        onChange={(value) => dispatch(dosSlice.actions.scaleControls(value)) }\n    />;\n}\n\nexport function VolumeSlider(props: {\n    class?: string,\n}) {\n    const t = useT();\n    const volume = useSelector((state: State) => state.dos.volume);\n    const dispatch = useDispatch();\n\n    return <Slider\n        class={props.class}\n        label={t(\"volume\")}\n        value={volume}\n        onChange={(value) => dispatch(dosSlice.actions.volume(value)) }\n    />;\n}\n","import { MirroredControls, MobileControls,\n    MouseCapture, SystemCursor, PauseCheckbox } from \"../components/dos-option-checkbox\";\nimport { ImageRenderingSelect, RenderAspectSelect, ThemeSelect } from \"../components/dos-option-select\";\nimport { MouseSensitiviySlider, ScaleControlsSlider, VolumeSlider } from \"../components/dos-option-slider\";\n\nexport function SettingsFrame(props: {}) {\n    return <div class=\"settings-frame frame-root items-start pl-4\">\n        <PauseCheckbox />\n        <SystemCursor />\n        <MouseCapture />\n        <MobileControls />\n        <MirroredControls />\n        <ScaleControlsSlider class=\"mt-4\" />\n        <MouseSensitiviySlider />\n        <VolumeSlider />\n        <RenderAspectSelect multiline={true} />\n        <ImageRenderingSelect multiline={true} />\n        <ThemeSelect multiline={true} />\n    </div>;\n}\n","import { useSelector } from \"react-redux\";\nimport { State, useNonSerializableStore } from \"../store\";\n\nexport function StatsFrame() {\n    const nonSerializableStore = useNonSerializableStore();\n    const backend = useSelector((state: State) => state.dos.backend);\n    const hardware = useSelector((state: State) => state.dos.backendHardware) &&\n        nonSerializableStore.options.backendHardware;\n    const emuVersion = useSelector((state: State) => state.dos.emuVersion);\n    const startedAt = useSelector((state: State) => state.dos.ciStartedAt);\n    const stats = useSelector((state: State) => state.dos.stats);\n    const driveInfo = useSelector((state: State) => state.dos.sockdriveInfo);\n    const cycles = Math.round(useSelector((state: State) => state.dos.stats.cyclesPerMs) / 1000);\n    const driveRecvMb = Math.round(stats.driveRecv / 1024 / 1024 * 100) / 100;\n    const driveSpeedMb = Math.round(driveRecvMb / (Date.now() - startedAt) * 1000 * 100) / 100;\n    return <div class=\"stats-frame frame-root items-start px-4\">\n        <div class=\"text-center mb-2 text-xs\">\n            js-dos/emu: {JSDOS_VERSION}/{emuVersion}\n        </div>\n        <div class=\"w-full overflow-x-auto\">\n            <table class=\"table table-compact w-full\">\n                <thead>\n                    <tr>\n                        <th>Metric</th>\n                        <th>Value</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        <td>Emulation</td>\n                        <td>{backend + \" \" + (hardware ? \"(WS)\" : \"(WA)\")}</td>\n                    </tr>\n                    <tr>\n                        <td>Uptime</td>\n                        <td>{Math.round((Date.now() - startedAt) / 100) / 10} s</td>\n                    </tr>\n                    <tr>\n                        <td>Cycles/ms</td>\n                        { cycles <= 0 && <td>~ K</td> }\n                        { cycles > 0 && cycles <= 1000 && <td>{cycles} K</td> }\n                        { cycles > 1000 && <td>{Math.round(cycles / 1000)} KK</td> }\n                    </tr>\n                    <tr>\n                        <td>NonSkipSleep COUNT/s</td>\n                        <td>{stats.nonSkippableSleepPreSec}</td>\n                    </tr>\n                    <tr>\n                        <td>Sleep COUNT/s</td>\n                        <td>{stats.sleepPerSec}</td>\n                    </tr>\n                    <tr>\n                        <td>Sleep TIME/s</td>\n                        <td>{stats.sleepTimePerSec}</td>\n                    </tr>\n                    <tr>\n                        <td>Msg FRAME/s</td>\n                        <td>{stats.framePerSec}</td>\n                    </tr>\n                    <tr>\n                        <td>Msg SOUND/s</td>\n                        <td>{stats.soundPerSec}</td>\n                    </tr>\n                    <tr>\n                        <td>Msg SENT/s</td>\n                        <td>{stats.msgSentPerSec}</td>\n                    </tr>\n                    <tr>\n                        <td>Msg RECV/s</td>\n                        <td>{stats.msgRecvPerSec}</td>\n                    </tr>\n                    <tr>\n                        <td>Net SENT/s</td>\n                        <td>{Math.round(stats.netSent / 1024 * 100) / 100}Kb</td>\n                    </tr>\n                    <tr>\n                        <td>Net RECV/s</td>\n                        <td>{Math.round(stats.netRecv / 1024 * 100) / 100}Kb</td>\n                    </tr>\n                    {driveInfo.map((info, i) => {\n                        return <tr>\n                            <td>HDD { i == 0 ? \"C:\" : \"D:\"}</td>\n                            <td>{info.drive.replace(\"/\", \" \")} {info.write ? \" RW\" : \" RO\" }</td>\n                        </tr>;\n                    })}\n                    <tr>\n                        <td>HDD RECV/s</td>\n                        <td>{driveRecvMb}Mb (~{driveSpeedMb}Mb/s)</td>\n                    </tr>\n                    <tr>\n                        <td>HDD SENT/s</td>\n                        <td>{Math.round(stats.driveSent / 1024 / 1024 * 100) / 100}Mb</td>\n                    </tr>\n                    <tr>\n                        <td>HDD Cache</td>\n                        <td>{Math.round(stats.driveCacheUsed / 1024 / 1024 * 100) / 100}Mb</td>\n                    </tr>\n                    <tr>\n                        <td>HDD Cache Hit/Miss</td>\n                        <td>{stats.driveCacheHit} / {stats.driveCacheMiss}</td>\n                    </tr>\n                    <tr>\n                        <td>HDD Buffered</td>\n                        <td>{stats.driveBufferedAmount}</td>\n                    </tr>\n                    <tr>\n                        <td>HDD RX</td>\n                        <td>{stats.driveIo.map((io) => {\n                            return io.read;\n                        }).join(\", \")}</td>\n                    </tr>\n                    <tr>\n                        <td>HDD TX</td>\n                        <td>{stats.driveIo.map((io) => {\n                            return io.write;\n                        }).join(\", \")}</td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>;\n}\n","import { useDispatch, useSelector, useStore } from \"react-redux\";\nimport { dosSlice } from \"../store/dos\";\nimport { postJsDosEvent, State, useNonSerializableStore } from \"../store\";\nimport { useT } from \"../i18n\";\nimport { uiSlice } from \"../store/ui\";\nimport { Emulators } from \"emulators\";\nimport { useEffect, useState } from \"preact/hooks\";\nimport { authSlice, loadAccount } from \"../store/auth\";\nimport { isSockdrivePremium } from \"../player-api\";\nimport { sockdriveBackend } from \"../store/init\";\nimport { loadBundleFromUrl } from \"../player-api-load\";\n\ndeclare const emulators: Emulators;\n\nexport function PreRunWindow() {\n    // const emuVersion = useSelector((state: State) => state.dos.emuVersion);\n\n    return <div class=\"pre-run-window\">\n        <Play />\n        {/* <SecretKey /> */}\n        {/* !!! UWAGA WARNING CUSTOMIZATION !!! */}\n        {/* <div class=\"self-end mt-8 absolute bottom-3\">\n            <span class=\"text-ellipsis overflow-hidden\">\n                js-{JSDOS_VERSION}/emu-{emuVersion.substring(0, emuVersion.indexOf(\" \"))}\n            </span>\n        </div> */}\n    </div>;\n}\n\nlet knownToken = \"-----\";\n\nfunction SecretKey() {\n    const t = useT();\n    const account = useSelector((state: State) => state.auth.account);\n    const kiosk = useSelector((state: State) => state.ui.kiosk);\n    const noCloud = useSelector((state: State) => state.ui.noCloud);\n    const [token, stateSetToken] = useState<string>(account?.token ?? \"\");\n    const { sockdriveEndpoint } = useSelector((state: State) =>\n        sockdriveBackend[state.init.sockdriveBackendName] ??\n        sockdriveBackend[\"js-dos\"]);\n    const [sockdrivePremium, setSockdrivePremium] = useState<boolean>(true);\n    const premium = (account?.premium ?? false) || sockdrivePremium;\n    const nonSerializableStore = useNonSerializableStore();\n    const warnOnKey = useSelector((state: State) => state.ui.warnOnKey);\n    const warnOnPremium = useSelector((state: State) => state.ui.warnOnPremium);\n    const dispatch = useDispatch();\n    const store = useStore();\n\n    useEffect(() => {\n        isSockdrivePremium(sockdriveEndpoint, account)\n            .then(setSockdrivePremium);\n    }, [account?.token, sockdriveEndpoint]);\n\n    if (kiosk || noCloud) {\n        return null;\n    }\n\n    function setToken(token: string) {\n        if (token === knownToken) {\n            return;\n        }\n\n        dispatch(uiSlice.actions.warnOnKey(false));\n        dispatch(uiSlice.actions.warnOnPremium(false));\n\n        knownToken = token;\n        stateSetToken(token);\n        loadAccount(token)\n            .then(({ token, account }) => {\n                if (token === knownToken) {\n                    dispatch(authSlice.actions.setAccount(account));\n                    if (nonSerializableStore.options.url) {\n                        loadBundleFromUrl(nonSerializableStore.options.url, store).catch((e) => {\n                            store.dispatch(dosSlice.actions.bndError(e.message));\n                        });\n                    }\n                }\n            }).catch(console.error);\n    }\n\n    useEffect(() => {\n        loadAccount(token).then(({ token, account }) => {\n            dispatch(authSlice.actions.setAccount(account));\n        });\n    }, []);\n\n    function fireOpenKey() {\n        postJsDosEvent(nonSerializableStore, \"open-key\");\n    }\n\n    const dzMark = account?.email === \"dz.caiiiycuk@gmail.com\";\n    const warnMark = <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n        viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"size-4 inline mr-2 text-warning opacity-50\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\"\n            d=\"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73\n             0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898\n             0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z\" />\n    </svg>;\n\n    return <div class=\"mt-4 flex flex-col items-center\">\n        {account === null && t(\"hello_guest\")}\n        {account !== null && <div class={dzMark ? \"bg-warning px-2\" : \"\"}>\n            {t(\"hello\") + \", \" + (dzMark ? \"DOS Zone\" : (account.name ?? account.email)) + \"!\"}\n            <span class=\"link link-neutral lowercase inline ml-1\"\n                onClick={() => setToken(\"\")}>({t(\"logout\")})</span>\n        </div>}\n        <div class=\"mt-2\">\n            {account === null && <>\n                {t(\"no_cloud_access\")}\n                <a href=\"https://v8.js-dos.com/key\"\n                    onClick={fireOpenKey}\n                    target=\"_blank\" class=\"link link-neutral ml-1\">{t(\"key\")}</a>\n                &nbsp;{t(\"no_cloud_access2\")}.\n            </>}\n            {account !== null && premium === false && <>\n                {warnMark}\n                <span class={(warnOnPremium ? \"text-warning font-bold\" : \"\")}>\n                    {t(\"read_only_access\")}\n                    <a href=\"https://v8.js-dos.com/key\"\n                        onClick={fireOpenKey}\n                        target=\"_blank\" class={\"link ml-1 lowercase \" +\n                            (warnOnPremium ? \"\" : \"link-neutral\")} >({t(\"fix\")})</a>\n                </span>\n            </>}\n        </div>\n        {account === null &&\n            <div class=\"-ml-4\">\n                {warnMark}\n                <input maxLength={5} value={token} onChange={(e) => setToken(e.currentTarget.value)}\n                    placeholder=\"-----\"\n                    class={\"input input-xs input-bordered mt-4 mb-4 text-center w-20 bg-blend-multiply bg-opacity-40\" +\n                        (warnOnKey ? \" input-warning animate-pulse\" : \"\")}></input>\n            </div>}\n    </div>;\n}\n\nexport function Play(props: { class?: string, button?: boolean }) {\n    const configChanged = useSelector((state: State) => state.editor.configChanged);\n    const bundleConfig = useSelector((state: State) => state.editor.bundleConfig);\n    // const frameVisible = useSelector((state: State) => state.ui.frame !== \"none\");\n    const nonSerializableStore = useNonSerializableStore();\n    const dispatch = useDispatch();\n    const t = useT();\n\n    async function onPlay() {\n        if (configChanged) {\n            const config = bundleConfig;\n            const bundle = nonSerializableStore.loadedBundle?.bundle;\n            if (bundle === null || config === null || !ArrayBuffer.isView(bundle)) {\n                throw new Error(\"Unexpected behaviour (internal state is broken), bundle is null\");\n            }\n\n            try {\n                nonSerializableStore.loadedBundle!.bundle =\n                    await emulators.bundleUpdateConfig(bundle, config);\n                dispatch(dosSlice.actions.bndPlay({}));\n            } catch (e) {\n                dispatch(dosSlice.actions.bndError((e as Error).message ?? \"unexpected error\"));\n            }\n        } else {\n            dispatch(dosSlice.actions.bndPlay({}));\n        }\n    }\n\n    if (props.button === true) {\n        return <div class=\"btn btn-accent w-full sm:hidden\" onClick={onPlay}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\n                stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-6 h-6\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M15.91 11.672a.375.375 0 010\n                .656l-5.603 3.113a.375.375 0 01-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112z\" />\n            </svg>\n\n            {t(\"play\")}\n        </div>;\n    } else {\n        {/* !!! UWAGA WARNING CUSTOMIZATION !!! */}\n        // вставляем кастомную кнопку\n        return <div\n            class={\"second_play\"}\n            onClick={onPlay}\n        >\n            {/* return <div class={props.class + \" relative cursor-pointer w-1/4 h-1/4 min-w-48 \" + */}\n            {/* \"min-h-48 max-w-96 max-h-96\"} onClick={onPlay}> */}\n            {/* <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\n                stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-full h-full play-button\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M15.91 11.672a.375.375 0 010\n                .656l-5.603 3.113a.375.375 0 01-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112z\" />\n            </svg> */}\n\n            {/* <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n                viewBox=\"0 0 24 24\" stroke-width=\"1.5\"\n                stroke=\"currentColor\" class={\"w-10 h-10 absolute right-0 bottom-0 cursor-pointer\" +\n                    (frameVisible ? \" sidebar-highlight\" : \"\")}\n                onClick={(e) => {\n                    if (frameVisible) {\n                        dispatch(uiSlice.actions.frameNone());\n                    } else {\n                        dispatch(uiSlice.actions.framePreRun());\n                    }\n                    e.stopPropagation();\n                }}>\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55\n                        0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257\n                        1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26\n                        1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010\n                        .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298\n                        2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0\n                        01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55\n                        0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0\n                        01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0\n                        01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932\n                        6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0\n                        01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072\n                        1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z\" />\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n            </svg> */}\n        </div>;\n    }\n}\n","import { Editor, HardwareCheckbox, MirroredControls, MobileControls,\n    MouseCapture,\n    SockdriveNative,\n    SockdriveWrite,\n    SystemCursor,\n    WorkerCheckbox } from \"../components/dos-option-checkbox\";\nimport { BackendSelect, RenderAspectSelect, RenderSelect, ThemeSelect } from \"../components/dos-option-select\";\nimport { MouseSensitiviySlider, ScaleControlsSlider, VolumeSlider } from \"../components/dos-option-slider\";\nimport { Play } from \"../window/prerun-window\";\n\nexport function PreRunFrame(props: {}) {\n    return <div class=\"prerun-frame frame-root items-start pl-4\">\n        <Play button={true} />\n        <SystemCursor />\n        <MouseCapture />\n        <MobileControls />\n        <MirroredControls />\n        <ScaleControlsSlider class=\"mt-4\" />\n        <MouseSensitiviySlider />\n        <VolumeSlider />\n        <BackendSelect multiline={true} />\n        <WorkerCheckbox />\n        <RenderSelect multiline={true} />\n        <RenderAspectSelect multiline={true} />\n        <HardwareCheckbox />\n        <SockdriveWrite />\n        <Editor />\n        <SockdriveNative />\n        <ThemeSelect multiline={true} />\n    </div>;\n}\n","import { useSelector } from \"react-redux\";\nimport { State } from \"../store\";\nimport { EditorConf } from \"./editor/editor-conf-frame\";\nimport { EditorFsFrame } from \"./editor/editor-fs-frame\";\nimport { FatDrivesFrame } from \"./fat-drives-frame\";\nimport { NetworkFrame } from \"./network-frame\";\nimport { SettingsFrame } from \"./settings-frame\";\nimport { StatsFrame } from \"./stats-frame\";\nimport { PreRunFrame } from \"./prerun-frame\";\n\nexport function Frame(props: {}) {\n    const frame = useSelector((state: State) => state.ui.frame);\n    const frameXs = useSelector((state: State) => state.ui.frameXs);\n    const wideScreen = useSelector((state: State) => state.ui.wideScreen);\n    if (frame === \"none\") {\n        return null;\n    }\n\n\n    return <div class={\"frame \" + (frameXs ? \" frame-xs \" : \"\") +\n        (frameXs || wideScreen ? \"\" : \" frame-md\")}>\n        { frame === \"settings\" && <SettingsFrame /> }\n        { frame === \"editor-conf\" && <EditorConf /> }\n        { frame === \"editor-fs\" && <EditorFsFrame /> }\n        { frame === \"network\" && <NetworkFrame /> }\n        { frame === \"stats\" && <StatsFrame /> }\n        { frame === \"fat-drives\" && <FatDrivesFrame /> }\n        { frame === \"prerun\" && <PreRunFrame /> }\n    </div>;\n};\n","import { Store, getNonSerializableStore } from \"../store\";\nimport { uiSlice } from \"../store/ui\";\n\nexport function browserSetFullScreen(fullScreen: boolean, store: Store) {\n    const root = getNonSerializableStore(store).root as any;\n    if (fullScreen) {\n        if (root.requestFullscreen) {\n            root.requestFullscreen();\n        } else if (root.webkitRequestFullscreen) {\n            root.webkitRequestFullscreen();\n        } else if (root.mozRequestFullScreen) {\n            root.mozRequestFullScreen();\n        } else if (root.msRequestFullscreen) {\n            root.msRequestFullscreen();\n        } else if (root.webkitEnterFullscreen) {\n            root.webkitEnterFullscreen();\n        } else {\n            root.classList.add(\"jsdos-fullscreen-workaround\");\n        }\n    } else {\n        if (root.classList.contains(\"jsdos-fullscreen-workaround\")) {\n            root.classList.remove(\"jsdos-fullscreen-workaround\");\n        } else if (document.exitFullscreen) {\n            document.exitFullscreen();\n        } else if ((document as any).webkitExitFullscreen) {\n            (document as any).webkitExitFullscreen();\n        } else if ((document as any).mozCancelFullScreen) {\n            (document as any).mozCancelFullScreen();\n        } else if ((document as any).msExitFullscreen) {\n            (document as any).msExitFullscreen();\n        }\n    }\n\n    store.dispatch(uiSlice.actions.setFullScreen(fullScreen));\n}\n","import { useSelector, useStore } from \"react-redux\";\nimport { State, Store } from \"../store\";\nimport { browserSetFullScreen } from \"../host/fullscreen\";\n\nexport function FullscreenButton(props: {\n    class?: string,\n}) {\n    const fullScreen = useSelector((state: State) => state.ui.fullScreen);\n    const store = useStore() as Store;\n\n    function onClick() {\n        browserSetFullScreen(!fullScreen, store);\n    }\n    /* eslint-disable max-len */\n    return <div class={\"fullscreen-button sidebar-button \" + props.class} onClick={onClick}>\n        <div class={\"w-full h-full scale-75 hover:scale-90\"}>\n            {!fullScreen &&\n                <svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\"\n                    viewBox=\"0 0 16 16\" fill=\"currentColor\" stroke=\"none\" enable-background=\"new 0 0 16 16\" >\n                    <g>\n                        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.99,8.99c-0.28,0-0.53,0.11-0.71,0.29l-3.29,3.29v-1.59c0-0.55-0.45-1-1-1\n                                s-1,0.45-1,1v4c0,0.55,0.45,1,1,1h4c0.55,0,1-0.45,1-1s-0.45-1-1-1H3.41L6.7,10.7c0.18-0.18,0.29-0.43,0.29-0.71\n                                C6.99,9.44,6.54,8.99,5.99,8.99z M14.99-0.01h-4c-0.55,0-1,0.45-1,1s0.45,1,1,1h1.59L9.28,5.29C9.1,5.47,8.99,5.72,8.99,5.99\n                                c0,0.55,0.45,1,1,1c0.28,0,0.53-0.11,0.71-0.29l3.29-3.29v1.59c0,0.55,0.45,1,1,1s1-0.45,1-1v-4C15.99,0.44,15.54-0.01,14.99-0.01\n                                z\"/>\n                    </g>\n                </svg>\n            }\n            {fullScreen &&\n                <svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\"\n                    viewBox=\"0 0 16 16\" fill=\"currentColor\" stroke=\"none\" enable-background=\"new 0 0 16 16\">\n                    <g>\n                        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M15.99,0.99c0-0.55-0.45-1-1-1c-0.28,0-0.53,0.11-0.71,0.29l-3.29,3.29V1.99\n                            c0-0.55-0.45-1-1-1s-1,0.45-1,1v4c0,0.55,0.45,1,1,1h4c0.55,0,1-0.45,1-1s-0.45-1-1-1h-1.59L15.7,1.7\n                            C15.88,1.52,15.99,1.27,15.99,0.99z M5.99,8.99h-4c-0.55,0-1,0.45-1,1s0.45,1,1,1h1.59l-3.29,3.29c-0.18,0.18-0.29,0.43-0.29,0.71\n                            c0,0.55,0.45,1,1,1c0.28,0,0.53-0.11,0.71-0.29l3.29-3.29v1.59c0,0.55,0.45,1,1,1s1-0.45,1-1v-4C6.99,9.44,6.54,8.99,5.99,8.99z\"\n                        />\n                    </g>\n                </svg>\n            }\n        </div>\n    </div >;\n    /* eslint-enable max-len */\n}\n","import { useDispatch, useSelector } from \"react-redux\";\nimport { State } from \"../store\";\nimport { uiSlice } from \"../store/ui\";\n\nexport function NetworkButton(props: {\n    class?: string,\n}) {\n    const hightlight = useSelector((state: State) => state.ui.frame) === \"network\";\n    const inactive = useSelector((state: State) => state.dos.network.ipx !== \"connected\");\n    const dispatch = useDispatch();\n\n    function onClick() {\n        if (hightlight) {\n            dispatch(uiSlice.actions.frameNone());\n        } else {\n            dispatch(uiSlice.actions.frameNetwork());\n        }\n    }\n\n    return <div class={\"network-button sidebar-button \" +\n        (hightlight ? \" sidebar-highlight \" : \"\") +\n        (inactive ? \" inactive \" : \"\") +\n        props.class} onClick={onClick}>\n        <div class=\"w-full h-full\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\n                stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-full h-full\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M8.288 15.038a5.25 5.25 0\n                 017.424 0M5.106 11.856c3.807-3.808 9.98-3.808 13.788 0M1.924 8.674c5.565-5.565\n                 14.587-5.565 20.152 0M12.53 18.22l-.53.53-.53-.53a.75.75 0 011.06 0z\" />\n            </svg>\n            { inactive && <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\"\n                stroke=\"currentColor\" class=\"w-full text-error h-full absolute top-0 left-0\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M4 4L18 18\" />\n            </svg> }\n        </div>\n\n\n    </div >;\n}\n","import { AnyAction } from \"@reduxjs/toolkit\";\nimport { useDispatch, useSelector, useStore } from \"react-redux\";\nimport { getState, State, Store } from \"../store\";\nimport { Frame, uiSlice } from \"../store/ui\";\nimport { useEffect, useRef, useState } from \"preact/hooks\";\nimport { dosSlice } from \"../store/dos\";\n\nexport function FatDrivesButton(props: {\n    class?: string,\n}) {\n    return <SidebarButton\n        class={props.class}\n        frame=\"fat-drives\"\n        action={uiSlice.actions.frameFatDrives()}\n    >\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\n            stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-full h-full\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M5.25 14.25h13.5m-13.5\n                0a3 3 0 01-3-3m3 3a3 3 0 100 6h13.5a3 3 0 100-6m-16.5-3a3 3 0 013-3h13.5a3 3\n                0 013 3m-19.5 0a4.5 4.5 0 01.9-2.7L5.737 5.1a3.375 3.375 0 012.7-1.35h7.126c1.062\n                 0 2.062.5 2.7 1.35l2.587 3.45a4.5 4.5 0 01.9 2.7m0 0a3 3 0 01-3 3m0\n                 3h.008v.008h-.008v-.008zm0-6h.008v.008h-.008v-.008zm-3\n                 6h.008v.008h-.008v-.008zm0-6h.008v.008h-.008v-.008z\" />\n        </svg>\n    </SidebarButton>;\n}\n\nexport function DosboxConfButton(props: { class?: string }) {\n    return <SidebarButton\n        class={props.class}\n        frame=\"editor-conf\"\n        action={uiSlice.actions.frameConf()}\n    >\n        <svg xmlns=\"http://www.w3.org/2000/svg\"\n            fill=\"none\" viewBox=\"0 0 24 24\"\n            stroke-width=\"1.5\"\n            stroke=\"currentColor\"\n            class=\"w-full h-full\">\n            <path stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n                d=\"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125\n                0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5\n                3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504\n                 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z\" />\n        </svg>\n    </SidebarButton>;\n}\n\nexport function FsButton(props: {\n    class?: string,\n}) {\n    return <SidebarButton\n        class={props.class}\n        frame=\"editor-fs\"\n        action={uiSlice.actions.frameFs()}\n    >\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n            viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-full h-full\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M21.75 17.25v-.228a4.5 4.5\n                0 00-.12-1.03l-2.268-9.64a3.375 3.375 0 00-3.285-2.602H7.923a3.375\n                3.375 0 00-3.285 2.602l-2.268 9.64a4.5 4.5 0 00-.12 1.03v.228m19.5 0a3 3\n                0 01-3 3H5.25a3 3 0 01-3-3m19.5 0a3 3 0 00-3-3H5.25a3 3 0 00-3 3m16.5\n                0h.008v.008h-.008v-.008zm-3 0h.008v.008h-.008v-.008z\" />\n        </svg>\n    </SidebarButton>;\n}\n\nexport function CyclesButton() {\n    const cycles = Math.round(useSelector((state: State) => state.dos.stats.cyclesPerMs) / 1000);\n    return <SidebarButton\n        class=\"cycles\"\n        frame=\"stats\"\n        action={uiSlice.actions.frameStats()}>\n        {cycles <= 0 && <><span>~</span><sup>KC</sup></>}\n        {cycles > 0 && cycles <= 1000 && <><span>{cycles}</span><sup>KC</sup></>}\n        {cycles > 0 && cycles > 1000 && <><span>{Math.round(cycles / 1000)}</span><sup><strong>K</strong>KC</sup></>}\n    </SidebarButton>;\n}\n\nexport function HddLed(props: {}) {\n    const store: Store = useStore();\n    const ref = useRef<HTMLDivElement>(null);\n    const [state] = useState<{\n        recv: number, enabled: boolean, delayLedTo: number,\n    }>({ recv: 0, enabled: false, delayLedTo: 0 });\n\n    useEffect(() => {\n        if (ref.current) {\n            const el = ref.current;\n            el.classList.add(\"bg-base-300\");\n\n            const id = setInterval(() => {\n                if (state.delayLedTo <= Date.now()) {\n                    const newRecv = getState(store).dos.stats.driveRecv;\n                    const write = getState(store).dos.stats.driveBufferedAmount;\n                    const newEnabled = state.recv !== newRecv;\n\n                    if (newEnabled !== state.enabled) {\n                        el.classList.remove(\"bg-base-300\", \"bg-green-300\", \"animate-led\");\n                        if (newEnabled) {\n                            el.classList.add(\"bg-green-300\", \"animate-led\");\n                        } else {\n                            el.classList.add(\"bg-base-300\");\n                        }\n                        state.enabled = newEnabled;\n                    }\n\n                    if (write) {\n                        if (!el.classList.contains(\"bg-red-300\")) {\n                            el.classList.add(\"bg-red-300\");\n                        }\n                    } else {\n                        el.classList.remove(\"bg-red-300\");\n                    }\n\n                    if (newEnabled) {\n                        state.delayLedTo = Date.now() + 300 + Math.random() * 1500;\n                    } else {\n                        state.delayLedTo = 0;\n                    }\n\n                    state.recv = newRecv;\n                }\n            }, 150);\n\n            return () => {\n                el.classList.remove(\"bg-base-300\", \"bg-green-300\", \"animate-led\");\n                clearInterval(id);\n            };\n        }\n    }, [ref, state]);\n    const [on, setOn] = useState<boolean>(false);\n    const [off, setOff] = useState<{ recv: number, timeoutId: number | null }>({\n        recv: 0,\n        timeoutId: null,\n    });\n    const statsRecv = useSelector((state: State) => state.dos.stats.driveRecv);\n    if (off.recv !== statsRecv) {\n        if (!on) {\n            setOn(true);\n        }\n\n        if (off.timeoutId) {\n            clearTimeout(off.timeoutId);\n        }\n\n        const id = setTimeout(() => {\n            setOn(false);\n            setOff({\n                recv: statsRecv,\n                timeoutId: null,\n            });\n        }, 1000);\n\n        setOff({\n            recv: statsRecv,\n            timeoutId: id,\n        });\n    }\n    return <div ref={ref} class=\"self-end mr-2 -mt-3 w-2 h-1\"></div>;\n}\n\nexport function SettingsButton(props: {\n    class?: string,\n}) {\n    return <SidebarButton\n        class={props.class}\n        action={uiSlice.actions.frameSettings()}\n        frame=\"settings\">\n\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n            viewBox=\"0 0 24 24\" stroke-width=\"1.5\"\n            stroke=\"currentColor\" class=\"w-full h-full\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55\n                0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257\n                1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26\n                1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010\n                .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298\n                2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0\n                01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55\n                0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0\n                01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0\n                01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932\n                6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0\n                01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072\n                1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z\" />\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n        </svg>\n\n    </SidebarButton >;\n}\n\nexport function SidebarButton(props: {\n    class?: string,\n    frame: Frame,\n    action: AnyAction,\n    children: any\n}) {\n    const hightlight = useSelector((state: State) => state.ui.frame) === props.frame;\n    const dispatch = useDispatch();\n\n    function onClick() {\n        if (hightlight) {\n            dispatch(uiSlice.actions.frameNone());\n        } else {\n            dispatch(props.action);\n        }\n    }\n\n    return <div class={\"sidebar-button \" + (hightlight ? \"sidebar-highlight \" : \"\") +\n        props.class} onClick={onClick}>\n        {props.children}\n    </div>;\n}\n\nexport function SoftKeyboardButton(props: {\n    class?: string,\n}) {\n    const softKeyboard = useSelector((state: State) => state.dos.softKeyboard);\n    const dispatch = useDispatch();\n\n    /* eslint-disable max-len */\n    return <div class={\"sidebar-button \" + (softKeyboard ? \"sidebar-highlight \" : \"\") +\n        props.class} onClick={() => dispatch(dosSlice.actions.softKeyboard(!softKeyboard))}>\n        <svg class=\"w-full h-full\" fill=\"currentColor\" stroke=\"currentColor\" version=\"1.1\" id=\"Layer_1\" viewBox=\"0 0 507.9 507.9\"><g id=\"SVGRepo_bgCarrier\" stroke-width=\"0\"></g><g id=\"SVGRepo_tracerCarrier\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></g><g id=\"SVGRepo_iconCarrier\"> <g> <g> <path d=\"M465.7,140.75H268.1v-77.3c0-7.8-6.3-14.1-14.1-14.1c-7.8,0-14.1,6.3-14.1,14.1v77.3H42.3c-23.3,0-42.3,19-42.3,42.3 v233.2c0,23.3,19,42.3,42.3,42.3h423.3c23.3,0,42.3-19,42.3-42.3v-233.2C508,159.75,489,140.75,465.7,140.75z M465.7,430.35H42.3 c-7.8,0-14.1-6.3-14.1-14.1v-233.2c0-7.8,6.3-14.1,14.1-14.1h423.3c7.8,0,14.1,6.3,14.1,14.1v233.2h0.1 C479.8,424.05,473.5,430.35,465.7,430.35z\"></path> </g> </g> <g> <g> <path d=\"M440.6,194.05h-85.4c-7.8,0-14.1,6.3-14.1,14.1s6.3,14.1,14.1,14.1h85.4c7.8,0,14.1-6.3,14.1-14.1 C454.7,200.35,448.4,194.05,440.6,194.05z\"></path> </g> </g> <g> <g> <path d=\"M80.9,377.05H67.4c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C95,383.35,88.7,377.05,80.9,377.05z\"></path> </g> </g> <g> <g> <path d=\"M303.3,377.05H141.6c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h161.8c7.8,0,14.1-6.3,14.1-14.1 C317.5,383.35,311.1,377.05,303.3,377.05z\"></path> </g> </g> <g> <g> <path d=\"M80.9,255.05H67.4c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C95.1,261.35,88.7,255.05,80.9,255.05z\"></path> </g> </g> <g> <g> <path d=\"M152.8,255.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.4,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C166.9,261.35,160.6,255.05,152.8,255.05z\"></path> </g> </g> <g> <g> <path d=\"M224.8,255.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C238.9,261.35,232.6,255.05,224.8,255.05z\"></path> </g> </g> <g> <g> <path d=\"M296.7,255.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C310.8,261.35,304.5,255.05,296.7,255.05z\"></path> </g> </g> <g> <g> <path d=\"M80.9,194.05H67.4c-7.8,0-14.1,6.3-14.1,14.1s6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C95.1,200.35,88.7,194.05,80.9,194.05z\"></path> </g> </g> <g> <g> <path d=\"M152.8,194.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.4,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C166.9,200.35,160.6,194.05,152.8,194.05z\"></path> </g> </g> <g> <g> <path d=\"M224.8,194.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C238.9,200.35,232.6,194.05,224.8,194.05z\"></path> </g> </g> <g> <g> <path d=\"M296.7,194.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C310.8,200.35,304.5,194.05,296.7,194.05z\"></path> </g> </g> <g> <g> <path d=\"M368.7,255.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C382.8,261.35,376.4,255.05,368.7,255.05z\"></path> </g> </g> <g> <g> <path d=\"M440.6,255.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C454.7,261.35,448.4,255.05,440.6,255.05z\"></path> </g> </g> <g> <g> <path d=\"M368.7,316.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C382.8,322.35,376.4,316.05,368.7,316.05z\"></path> </g> </g> <g> <g> <path d=\"M440.6,316.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C454.7,322.35,448.4,316.05,440.6,316.05z\"></path> </g> </g> <g> <g> <path d=\"M368.7,377.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C382.8,383.35,376.4,377.05,368.7,377.05z\"></path> </g> </g> <g> <g> <path d=\"M440.6,377.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C454.7,383.35,448.4,377.05,440.6,377.05z\"></path> </g> </g> <g> <g> <path d=\"M80.9,316.05H67.4c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C95.1,322.35,88.7,316.05,80.9,316.05z\"></path> </g> </g> <g> <g> <path d=\"M152.8,316.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.4,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C166.9,322.35,160.6,316.05,152.8,316.05z\"></path> </g> </g> <g> <g> <path d=\"M224.8,316.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C238.9,322.35,232.6,316.05,224.8,316.05z\"></path> </g> </g> <g> <g> <path d=\"M296.7,316.05h-13.5c-7.8,0-14.1,6.3-14.1,14.1c0,7.8,6.3,14.1,14.1,14.1h13.5c7.8,0,14.1-6.3,14.1-14.1 C310.8,322.35,304.5,316.05,296.7,316.05z\"></path> </g> </g> </g></svg>\n    </div>;\n    /* eslint-enable max-len */\n}\n\nexport function PreRunButton(props: { class?: string }) {\n    return <SidebarButton\n        class={props.class}\n        frame=\"prerun\"\n        action={uiSlice.actions.framePreRun()}\n    >\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n            viewBox=\"0 0 24 24\" stroke-width=\"1.5\"\n            stroke=\"currentColor\" class=\"w-full h-full\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55\n                0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257\n                1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26\n                1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010\n                .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298\n                2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0\n                01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55\n                0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0\n                01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0\n                01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932\n                6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0\n                01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072\n                1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z\" />\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n        </svg>\n    </SidebarButton>;\n}\n","export function DisketteIcon(props: {\n    class?: string,\n}) {\n    return <svg xmlns=\"http://www.w3.org/2000/svg\"\n        style=\"padding: 2px\"\n        viewBox=\"0 0 16 16\" enable-background=\"new 0 0 16 16\"\n        fill=\"currentColor\" class={ \"w-full h-full rounded-lg \" + props.class }>\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\n            d=\"M15.71,2.29l-2-2C13.53,0.11,13.28,0,13,0h-1v6H4V0H1C0.45,0,0,0.45,0,1v14\n                c0,0.55,0.45,1,1,1h14c0.55,0,1-0.45,1-1V3C16,2.72,15.89,2.47,15.71,2.29z\n                M14,15H2V9c0-0.55,0.45-1,1-1h10c0.55,0,1,0.45,1,1V15\n                z M11,1H9v4h2V1z\"/>\n    </svg>;\n}\n","import { useDispatch, useSelector, useStore } from \"react-redux\";\nimport { DisketteIcon } from \"./diskette-icon\";\nimport { getState, State, useNonSerializableStore } from \"../store\";\nimport { useState } from \"preact/hooks\";\nimport { apiSave } from \"../player-api\";\n\nexport function SaveButtons() {\n    const [showLoad, setShowLoad] = useState<boolean>(false);\n    const dosboxX = useSelector((state: State) => state.dos.backend) === \"dosboxX\";\n    return <div class=\"save-buttons flex flex-col justify-center items-center -my-2\">\n        <CloudSaveButton />\n        { dosboxX && <SaveButton label=\"X\" bgcolor=\"bg-primary\"\n            textcolor=\"text-primary-content\" onClick={() => setShowLoad(true)} /> }\n        { dosboxX && showLoad && <LoadButton label=\"X\" bgcolor=\"bg-primary\" /> }\n    </div>;\n}\n\nfunction SaveButton(props: {\n    label: number | string,\n    bgcolor: string,\n    textcolor: string,\n    onClick: () => void,\n}) {\n    const nonSerializableStore = useNonSerializableStore();\n    function onClick() {\n        const ci = nonSerializableStore.ci;\n        if (ci === null) {\n            return;\n        }\n\n        ci.sendBackendEvent({\n            type: \"wc-trigger-event\",\n            event: \"hand_savestate\",\n        });\n\n        props.onClick();\n    }\n\n    return <div class={\"sidebar-button flex justify-center\"}\n        onClick={onClick}>\n        <DisketteIcon />\n        <div class={\"text-badge \" + props.textcolor + \" \" + props.bgcolor}>{props.label}</div>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\"\n            stroke=\"currentColor\" class=\"absolute bottom-1 w-3 h-3\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M9.813 15.904 9\n                18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25\n                12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813\n                2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09\n                3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375\n                0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18\n                2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75\n                 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567\n                16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5\n                18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394\n                1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z\" />\n        </svg>\n    </div>;\n}\n\nfunction LoadButton(props: {\n    label: number | string,\n    bgcolor: string,\n}) {\n    const nonSerializableStore = useNonSerializableStore();\n    function onClick() {\n        const ci = nonSerializableStore.ci;\n        if (ci === null) {\n            return;\n        }\n\n        ci.sendBackendEvent({\n            type: \"wc-trigger-event\",\n            event: \"hand_loadstate\",\n        });\n    }\n\n    return <div class={\"sidebar-button flex justify-center\"}\n        onClick={onClick}>\n        <DisketteIcon class=\"opacity-10\" />\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n            viewBox=\"0 0 24 24\" stroke-width=\"1.5\"\n            stroke=\"currentColor\" class=\"absolute bottom-1 w-6 h-6 -scale-y-100\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\"\n                d=\"m15 15 6-6m0 0-6-6m6 6H9a6 6 0 0 0 0 12h3\" />\n        </svg>\n    </div>;\n}\n\n\nfunction CloudSaveButton(props: {\n    class?: string,\n}) {\n    const [busy, setBusy] = useState<boolean>(false);\n    const dispatch = useDispatch();\n    const cloudSaves = useSelector((state: State) => state.ui.cloudSaves);\n    const nonSerializableStore = useNonSerializableStore();\n    const store = useStore();\n\n    if (!cloudSaves ||\n        nonSerializableStore.loadedBundle === null ||\n        nonSerializableStore.loadedBundle.bundleChangesUrl === null) {\n        return null;\n    }\n\n    function onClick() {\n        if (busy) {\n            return;\n        }\n\n\n        setBusy(true);\n        apiSave(getState(store as any), nonSerializableStore, dispatch)\n            .finally(() =>setBusy(false));\n    }\n\n    return <div class={\"save-button sidebar-button overflow-hidden \" +\n        (busy ? \" sidebar-highlight \" : \"\") + props.class} onClick={onClick}>\n        <div class=\"w-full h-full flex justify-center\">\n            <DisketteIcon />\n            {busy && <div class=\"sidebar-badge\" />}\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\n                stroke-width=\"1.5\" stroke=\"currentColor\"\n                class=\"absolute bottom-1 w-3 h-3\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\"\n                    d=\"M12 16.5V9.75m0 0l3 3m-3-3l-3 3M6.75 19.5a4.5 4.5 0 01-1.41-8.775\n                    5.25 5.25 0 0110.233-2.33 3 3 0 013.758 3.848A3.752 3.752 0 0118 19.5H6.75z\" />\n            </svg>\n        </div>\n    </div>;\n}\n","import { useSelector } from \"react-redux\";\nimport { State } from \"../store\";\nimport { FullscreenButton } from \"./fullscreen-button\";\nimport { NetworkButton } from \"./network-button\";\nimport {\n    DosboxConfButton, SettingsButton, CyclesButton, FsButton,\n    FatDrivesButton, HddLed,\n    SoftKeyboardButton,\n    PreRunButton,\n} from \"./sidebar-button\";\nimport { SaveButtons } from \"./save-buttons\";\n\nexport function SideBar(props: {}) {\n    const window = useSelector((state: State) => state.ui.window);\n    const editor = useSelector((state: State) => state.ui.editor);\n    const kiosk = useSelector((state: State) => state.ui.kiosk);\n    const networking = !useSelector((state: State) => state.ui.noNetworking);\n\n    if (kiosk) {\n        return null;\n    }\n\n    return <div class=\"sidebar\">\n        {window === \"run\" && <SaveButtons />}\n        {window === \"run\" && <SoftKeyboardButton />}\n        {window === \"run\" && networking && <NetworkButton />}\n        {editor && window === \"prerun\" && <DosboxConfButton />}\n        {editor && window === \"prerun\" && <FatDrivesButton />}\n        {editor && window === \"run\" && <FsButton />}\n        <div class=\"contentbar\"></div>\n        {window === \"run\" && <FullscreenButton />}\n        {window === \"run\" && <CyclesButton />}\n        {window === \"run\" && <HddLed />}\n        {window === \"prerun\" && <PreRunButton />}\n        {window === \"run\" && <SettingsButton />}\n    </div>;\n};\n","/* eslint-disable camelcase */\n\nexport const KBD_NONE = 0;\nexport const KBD_0 = 48;\nexport const KBD_1 = 49;\nexport const KBD_2 = 50;\nexport const KBD_3 = 51;\nexport const KBD_4 = 52;\nexport const KBD_5 = 53;\nexport const KBD_6 = 54;\nexport const KBD_7 = 55;\nexport const KBD_8 = 56;\nexport const KBD_9 = 57;\nexport const KBD_a = 65;\nexport const KBD_b = 66;\nexport const KBD_c = 67;\nexport const KBD_d = 68;\nexport const KBD_e = 69;\nexport const KBD_f = 70;\nexport const KBD_g = 71;\nexport const KBD_h = 72;\nexport const KBD_i = 73;\nexport const KBD_j = 74;\nexport const KBD_k = 75;\nexport const KBD_l = 76;\nexport const KBD_m = 77;\nexport const KBD_n = 78;\nexport const KBD_o = 79;\nexport const KBD_p = 80;\nexport const KBD_q = 81;\nexport const KBD_r = 82;\nexport const KBD_s = 83;\nexport const KBD_t = 84;\nexport const KBD_u = 85;\nexport const KBD_v = 86;\nexport const KBD_w = 87;\nexport const KBD_x = 88;\nexport const KBD_y = 89;\nexport const KBD_z = 90;\nexport const KBD_f1 = 290;\nexport const KBD_f2 = 291;\nexport const KBD_f3 = 292;\nexport const KBD_f4 = 293;\nexport const KBD_f5 = 294;\nexport const KBD_f6 = 295;\nexport const KBD_f7 = 296;\nexport const KBD_f8 = 297;\nexport const KBD_f9 = 298;\nexport const KBD_f10 = 299;\nexport const KBD_f11 = 300;\nexport const KBD_f12 = 301;\n\nexport const KBD_kp0 = 320;\nexport const KBD_kp1 = 321;\nexport const KBD_kp2 = 322;\nexport const KBD_kp3 = 323;\nexport const KBD_kp4 = 324;\nexport const KBD_kp5 = 325;\nexport const KBD_kp6 = 326;\nexport const KBD_kp7 = 327;\nexport const KBD_kp8 = 328;\nexport const KBD_kp9 = 329;\n\nexport const KBD_kpperiod = 330;\nexport const KBD_kpdivide = 331;\nexport const KBD_kpmultiply = 332;\nexport const KBD_kpminus = 333;\nexport const KBD_kpplus = 334;\nexport const KBD_kpenter = 335;\n\nexport const KBD_esc = 256;\nexport const KBD_tab = 258;\nexport const KBD_backspace = 259;\nexport const KBD_enter = 257;\nexport const KBD_space = 32;\nexport const KBD_leftalt = 342;\nexport const KBD_rightalt = 346;\nexport const KBD_leftctrl = 341;\nexport const KBD_rightctrl = 345;\nexport const KBD_leftshift = 340;\nexport const KBD_rightshift = 344;\nexport const KBD_capslock = 280;\nexport const KBD_scrolllock = 281;\nexport const KBD_numlock = 282;\nexport const KBD_grave = 96;\nexport const KBD_minus = 45;\nexport const KBD_equals = 61;\nexport const KBD_backslash = 92;\nexport const KBD_leftbracket = 91;\nexport const KBD_rightbracket = 93;\nexport const KBD_semicolon = 59;\nexport const KBD_quote = 39;\nexport const KBD_period = 46;\nexport const KBD_comma = 44;\nexport const KBD_slash = 47;\nexport const KBD_printscreen = 283;\nexport const KBD_pause = 284;\nexport const KBD_insert = 260;\nexport const KBD_home = 268;\nexport const KBD_pageup = 266;\nexport const KBD_delete = 261;\nexport const KBD_end = 269;\nexport const KBD_pagedown = 267;\nexport const KBD_left = 263;\nexport const KBD_up = 265;\nexport const KBD_down = 264;\nexport const KBD_right = 262;\nexport const KBD_extra_lt_gt = 348; // ???\n\nexport const domToKeyCodes: {[index: number]: number} = {\n    8: KBD_backspace,\n    9: KBD_tab,\n    13: KBD_enter,\n    16: KBD_leftshift,\n    17: KBD_leftctrl,\n    18: KBD_leftalt,\n    19: KBD_pause,\n    27: KBD_esc,\n    32: KBD_space,\n    33: KBD_pageup,\n    34: KBD_pagedown,\n    35: KBD_end,\n    36: KBD_home,\n    37: KBD_left,\n    38: KBD_up,\n    39: KBD_right,\n    40: KBD_down,\n    45: KBD_insert,\n    46: KBD_delete,\n    48: KBD_0,\n    49: KBD_1,\n    50: KBD_2,\n    51: KBD_3,\n    52: KBD_4,\n    53: KBD_5,\n    54: KBD_6,\n    55: KBD_7,\n    56: KBD_8,\n    57: KBD_9,\n    59: KBD_semicolon,\n    64: KBD_equals,\n    65: KBD_a,\n    66: KBD_b,\n    67: KBD_c,\n    68: KBD_d,\n    69: KBD_e,\n    70: KBD_f,\n    71: KBD_g,\n    72: KBD_h,\n    73: KBD_i,\n    74: KBD_j,\n    75: KBD_k,\n    76: KBD_l,\n    77: KBD_m,\n    78: KBD_n,\n    79: KBD_o,\n    80: KBD_p,\n    81: KBD_q,\n    82: KBD_r,\n    83: KBD_s,\n    84: KBD_t,\n    85: KBD_u,\n    86: KBD_v,\n    87: KBD_w,\n    88: KBD_x,\n    89: KBD_y,\n    90: KBD_z,\n    91: KBD_leftbracket,\n    93: KBD_rightbracket,\n    96: KBD_kp0,\n    97: KBD_kp1,\n    98: KBD_kp2,\n    99: KBD_kp3,\n    100: KBD_kp4,\n    101: KBD_kp5,\n    102: KBD_kp6,\n    103: KBD_kp7,\n    104: KBD_kp8,\n    105: KBD_kp9,\n    106: KBD_kpmultiply,\n    // 107: KBD_kpadd,\n    // 109: KBD_kpsubtract,\n    // 110: KBD_kpdecimal,\n    111: KBD_kpdivide,\n    112: KBD_f1,\n    113: KBD_f2,\n    114: KBD_f3,\n    115: KBD_f4,\n    116: KBD_f5,\n    117: KBD_f6,\n    118: KBD_f7,\n    119: KBD_f8,\n    120: KBD_f9,\n    121: KBD_f10,\n    122: KBD_f11,\n    123: KBD_f12,\n    144: KBD_numlock,\n    145: KBD_scrolllock,\n    173: KBD_minus,\n    186: KBD_semicolon,\n    187: KBD_equals,\n    188: KBD_comma,\n    189: KBD_minus,\n    190: KBD_period,\n    191: KBD_slash,\n    192: KBD_grave,\n    219: KBD_leftbracket,\n    220: KBD_backslash,\n    221: KBD_rightbracket,\n    222: KBD_quote,\n    // 224: KBD_left_super,\n};\n\nexport const namedKeyCodes: {[name: string]: number} = {\n    \"KBD_NONE\": KBD_NONE,\n    \"KBD_0\": KBD_0,\n    \"KBD_1\": KBD_1,\n    \"KBD_2\": KBD_2,\n    \"KBD_3\": KBD_3,\n    \"KBD_4\": KBD_4,\n    \"KBD_5\": KBD_5,\n    \"KBD_6\": KBD_6,\n    \"KBD_7\": KBD_7,\n    \"KBD_8\": KBD_8,\n    \"KBD_9\": KBD_9,\n    \"KBD_a\": KBD_a,\n    \"KBD_b\": KBD_b,\n    \"KBD_c\": KBD_c,\n    \"KBD_d\": KBD_d,\n    \"KBD_e\": KBD_e,\n    \"KBD_f\": KBD_f,\n    \"KBD_g\": KBD_g,\n    \"KBD_h\": KBD_h,\n    \"KBD_i\": KBD_i,\n    \"KBD_j\": KBD_j,\n    \"KBD_k\": KBD_k,\n    \"KBD_l\": KBD_l,\n    \"KBD_m\": KBD_m,\n    \"KBD_n\": KBD_n,\n    \"KBD_o\": KBD_o,\n    \"KBD_p\": KBD_p,\n    \"KBD_q\": KBD_q,\n    \"KBD_r\": KBD_r,\n    \"KBD_s\": KBD_s,\n    \"KBD_t\": KBD_t,\n    \"KBD_u\": KBD_u,\n    \"KBD_v\": KBD_v,\n    \"KBD_w\": KBD_w,\n    \"KBD_x\": KBD_x,\n    \"KBD_y\": KBD_y,\n    \"KBD_z\": KBD_z,\n    \"KBD_f1\": KBD_f1,\n    \"KBD_f2\": KBD_f2,\n    \"KBD_f3\": KBD_f3,\n    \"KBD_f4\": KBD_f4,\n    \"KBD_f5\": KBD_f5,\n    \"KBD_f6\": KBD_f6,\n    \"KBD_f7\": KBD_f7,\n    \"KBD_f8\": KBD_f8,\n    \"KBD_f9\": KBD_f9,\n    \"KBD_f10\": KBD_f10,\n    \"KBD_f11\": KBD_f11,\n    \"KBD_f12\": KBD_f12,\n\n    \"KBD_kp0\": KBD_kp0,\n    \"KBD_kp1\": KBD_kp1,\n    \"KBD_kp2\": KBD_kp2,\n    \"KBD_kp3\": KBD_kp3,\n    \"KBD_kp4\": KBD_kp4,\n    \"KBD_kp5\": KBD_kp5,\n    \"KBD_kp6\": KBD_kp6,\n    \"KBD_kp7\": KBD_kp7,\n    \"KBD_kp8\": KBD_kp8,\n    \"KBD_kp9\": KBD_kp9,\n\n    \"KBD_kpperiod\": KBD_kpperiod,\n    \"KBD_kpdivide\": KBD_kpdivide,\n    \"KBD_kpmultiply\": KBD_kpmultiply,\n    \"KBD_kpminus\": KBD_kpminus,\n    \"KBD_kpplus\": KBD_kpplus,\n    \"KBD_kpenter\": KBD_kpenter,\n\n    \"KBD_esc\": KBD_esc,\n    \"KBD_tab\": KBD_tab,\n    \"KBD_backspace\": KBD_backspace,\n    \"KBD_enter\": KBD_enter,\n    \"KBD_space\": KBD_space,\n    \"KBD_leftalt\": KBD_leftalt,\n    \"KBD_rightalt\": KBD_rightalt,\n    \"KBD_leftctrl\": KBD_leftctrl,\n    \"KBD_rightctrl\": KBD_rightctrl,\n    \"KBD_leftshift\": KBD_leftshift,\n    \"KBD_rightshift\": KBD_rightshift,\n    \"KBD_capslock\": KBD_capslock,\n    \"KBD_scrolllock\": KBD_scrolllock,\n    \"KBD_numlock\": KBD_numlock,\n    \"KBD_grave\": KBD_grave,\n    \"KBD_minus\": KBD_minus,\n    \"KBD_equals\": KBD_equals,\n    \"KBD_backslash\": KBD_backslash,\n    \"KBD_leftbracket\": KBD_leftbracket,\n    \"KBD_rightbracket\": KBD_rightbracket,\n    \"KBD_semicolon\": KBD_semicolon,\n    \"KBD_quote\": KBD_quote,\n    \"KBD_period\": KBD_period,\n    \"KBD_comma\": KBD_comma,\n    \"KBD_slash\": KBD_slash,\n    \"KBD_printscreen\": KBD_printscreen,\n    \"KBD_pause\": KBD_pause,\n    \"KBD_insert\": KBD_insert,\n    \"KBD_home\": KBD_home,\n    \"KBD_pageup\": KBD_pageup,\n    \"KBD_delete\": KBD_delete,\n    \"KBD_end\": KBD_end,\n    \"KBD_pagedown\": KBD_pagedown,\n    \"KBD_left\": KBD_left,\n    \"KBD_up\": KBD_up,\n    \"KBD_down\": KBD_down,\n    \"KBD_right\": KBD_right,\n    \"KBD_extra_lt_gt\": KBD_extra_lt_gt,\n};\n\nexport const keyCodesToDom: {[index: number]: number} = {};\nfor (const next of Object.keys(domToKeyCodes)) {\n    const key = Number.parseInt(next, 10);\n    keyCodesToDom[domToKeyCodes[key]] = key;\n}\n\nexport function domToKeyCode(domCode: number) {\n    return domToKeyCodes[domCode] || 0;\n}\n","import { FitConstant } from \"../../../store/dos\";\n\nexport function resizeCanvas(canvas: HTMLCanvasElement,\n                             frameWidth: number,\n                             frameHeight: number,\n                             forceAspect?: number) {\n    const rect = canvas.parentElement!.getBoundingClientRect();\n    const containerWidth = rect.width;\n    const containerHeight = rect.height;\n\n    if (frameHeight === 0) {\n        return;\n    }\n    const aspect =\n        forceAspect === FitConstant ? (containerWidth / containerHeight) :\n            (forceAspect ?? (frameWidth / frameHeight));\n\n    let width = containerWidth;\n    let height = containerWidth / aspect;\n\n    if (height > containerHeight) {\n        height = containerHeight;\n        width = containerHeight * aspect;\n    }\n\n    canvas.style.position = \"relative\";\n    canvas.style.top = (containerHeight - height) / 2 + \"px\";\n    canvas.style.left = (containerWidth - width) / 2 + \"px\";\n    canvas.style.width = width + \"px\";\n    canvas.style.height = height + \"px\";\n};\n","import { CommandInterface } from \"emulators\";\nimport { resizeCanvas } from \"./resize\";\n\nconst vsSource = `\nattribute vec4 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nvarying highp vec2 vTextureCoord;\n\nvoid main(void) {\n  gl_Position = aVertexPosition;\n  vTextureCoord = aTextureCoord;\n}\n`;\n\nconst fsSource = `\nvarying highp vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\n\nvoid main(void) {\n  highp vec4 color = texture2D(uSampler, vTextureCoord);\n  gl_FragColor = vec4(color.r, color.g, color.b, 1.0);\n}\n`;\n\nexport function webGl(canvas: HTMLCanvasElement,\n                      ci: CommandInterface,\n                      forceAspect?: number) {\n    const gl = canvas.getContext(\"webgl\");\n    if (gl === null) {\n        throw new Error(\"Unable to create webgl context on given canvas\");\n    }\n\n    const shaderProgram = initShaderProgram(gl, vsSource, fsSource);\n    const vertexPosition = gl.getAttribLocation(shaderProgram, \"aVertexPosition\");\n    const textureCoord = gl.getAttribLocation(shaderProgram, \"aTextureCoord\");\n    const uSampler = gl.getUniformLocation(shaderProgram, \"uSampler\");\n\n    initBuffers(gl, vertexPosition, textureCoord);\n\n    const texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n\n    const pixel = new Uint8Array([0, 0, 0]);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGB,\n        1, 1, 0, gl.RGB, gl.UNSIGNED_BYTE,\n        pixel);\n\n    gl.useProgram(shaderProgram);\n    gl.activeTexture(gl.TEXTURE0);\n    gl.uniform1i(uSampler, 0);\n\n    let frameWidth = 0;\n    let frameHeight = 0;\n\n    let requestAnimationFrameId: number | null = null;\n    let frame: Uint8Array | null = null;\n    let frameFormat: number = 0;\n\n    const updateTexture = () => {\n        if (frame !== null) {\n            gl.texImage2D(gl.TEXTURE_2D, 0, frameFormat,\n                frameWidth, frameHeight, 0, frameFormat, gl.UNSIGNED_BYTE,\n                frame);\n            frame = null;\n        }\n        gl.drawArrays(gl.TRIANGLES, 0, 6);\n\n        requestAnimationFrameId = null;\n    };\n\n    const onResize = () => {\n        resizeCanvas(canvas, frameWidth, frameHeight, forceAspect);\n    };\n\n    const onResizeFrame = (w: number, h: number) => {\n        frameWidth = w;\n        frameHeight = h;\n        canvas.width = frameWidth;\n        canvas.height = frameHeight;\n        frame = null;\n        gl.viewport(0, 0, frameWidth, frameHeight);\n        onResize();\n    };\n\n    ci.events().onFrameSize(onResizeFrame);\n    ci.events().onFrame((rgb, rgba) => {\n        frame = rgb != null ? rgb : rgba;\n        frameFormat = rgb != null ? gl.RGB : gl.RGBA;\n        if (requestAnimationFrameId === null) {\n            requestAnimationFrameId = requestAnimationFrame(updateTexture);\n        }\n    });\n\n    onResizeFrame(ci.width(), ci.height());\n\n    const resizeObserver = new ResizeObserver(onResize);\n    resizeObserver.observe(canvas.parentElement!);\n    window.addEventListener(\"resize\", onResize);\n\n    return () => {\n        ci.events().onFrameSize(() => {});\n        ci.events().onFrame(() => {});\n        resizeObserver.disconnect();\n        window.removeEventListener(\"resize\", onResize);\n    };\n}\n\nfunction initShaderProgram(gl: WebGLRenderingContext, vsSource: string, fsSource: string) {\n    const vertexShader = loadShader(gl, gl.VERTEX_SHADER, vsSource);\n    const fragmentShader = loadShader(gl, gl.FRAGMENT_SHADER, fsSource);\n\n    const shaderProgram = gl.createProgram() as WebGLShader;\n    gl.attachShader(shaderProgram, vertexShader);\n    gl.attachShader(shaderProgram, fragmentShader);\n    gl.linkProgram(shaderProgram);\n\n    if (!gl.getProgramParameter(shaderProgram, gl.LINK_STATUS)) {\n        throw new Error(\"Unable to initialize the shader program: \" + gl.getProgramInfoLog(shaderProgram));\n    }\n\n    return shaderProgram;\n}\n\nfunction loadShader(gl: WebGLRenderingContext, shaderType: GLenum, source: string) {\n    const shader = gl.createShader(shaderType) as WebGLShader;\n    gl.shaderSource(shader, source);\n    gl.compileShader(shader);\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n        const info = gl.getShaderInfoLog(shader);\n        gl.deleteShader(shader);\n        throw new Error(\"An error occurred compiling the shaders: \" + info);\n    }\n\n    return shader;\n}\n\nfunction initBuffers(gl: WebGLRenderingContext, vertexPosition: number, textureCoord: number) {\n    const positionBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n    const positions = [\n        -1.0, -1.0, 0.0,\n        1.0, -1.0, 0.0,\n        1.0, 1.0, 0.0,\n        -1.0, -1.0, 0.0,\n        1.0, 1.0, 0.0,\n        -1.0, 1.0, 0.0,\n    ];\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(positions), gl.STATIC_DRAW);\n    gl.vertexAttribPointer(vertexPosition, 3, gl.FLOAT, false, 0, 0);\n    gl.enableVertexAttribArray(vertexPosition);\n\n    const textureCoordBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, textureCoordBuffer);\n    const textureCoordinates = [\n        0.0, 1.0,\n        1.0, 1.0,\n        1.0, 0.0,\n        0.0, 1.0,\n        1.0, 0.0,\n        0.0, 0.0,\n    ];\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(textureCoordinates),\n        gl.STATIC_DRAW);\n\n    gl.vertexAttribPointer(textureCoord, 2, gl.FLOAT, false, 0, 0);\n    gl.enableVertexAttribArray(textureCoord);\n}\n","import { CommandInterface } from \"emulators\";\nimport { resizeCanvas } from \"./resize\";\n\nexport function canvas(canvas: HTMLCanvasElement,\n                       ci: CommandInterface,\n                       forceAspect?: number) {\n    const context = canvas.getContext(\"2d\");\n    if (context === null) {\n        throw new Error(\"Unable to create 2d context on given canvas\");\n    }\n\n    let frameWidth = 0;\n    let frameHeight = 0;\n\n    const onResize = () => {\n        resizeCanvas(canvas, frameWidth, frameHeight, forceAspect);\n    };\n\n    let rgba = new Uint8ClampedArray(0);\n    const onResizeFrame = (w: number, h: number) => {\n        frameWidth = w;\n        frameHeight = h;\n        canvas.width = frameWidth;\n        canvas.height = frameHeight;\n        rgba = new Uint8ClampedArray(w * h * 4);\n        onResize();\n    };\n    ci.events().onFrameSize(onResizeFrame);\n    ci.events().onFrame((frameRgb, frameRgba) => {\n        if (frameRgb === null && frameRgba === null) {\n            return;\n        }\n\n        const frame = (frameRgb !== null ? frameRgb : frameRgba) as Uint8Array;\n\n        let frameOffset = 0;\n        let rgbaOffset = 0;\n\n        while (rgbaOffset < rgba.length) {\n            rgba[rgbaOffset++] = frame[frameOffset++];\n            rgba[rgbaOffset++] = frame[frameOffset++];\n            rgba[rgbaOffset++] = frame[frameOffset++];\n            rgba[rgbaOffset++] = 255;\n\n            if (frame.length === rgba.length) {\n                frameOffset++;\n            }\n        }\n\n        context.putImageData(new ImageData(rgba, frameWidth, frameHeight), 0, 0);\n    });\n\n    onResizeFrame(ci.width(), ci.height());\n\n    const resizeObserver = new ResizeObserver(onResize);\n    resizeObserver.observe(canvas.parentElement!);\n    window.addEventListener(\"resize\", onResize);\n\n    return () => {\n        ci.events().onFrameSize(() => {});\n        ci.events().onFrame(() => {});\n        resizeObserver.disconnect();\n        window.removeEventListener(\"resize\", onResize);\n    };\n}\n","import { CommandInterface } from \"emulators\";\n\nclass SamplesQueue {\n    private samplesQueue: Float32Array[] = [];\n\n    push(samples: Float32Array) {\n        this.samplesQueue.push(samples);\n    }\n\n    length() {\n        let total = 0;\n        for (const next of this.samplesQueue) {\n            total += next.length;\n        }\n        return total;\n    }\n\n    writeTo(dst: Float32Array, bufferSize: number) {\n        let writeIt = 0;\n        while (this.samplesQueue.length > 0) {\n            const src = this.samplesQueue[0];\n            const toRead = Math.min(bufferSize - writeIt, src.length);\n            if (toRead === src.length) {\n                dst.set(src, writeIt);\n                this.samplesQueue.shift();\n            } else {\n                dst.set(src.slice(0, toRead), writeIt);\n                this.samplesQueue[0] = src.slice(toRead);\n            }\n\n            writeIt += toRead;\n\n            if (writeIt === bufferSize) {\n                break;\n            }\n        }\n\n        if (writeIt < bufferSize) {\n            dst.fill(0, writeIt);\n        }\n    }\n}\n\nexport function audioNode(ci: CommandInterface,\n                          bindVolumeFn?: (fn: (volume: number) => void) => () => void) {\n    const sampleRate = ci.soundFrequency();\n    const channels = 1;\n\n    if (sampleRate === 0) {\n        console.warn(\"Can't create audio node with sampleRate === 0, ingnoring\");\n        return () => {};\n    }\n\n    let audioContext: AudioContext | null = null;\n\n    if (typeof AudioContext !== \"undefined\") {\n        audioContext = new AudioContext({\n            sampleRate,\n            latencyHint: \"interactive\",\n        });\n    } else if (typeof (window as any).webkitAudioContext !== \"undefined\") {\n        // eslint-disable-next-line new-cap\n        audioContext = new (window as any).webkitAudioContext({\n            sampleRate,\n            latencyHint: \"interactive\",\n        });\n    }\n\n    if (audioContext == null) {\n        return () => {};\n    }\n\n    const samplesQueue = new SamplesQueue();\n    const bufferSize = 2048;\n    const preBufferSize = 2048;\n\n    ci.events().onSoundPush((samples) => {\n        if (samplesQueue.length() < bufferSize * 2 + preBufferSize) {\n            samplesQueue.push(samples);\n        }\n    });\n\n    const audioNode = audioContext.createScriptProcessor(bufferSize, 0, channels);\n    let started = false;\n\n    const onQueueProcess = (event: AudioProcessingEvent) => {\n        const numFrames = event.outputBuffer.length;\n        const numChannels = event.outputBuffer.numberOfChannels;\n        const samplesCount = samplesQueue.length();\n\n        if (!started) {\n            started = samplesCount >= preBufferSize;\n        }\n\n        if (!started) {\n            return;\n        }\n\n        for (let channel = 0; channel < numChannels; channel++) {\n            const channelData = event.outputBuffer.getChannelData(channel);\n            samplesQueue.writeTo(channelData, numFrames);\n        }\n    };\n\n    audioNode.onaudioprocess = onQueueProcess;\n\n    const gainNode = audioContext.createGain();\n    gainNode.connect(audioContext.destination);\n    audioNode.connect(gainNode);\n\n    gainNode.gain.value = 1.0;\n\n    let unbindVolumeFn: () => void;\n    if (bindVolumeFn) {\n        unbindVolumeFn = bindVolumeFn((volume: number) => {\n            gainNode.gain.value = volume;\n        });\n    }\n\n    const resumeWebAudio = () => {\n        if (audioContext !== null && audioContext.state === \"suspended\") {\n            audioContext.resume();\n        }\n    };\n\n    document.addEventListener(\"pointerdown\", resumeWebAudio, { once: true });\n    document.addEventListener(\"keydown\", resumeWebAudio, { once: true });\n\n    return () => {\n        ci.events().onSoundPush(() => {});\n\n        if (audioContext !== null) {\n            audioNode.disconnect();\n            gainNode.disconnect();\n            audioContext\n                .close()\n                .catch(console.error);\n            audioContext = null;\n        }\n\n        if (unbindVolumeFn !== undefined) {\n            unbindVolumeFn();\n        }\n\n        document.removeEventListener(\"pointerdown\", resumeWebAudio);\n        document.removeEventListener(\"keydown\", resumeWebAudio);\n    };\n}\n","function initBind() {\n    const isMobile = /Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(navigator.appVersion) ||\n                /Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(navigator.userAgent) ||\n                (/MacIntel/.test(navigator.platform) && navigator.maxTouchPoints && navigator.maxTouchPoints > 2);\n    const isTouch = isMobile && !!(\"ontouchstart\" in window);\n    const isPointer = isMobile && (window.PointerEvent ? true : false);\n    const isMSPointer = isMobile && ((window as any).MSPointerEvent ? true : false);\n    let canLock = !isMobile;\n\n    const starters: string[] = [];\n    const changers: string[] = [];\n    const enders: string[] = [];\n    const leavers: string[] = [];\n    const prevents: string[] = [];\n\n    if (isPointer) {\n        starters.push(\"pointerdown\");\n        enders.push(\"pointerup\", \"pointercancel\");\n        changers.push(\"pointermove\");\n        prevents.push(\"touchstart\", \"touchmove\", \"touchend\");\n    } else if (isMSPointer) {\n        starters.push(\"MSPointerDown\");\n        changers.push(\"MSPointerMove\");\n        enders.push(\"MSPointerUp\");\n    } else if (isTouch) {\n        canLock = false;\n        starters.push(\"touchstart\", \"mousedown\");\n        changers.push(\"touchmove\");\n        enders.push(\"touchend\", \"touchcancel\", \"mouseup\");\n    } else {\n        starters.push(\"mousedown\");\n        changers.push(\"mousemove\");\n        enders.push(\"mouseup\");\n        leavers.push(\"mouseleave\");\n    }\n\n    return {\n        mobile: isMobile,\n        canLock,\n        starters,\n        changers,\n        enders,\n        prevents,\n        leavers,\n    };\n}\n\nexport interface PointerState {\n    x: number,\n    y: number,\n    mX: number,\n    mY: number,\n    button?: number,\n}\n\nexport function getPointerState(e: Event, el: HTMLElement): PointerState {\n    if (e.type.match(/^touch/)) {\n        const evt = e as TouchEvent;\n        const rect = el.getBoundingClientRect();\n        return {\n            x: evt.targetTouches[0].clientX - rect.x,\n            y: evt.targetTouches[0].clientY - rect.y,\n            mX: 0,\n            mY: 0,\n        };\n    } else if (e.type.match(/^pointer/)) {\n        const evt = e as PointerEvent;\n        return {\n            x: evt.offsetX,\n            y: evt.offsetY,\n            mX: evt.movementX,\n            mY: evt.movementY,\n        };\n    } else {\n        const evt = e as MouseEvent;\n        return {\n            x: evt.offsetX,\n            y: evt.offsetY,\n            mX: evt.movementX,\n            mY: evt.movementY,\n            button: evt.button === 0 ? 0 : 1,\n        };\n    }\n}\n\nexport const pointer = initBind();\n\n","import { pointer, getPointerState } from \"./pointer\";\n\nexport function mount(el: HTMLElement,\n                      onMouseDown: (x: number, y: number, button?: number) => void,\n                      onMouseMove: (x: number, y: number, mX: number, mY: number) => void,\n                      onMouseUp: (x: number, y: number, button?: number) => void,\n                      onMouseLeave: (x: number, y: number) => void) {\n    // eslint-disable-next-line\n    function preventDefaultIfNeeded(e: Event) {\n        // not needed yet\n    }\n\n    const onStart = (e: Event) => {\n        if (e.target !== el) {\n            return;\n        }\n\n        const state = getPointerState(e, el);\n        onMouseDown(state.x, state.y, state.button);\n\n        e.stopPropagation();\n        preventDefaultIfNeeded(e);\n    };\n\n    const onChange = (e: Event) => {\n        if (e.target !== el) {\n            return;\n        }\n\n        const state = getPointerState(e, el);\n        onMouseMove(state.x, state.y, state.mX, state.mY);\n        e.stopPropagation();\n        preventDefaultIfNeeded(e);\n    };\n\n    const onEnd = (e: Event) => {\n        const state = getPointerState(e, el);\n        onMouseUp(state.x, state.y, state.button);\n        e.stopPropagation();\n        preventDefaultIfNeeded(e);\n    };\n\n    const onLeave = (e: Event) => {\n        if (e.target !== el) {\n            return;\n        }\n\n        const state = getPointerState(e, el);\n        onMouseLeave(state.x, state.y);\n        e.stopPropagation();\n        preventDefaultIfNeeded(e);\n    };\n\n    const onPrevent = (e: Event) => {\n        e.stopPropagation();\n        preventDefaultIfNeeded(e);\n    };\n\n    const options = {\n        capture: false,\n    };\n\n    for (const next of pointer.starters) {\n        el.addEventListener(next, onStart, options);\n    }\n    for (const next of pointer.changers) {\n        el.addEventListener(next, onChange, options);\n    }\n    for (const next of pointer.enders) {\n        el.addEventListener(next, onEnd, options);\n    }\n    for (const next of pointer.prevents) {\n        el.addEventListener(next, onPrevent, options);\n    }\n    for (const next of pointer.leavers) {\n        el.addEventListener(next, onLeave, options);\n    }\n\n    return () => {\n        for (const next of pointer.starters) {\n            el.removeEventListener(next, onStart, options);\n        }\n        for (const next of pointer.changers) {\n            el.removeEventListener(next, onChange, options);\n        }\n        for (const next of pointer.enders) {\n            el.removeEventListener(next, onEnd, options);\n        }\n        for (const next of pointer.prevents) {\n            el.removeEventListener(next, onPrevent, options);\n        }\n        for (const next of pointer.leavers) {\n            el.removeEventListener(next, onLeave, options);\n        }\n    };\n}\n","import { CommandInterface } from \"emulators\";\nimport { mount } from \"./mount\";\n\nconst insensitivePadding = 1 / 100;\n\nexport function mouseDefault(pointerButton: number,\n                             el: HTMLElement,\n                             ci: CommandInterface) {\n    const mapXY = (x: number, y: number) => doMapXY(x, y, el, ci);\n\n    if (document.pointerLockElement === el) {\n        document.exitPointerLock();\n    }\n\n    function onMouseDown(x: number, y: number, button?: number) {\n        const xy = mapXY(x, y);\n        ci.sendMouseMotion(xy.x, xy.y);\n        ci.sendMouseButton(button ?? pointerButton, true);\n    }\n\n    function onMouseUp(x: number, y: number, button?: number) {\n        const xy = mapXY(x, y);\n        ci.sendMouseMotion(xy.x, xy.y);\n        ci.sendMouseButton(button ?? pointerButton, false);\n    }\n\n    function onMouseMove(x: number, y: number, mX: number, mY: number) {\n        const xy = mapXY(x, y);\n        ci.sendMouseMotion(xy.x, xy.y);\n    }\n\n    function onMouseLeave(x: number, y: number) {\n        const xy = mapXY(x, y);\n        ci.sendMouseMotion(xy.x, xy.y);\n    }\n\n    return mount(el, onMouseDown, onMouseMove, onMouseUp, onMouseLeave);\n}\n\nfunction doMapXY(eX: number,\n                 eY: number,\n                 el: HTMLElement,\n                 ci: CommandInterface) {\n    const { width: containerWidth, height: containerHeight } = el.getBoundingClientRect();\n    const frameWidth = ci.width();\n    const frameHeight = ci.height();\n\n    const aspect = frameWidth / frameHeight;\n\n    let width = containerWidth;\n    let height = containerWidth / aspect;\n\n    if (height > containerHeight) {\n        height = containerHeight;\n        width = containerHeight * aspect;\n    }\n\n    const top = (containerHeight - height) / 2;\n    const left = (containerWidth - width) / 2;\n\n    let x = Math.max(0, Math.min(1, (eX - left) / width));\n    let y = Math.max(0, Math.min(1, (eY - top) / height));\n\n    if (x <= insensitivePadding) {\n        x = 0;\n    }\n\n    if (x >= (1 - insensitivePadding)) {\n        x = 1;\n    }\n\n    if (y <= insensitivePadding) {\n        y = 0;\n    }\n\n    if (y >= (1 - insensitivePadding)) {\n        y = 1;\n    }\n\n    return {\n        x,\n        y,\n    };\n}\n","import { CommandInterface } from \"emulators\";\nimport { mount } from \"./mount\";\n\nconst clickDelay = 500;\nconst clickThreshold = 50;\n\nexport function mouseSwipe(sensitivity: number,\n                           pointerButton: number,\n                           el: HTMLElement,\n                           ci: CommandInterface) {\n    let startedAt = -1;\n    let acc = 0;\n    let prevX = 0;\n    let prevY = 0;\n\n    const onMouseDown = (x: number, y: number, mouseButton?: number) => {\n        startedAt = Date.now();\n        acc = 0;\n        prevX = x;\n        prevY = y;\n\n        if (mouseButton !== undefined) {\n            ci.sendMouseButton(mouseButton, true);\n        }\n    };\n\n    function onMouseMove(x: number, y: number, mX: number, mY: number) {\n        if (mX === undefined) {\n            mX = x - prevX;\n        }\n\n        if (mY === undefined) {\n            mY = y - prevY;\n        }\n\n        prevX = x;\n        prevY = y;\n\n        if (mX === 0 && mY === 0) {\n            return;\n        }\n\n        acc += Math.abs(mX) + Math.abs(mY);\n\n        ci.sendMouseRelativeMotion(mX * sensitivity * 2, mY * sensitivity * 2);\n    }\n\n    const onMouseUp = (x: number, y: number, mouseButton?: number) => {\n        if (mouseButton !== undefined) {\n            ci.sendMouseButton(mouseButton, false);\n        } else {\n            const delay = Date.now() - startedAt;\n\n            if (delay < clickDelay && acc < clickThreshold) {\n                const button = mouseButton ?? pointerButton;\n                ci.sendMouseButton(button, true);\n                setTimeout(() => ci.sendMouseButton(button, false), 60);\n            }\n        }\n    };\n\n    const noop = () => {};\n\n    return mount(el, onMouseDown, onMouseMove, onMouseUp, noop);\n}\n","import { CommandInterface } from \"emulators\";\nimport { mousePointerLock } from \"./mouse/mouse-locked\";\nimport { mouseDefault } from \"./mouse/mouse-not-locked\";\nimport { mouseSwipe } from \"./mouse/mouse-swipe\";\nimport { pointer } from \"./mouse/pointer\";\n\nexport function mouse(lock: boolean,\n                      sensitivity: number,\n                      pointerButton: number,\n                      el: HTMLElement,\n                      ci: CommandInterface) {\n    if (lock && !pointer.canLock) {\n        return mouseSwipe(sensitivity, pointerButton, el, ci);\n    }\n\n    if (lock) {\n        const unlock = mousePointerLock(el);\n        const umount = mouseSwipe(sensitivity, pointerButton, el, ci);\n\n        return () => {\n            umount();\n            unlock();\n        };\n    }\n\n    return mouseDefault(pointerButton, el, ci);\n}\n","import { pointer } from \"./pointer\";\n\nexport function mousePointerLock(el: HTMLElement) {\n    function requestLock() {\n        if (document.pointerLockElement !== el) {\n            const requestPointerLock = el.requestPointerLock ||\n                (el as any).mozRequestPointerLock ||\n                (el as any).webkitRequestPointerLock;\n\n            requestPointerLock.call(el);\n\n            return;\n        }\n    }\n\n    const options = {\n        capture: true,\n    };\n\n    for (const next of pointer.starters) {\n        el.addEventListener(next, requestLock, options);\n    }\n\n    return () => {\n        for (const next of pointer.starters) {\n            el.removeEventListener(next, requestLock, options);\n        }\n    };\n}\n","import { pointer } from \"../../window/dos/controls/mouse/pointer\";\n\nexport function createDiv(className: string, innerHtml?: string) {\n    const el = document.createElement(\"div\");\n    el.className = className;\n    if (innerHtml !== undefined) {\n        el.innerHTML = innerHtml;\n    }\n    return el;\n}\n\nexport function stopPropagation(el: HTMLElement, preventDefault = true) {\n    const onStop = (e: Event) => {\n        e.stopPropagation();\n    };\n    const onPrevent = (e: Event) => {\n        e.stopPropagation();\n        if (preventDefault) {\n            e.preventDefault();\n        }\n    };\n    const options = {\n        capture: false,\n    };\n    for (const next of pointer.starters) {\n        el.addEventListener(next, onStop, options);\n    }\n    for (const next of pointer.enders) {\n        el.addEventListener(next, onStop, options);\n    }\n    for (const next of pointer.prevents) {\n        el.addEventListener(next, onPrevent, options);\n    }\n}\n","import { createDiv } from \"./helpers\";\n\n// eslint-disable-next-line\nexport interface LayersOptions {\n    optionControls?: string[];\n}\n\nexport class Layers {\n    options: LayersOptions;\n    root: HTMLDivElement;\n    canvas: HTMLCanvasElement;\n    mouseOverlay: HTMLDivElement;\n    width: number;\n    height: number;\n    keyboardVisible = false;\n    pointerLock = false;\n    pointerDisabled = false;\n    pointerButton: 0 | 1 = 0;\n\n    toggleKeyboard: () => void;\n\n    private onResize: ((width: number, height: number) => void)[];\n\n    private onKeyDown: (keyCode: number) => void;\n    private onKeyUp: (keyCode: number) => void;\n    private onKeyPress: (keyCode: number) => void;\n    private onKeysPress: (keyCodes: number[]) => void;\n\n    // eslint-disable-next-line\n    constructor(root: HTMLDivElement, canvas: HTMLCanvasElement, toggleKeyboard: () => void, options: LayersOptions) {\n        this.toggleKeyboard = toggleKeyboard;\n        this.options = options;\n        this.root = root;\n        this.root.classList.add(\"emulator-root\");\n\n        this.canvas = canvas;\n        this.canvas.className = \"emulator-canvas\";\n        this.mouseOverlay = createMouseOverlayLayer();\n\n        this.root.appendChild(this.mouseOverlay);\n\n        this.width = root.offsetWidth;\n        this.height = root.offsetHeight;\n\n        this.onResize = [];\n        this.onKeyDown = () => {/**/};\n        this.onKeyUp = () => {/**/};\n        this.onKeyPress = () => {/**/};\n        this.onKeysPress = () => {/**/};\n\n        new ResizeObserver((entries) => {\n            for (const e of entries) {\n                if (e.target === root) {\n                    this.width = e.contentRect.width;\n                    this.height = e.contentRect.height;\n                    for (const next of this.onResize) {\n                        next(this.width, this.height);\n                    }\n                }\n            }\n        }).observe(this.root);\n    }\n\n    addOnResize(handler: (width: number, height: number) => void) {\n        this.onResize.push(handler);\n    }\n\n    removeOnResize(handler: (width: number, height: number) => void) {\n        this.onResize = this.onResize.filter((n) => n !== handler);\n    }\n\n    setOnKeyDown(handler: (keyCode: number) => void) {\n        this.onKeyDown = handler;\n    }\n\n    fireKeyDown(keyCode: number) {\n        this.onKeyDown(keyCode);\n    }\n\n    setOnKeyUp(handler: (keyCode: number) => void) {\n        this.onKeyUp = handler;\n    }\n\n    fireKeyUp(keyCode: number) {\n        this.onKeyUp(keyCode);\n    }\n\n    setOnKeyPress(handler: (keyCode: number) => void) {\n        this.onKeyPress = handler;\n    }\n\n    fireKeyPress(keyCode: number) {\n        this.onKeyPress(keyCode);\n    }\n\n    setOnKeysPress(handler: (keyCodes: number[]) => void) {\n        this.onKeysPress = handler;\n    }\n\n\n    fireKeysPress(keyCodes: number[]) {\n        this.onKeysPress(keyCodes);\n    }\n}\n\nfunction createMouseOverlayLayer() {\n    return createDiv(\"emulator-mouse-overlay\", \"\");\n}\n","import { Button } from \"./button\";\nimport { EventMapping } from \"./nipple\";\nimport { Mapper } from \"./keyboard\";\n\nimport { GridType } from \"./grid\";\n\nexport type LayerControlType =\n    \"Options\" | \"Key\" | \"Keyboard\" |\n    \"Switch\" | \"ScreenMove\" |\n    \"PointerButton\" | \"NippleActivator\";\n\nexport interface LayerPosition {\n    column: number;\n    row: number;\n}\n\nexport interface LayerControl extends LayerPosition {\n    type: LayerControlType,\n    symbol: string;\n}\n\nexport interface LayerKeyControl extends LayerControl {\n    mapTo: number[];\n}\n\nexport interface LayerSwitchControl extends LayerControl {\n    layerName: string,\n}\n\nexport interface LayerScreenMoveControl extends LayerControl {\n    direction: \"up\" | \"down\" | \"left\" | \"right\" |\n        \"up-left\" | \"up-right\" | \"down-left\" | \"down-right\";\n}\n\nexport interface LayerPointerButtonControl extends LayerControl {\n    button: 0 | 1;\n    click: boolean;\n}\n\n// eslint-disable-next-line\nexport interface LayerNippleActivatorControl extends LayerControl {\n}\n\n// eslint-disable-next-line\nexport interface LayerPointerResetControl extends LayerControl {\n}\n\n// eslint-disable-next-line\nexport interface LayerPointerToggleControl extends LayerControl {\n}\n\nexport interface LayerPointerMoveControl extends LayerControl {\n    x: number;\n    y: number;\n}\n\n\nexport interface LayerConfig {\n    grid: GridType,\n    title: string,\n    controls: LayerControl[],\n}\n\nexport interface LayersConfig {\n    version: number,\n    layers: LayerConfig[],\n}\n\n\nexport interface LegacyLayerConfig {\n    name: string,\n    buttons: Button[],\n    gestures: EventMapping[],\n    mapper: Mapper,\n}\n\nexport type LegacyLayersConfig = {[index: string]: LegacyLayerConfig};\n\nexport function extractLayersConfig(config: any): LayersConfig | LegacyLayersConfig | null {\n    if (config.layersConfig !== undefined) {\n        if (config.layersConfig.version === 1) {\n            migrateV1ToV2(config.layersConfig);\n        }\n\n        return config.layersConfig;\n    }\n\n    if (config.layers !== undefined) {\n        return config.layers;\n    }\n\n    return null;\n}\n\nfunction migrateV1ToV2(config: LayersConfig) {\n    for (const layer of config.layers) {\n        for (const control of layer.controls) {\n            if (control.type === \"Key\") {\n                const keyControl = control as LayerKeyControl;\n                if (typeof keyControl.mapTo === \"number\") {\n                    keyControl.mapTo = [keyControl.mapTo];\n                }\n            }\n        }\n    }\n}\n","import { CommandInterface } from \"emulators\";\nimport { Layers } from \"../dom/layers\";\nimport { namedKeyCodes, KBD_NONE } from \"../../window/dos/controls/keys\";\nimport { pointer } from \"../../window/dos/controls/mouse/pointer\";\nimport { LayoutPosition } from \"./layout\";\n\nexport type ActionType = \"click\" | \"hold\";\n// hold - means track press/release events separately\n\nexport type Binding = number;\n\nexport interface Button {\n    action: ActionType,\n    mapTo: Binding,\n    symbol?: string,\n    position: LayoutPosition,\n}\n\nconst keyCodeToName = initKeyCodeToName();\n\nfunction initKeyCodeToName() {\n    const keyCodeToName: {[keyCode: number]: string} = {};\n    for (const next of Object.keys(namedKeyCodes)) {\n        keyCodeToName[namedKeyCodes[next]] = next.substr(4, 2);\n    }\n    return keyCodeToName;\n}\n\nexport interface ButtonHandler {\n    onDown?: () => void;\n    onUp?: () => void;\n    onClick?: () => void;\n}\n\nexport interface HTMLJsDosButtonElement extends HTMLDivElement {\n    widthPx: number;\n    heightPx: number;\n}\n\nexport function createButton(symbol: string,\n                             handler: ButtonHandler,\n                             size: number): HTMLJsDosButtonElement {\n    const innerSize = Math.round(size * 0.6);\n    const innerTextSize = Math.round(size * 0.5);\n    const borderWidth = Math.max(1, Math.round(size / 20));\n    const backgroundImage = symbolToUrl[symbol.toLowerCase()];\n    const text = backgroundImage === undefined ? symbol : \"\";\n    const button = createDiv(\"emulator-button-touch-zone\") as HTMLJsDosButtonElement;\n    const innerButton = createDiv(\"emulator-button\");\n    const innerText = createDiv(\"emulator-button-text\",\n        backgroundImage === undefined ? ((text === undefined || text.length === 0) ?\n            \"□\" : text.substr(0, 1).toUpperCase()) : \"\");\n\n    if (backgroundImage !== undefined) {\n        innerButton.style.backgroundImage = \"url(\\\"\" + backgroundImage + \"\\\")\";\n    }\n    innerButton.style.width = innerSize + \"px\";\n    innerButton.style.height = innerSize + \"px\";\n    innerText.style.fontSize = innerTextSize + \"px\";\n\n    button.widthPx = size - borderWidth * 2;\n    button.heightPx = size - borderWidth * 2;\n    button.style.width = button.widthPx + \"px\";\n    button.style.height = button.heightPx + \"px\";\n    button.style.borderWidth = borderWidth + \"px\";\n    button.appendChild(innerButton);\n    button.appendChild(innerText);\n\n    const onStart = (e: Event) => {\n        if (handler.onDown !== undefined) {\n            handler.onDown();\n        }\n        if (handler.onClick !== undefined) {\n            handler.onClick();\n        }\n        e.stopPropagation();\n        e.preventDefault();\n    };\n    const onEnd = (e: Event) => {\n        if (handler.onUp !== undefined) {\n            handler.onUp();\n        }\n        e.stopPropagation();\n        e.preventDefault();\n    };\n    const onPrevent = (e: Event) => {\n        e.stopPropagation();\n        e.preventDefault();\n    };\n    const options = {\n        capture: true,\n    };\n    for (const next of pointer.starters) {\n        button.addEventListener(next, onStart, options);\n    }\n    for (const next of pointer.enders) {\n        button.addEventListener(next, onEnd, options);\n    }\n    for (const next of pointer.changers) {\n        button.addEventListener(next, onPrevent, options);\n    }\n    for (const next of pointer.leavers) {\n        button.addEventListener(next, onPrevent, options);\n    }\n    for (const next of pointer.prevents) {\n        button.addEventListener(next, onPrevent, options);\n    }\n    return button;\n}\n\nexport function deprecatedButton(layers: Layers,\n                                 ci: CommandInterface,\n                                 buttons: Button[],\n                                 size: number) {\n    const ident = Math.round(size / 4);\n    const toRemove: HTMLElement[] = [];\n\n    for (const next of buttons) {\n        if (next.mapTo === KBD_NONE) {\n            continue;\n        }\n\n        const symbol = (next.symbol || mapToSymbol(next.mapTo)).toUpperCase();\n        const handler = deprecatedCreateHandler(next, layers);\n        const button = createButton(symbol, handler, size);\n\n        button.style.position = \"absolute\";\n        const cssStyle = (next as any).style;\n        if (cssStyle) {\n            for (const prop of Object.keys(cssStyle)) {\n                (button.style as any)[prop] = (cssStyle as any)[prop];\n            }\n        }\n\n        if (next.position !== undefined) {\n            const left = next.position.left;\n            const top = next.position.top;\n            const bottom = next.position.bottom;\n            const right = next.position.right;\n\n            if (left !== undefined) {\n                button.style.left = (ident * left + size * (left - 1)) + \"px\";\n            }\n\n            if (right !== undefined) {\n                button.style.right = (ident * right + size * (right - 1)) + \"px\";\n            }\n\n            if (top !== undefined) {\n                button.style.top = (ident * top + size * (top - 1)) + \"px\";\n            }\n\n            if (bottom !== undefined) {\n                button.style.bottom = (ident * bottom + size * (bottom - 1)) + \"px\";\n            }\n        }\n        layers.mouseOverlay.appendChild(button);\n        toRemove.push(button);\n    }\n\n    return () => {\n        for (const next of toRemove) {\n            if (next.parentElement === layers.mouseOverlay) {\n                layers.mouseOverlay.removeChild(next);\n            }\n        }\n    };\n}\n\nfunction createDiv(className: string, innerHtml?: string) {\n    const el = document.createElement(\"div\");\n    el.className = className;\n    if (innerHtml !== undefined) {\n        el.innerHTML = innerHtml;\n    }\n    return el;\n}\n\nfunction mapToSymbol(mapTo: Binding): string {\n    if (typeof mapTo === \"number\") {\n        return keyCodeToName[mapTo];\n    }\n\n    return mapTo;\n}\n\nfunction deprecatedCreateHandler(button: Button,\n                                 layers: Layers): ButtonHandler {\n    return button.action === \"click\" ?\n        { onClick: () => layers.fireKeyPress(button.mapTo) } :\n        {\n            onDown: () => layers.fireKeyDown(button.mapTo),\n            onUp: () => layers.fireKeyUp(button.mapTo),\n        };\n}\n\n/* eslint-disable max-len */\nconst down = \"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E%3Csvg version='1.1' id='Layer_1' xmlns:sketch='http://www.bohemiancoding.com/sketch/ns' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 20 20' fill='%23FFF' enable-background='new 0 0 20 20' xml:space='preserve'%3E%3Ctitle%3EShape%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cg id='Page-1' sketch:type='MSPage'%3E%3Cg id='Artboard-1' transform='translate(-3.000000, -1.000000)' sketch:type='MSArtboardGroup'%3E%3Cpath id='Shape' sketch:type='MSShapeGroup' d='M19,12c-0.3,0-0.5,0.1-0.7,0.3L14,16.6V3c0-0.5-0.4-1-1-1s-1,0.5-1,1v13.6 l-4.3-4.3C7.5,12.1,7.3,12,7,12c-0.5,0-1,0.4-1,1c0,0.3,0.1,0.5,0.3,0.7l6,6c0.2,0.2,0.4,0.3,0.7,0.3s0.5-0.1,0.7-0.3l6-6 c0.2-0.2,0.3-0.4,0.3-0.7C20,12.4,19.5,12,19,12L19,12z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\";\nconst left = \"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 20 20' enable-background='new 0 0 20 20' fill='%23FFF' xml:space='preserve'%3E%3Cg id='left_arrow_1_'%3E%3Cg%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M18,9H4.41l4.29-4.29C8.89,4.53,9,4.28,9,4c0-0.55-0.45-1-1-1 C7.72,3,7.47,3.11,7.29,3.29l-6,6C1.11,9.47,1,9.72,1,10c0,0.28,0.11,0.53,0.29,0.71l6,6C7.47,16.89,7.72,17,8,17 c0.55,0,1-0.45,1-1c0-0.28-0.11-0.53-0.29-0.71L4.41,11H18c0.55,0,1-0.45,1-1C19,9.45,18.55,9,18,9z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\";\nconst right = \"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' fill='%23fff' viewBox='0 0 20 20' enable-background='new 0 0 20 20' xml:space='preserve'%3E%3Cg id='right_arrow_1_'%3E%3Cg%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M18.71,9.29l-6-6C12.53,3.11,12.28,3,12,3c-0.55,0-1,0.45-1,1 c0,0.28,0.11,0.53,0.29,0.71L15.59,9H2c-0.55,0-1,0.45-1,1c0,0.55,0.45,1,1,1h13.59l-4.29,4.29C11.11,15.47,11,15.72,11,16 c0,0.55,0.45,1,1,1c0.28,0,0.53-0.11,0.71-0.29l6-6C18.89,10.53,19,10.28,19,10C19,9.72,18.89,9.47,18.71,9.29z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\";\nconst enter = \"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 18.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' fill='%23fff' viewBox='0 0 20 20' enable-background='new 0 0 20 20' xml:space='preserve'%3E%3Cg id='key_enter_1_'%3E%3Cg%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M18,2c-0.55,0-1,0.45-1,1v5c0,2.21-1.79,4-4,4H4.41l2.29-2.29 C6.89,9.53,7,9.28,7,9c0-0.55-0.45-1-1-1C5.72,8,5.47,8.11,5.29,8.29l-4,4C1.11,12.47,1,12.72,1,13c0,0.28,0.11,0.53,0.29,0.71 l4,4C5.47,17.89,5.72,18,6,18c0.55,0,1-0.45,1-1c0-0.28-0.11-0.53-0.29-0.71L4.41,14H13c3.31,0,6-2.69,6-6V3C19,2.45,18.55,2,18,2 z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\";\nconst symbolToUrl: {[symbol: string]: string} = {\n    fullscreen: \"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 16 16' enable-background='new 0 0 16 16' xml:space='preserve'%3E%3Cg id='maximize_1_' fill='%23FFFFFF'%3E%3Cg%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M5.99,8.99c-0.28,0-0.53,0.11-0.71,0.29l-3.29,3.29v-1.59c0-0.55-0.45-1-1-1 s-1,0.45-1,1v4c0,0.55,0.45,1,1,1h4c0.55,0,1-0.45,1-1s-0.45-1-1-1H3.41L6.7,10.7c0.18-0.18,0.29-0.43,0.29-0.71 C6.99,9.44,6.54,8.99,5.99,8.99z M14.99-0.01h-4c-0.55,0-1,0.45-1,1s0.45,1,1,1h1.59L9.28,5.29C9.1,5.47,8.99,5.72,8.99,5.99 c0,0.55,0.45,1,1,1c0.28,0,0.53-0.11,0.71-0.29l3.29-3.29v1.59c0,0.55,0.45,1,1,1s1-0.45,1-1v-4C15.99,0.44,15.54-0.01,14.99-0.01 z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\",\n    save: \"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 18.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 16 16' enable-background='new 0 0 16 16' fill='%23FFFFFF' xml:space='preserve'%3E%3Cg id='floppy_disk'%3E%3Cg%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M15.71,2.29l-2-2C13.53,0.11,13.28,0,13,0h-1v6H4V0H1C0.45,0,0,0.45,0,1v14 c0,0.55,0.45,1,1,1h14c0.55,0,1-0.45,1-1V3C16,2.72,15.89,2.47,15.71,2.29z M14,15H2V9c0-0.55,0.45-1,1-1h10c0.55,0,1,0.45,1,1V15 z M11,1H9v4h2V1z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A\",\n    options: \"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 20 20' enable-background='new 0 0 20 20' fill='%23FFF' xml:space='preserve'%3E%3Cg id='cog_2_'%3E%3Cg%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M19,8h-2.31c-0.14-0.46-0.33-0.89-0.56-1.3l1.7-1.7c0.39-0.39,0.39-1.02,0-1.41 l-1.41-1.41c-0.39-0.39-1.02-0.39-1.41,0l-1.7,1.7c-0.41-0.22-0.84-0.41-1.3-0.55V1c0-0.55-0.45-1-1-1H9C8.45,0,8,0.45,8,1v2.33 C7.52,3.47,7.06,3.67,6.63,3.91L5,2.28c-0.37-0.37-0.98-0.37-1.36,0L2.28,3.64C1.91,4.02,1.91,4.63,2.28,5l1.62,1.62 C3.66,7.06,3.46,7.51,3.31,8H1C0.45,8,0,8.45,0,9v2c0,0.55,0.45,1,1,1h2.31c0.14,0.46,0.33,0.89,0.56,1.3L2.17,15 c-0.39,0.39-0.39,1.02,0,1.41l1.41,1.41c0.39,0.39,1.02,0.39,1.41,0l1.7-1.7c0.41,0.22,0.84,0.41,1.3,0.55V19c0,0.55,0.45,1,1,1h2 c0.55,0,1-0.45,1-1v-2.33c0.48-0.14,0.94-0.35,1.37-0.59L15,17.72c0.37,0.37,0.98,0.37,1.36,0l1.36-1.36 c0.37-0.37,0.37-0.98,0-1.36l-1.62-1.62c0.24-0.43,0.45-0.89,0.6-1.38H19c0.55,0,1-0.45,1-1V9C20,8.45,19.55,8,19,8z M10,14 c-2.21,0-4-1.79-4-4c0-2.21,1.79-4,4-4s4,1.79,4,4C14,12.21,12.21,14,10,14z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\",\n    keyboard: \"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 18.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 16 16' enable-background='new 0 0 16 16' xml:space='preserve'%3E%3Cg id='manually_entered_data_2_'%3E%3Cg%3E%3Cpath fill='%23FFFFFF' fill-rule='evenodd' clip-rule='evenodd' d='M1,8h3.76l2-2H1C0.45,6,0,6.45,0,7C0,7.55,0.45,8,1,8z M15.49,3.99 C15.8,3.67,16,3.23,16,2.75C16,1.78,15.22,1,14.25,1c-0.48,0-0.92,0.2-1.24,0.51l-1.44,1.44l2.47,2.47L15.49,3.99z M1,4h7.76l2-2 H1C0.45,2,0,2.45,0,3C0,3.55,0.45,4,1,4z M1,10c-0.55,0-1,0.45-1,1c0,0.48,0.35,0.86,0.8,0.96L2.76,10H1z M10.95,3.57l-6.69,6.69 l2.47,2.47l6.69-6.69L10.95,3.57z M15.2,6.04L13.24,8H15c0.55,0,1-0.45,1-1C16,6.52,15.65,6.14,15.2,6.04z M2,15l3.86-1.39 l-2.46-2.44L2,15z M15,10h-3.76l-2,2H15c0.55,0,1-0.45,1-1C16,10.45,15.55,10,15,10z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\",\n    up: \"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generator: Adobe Illustrator 17.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E%3Csvg version='1.1' id='Layer_1' xmlns:sketch='http://www.bohemiancoding.com/sketch/ns' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 20 20' fill='%23FFF' enable-background='new 0 0 20 20' xml:space='preserve'%3E%3Ctitle%3EShape%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cg id='Page-1' sketch:type='MSPage'%3E%3Cg id='Artboard-1' transform='translate(-3.000000, -1.000000)' sketch:type='MSArtboardGroup'%3E%3Cpath id='Shape' sketch:type='MSShapeGroup' d='M19.7,8.3l-6-6C13.5,2.1,13.3,2,13,2s-0.5,0.1-0.7,0.3l-6,6C6.1,8.5,6,8.7,6,9 c0,0.6,0.5,1,1,1c0.3,0,0.5-0.1,0.7-0.3L12,5.4V19c0,0.5,0.4,1,1,1s1-0.5,1-1V5.4l4.3,4.3C18.5,9.9,18.7,10,19,10c0.5,0,1-0.4,1-1 C20,8.7,19.9,8.5,19.7,8.3L19.7,8.3z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\",\n    down,\n    do: down,\n    dw: down,\n    dwn: down,\n    left,\n    le: left,\n    lft: left,\n    right,\n    ri: right,\n    rght: right,\n    rgh: right,\n    enter,\n    en: enter,\n    enr: enter,\n    ent: enter,\n    entr: enter,\n};\n\n","import { CommandInterface } from \"emulators\";\nimport { Layers } from \"../../dom/layers\";\n\nimport { mount } from \"./mouse-common\";\n\nconst clickDelay = 500;\nconst clickThreshold = 50;\n\nexport function mouseSwipe(sensitivity: number, layers: Layers, ci: CommandInterface) {\n    const el = layers.mouseOverlay;\n\n    let startedAt = -1;\n    let acc = 0;\n    let prevX = 0;\n    let prevY = 0;\n\n    const onMouseDown = (x: number, y: number) => {\n        startedAt = Date.now();\n        acc = 0;\n        prevX = x;\n        prevY = y;\n    };\n\n    function onMouseMove(x: number, y: number, mX: number, mY: number) {\n        if (mX === undefined) {\n            mX = x - prevX;\n        }\n\n        if (mY === undefined) {\n            mY = y - prevY;\n        }\n\n        prevX = x;\n        prevY = y;\n\n        if (mX === 0 && mY === 0) {\n            return;\n        }\n\n        acc += Math.abs(mX) + Math.abs(mY);\n\n        (ci as any).sendMouseRelativeMotion(mX * sensitivity * 2, mY * sensitivity * 2);\n    }\n\n    const onMouseUp = (x: number, y: number) => {\n        const delay = Date.now() - startedAt;\n\n        if (delay < clickDelay && acc < clickThreshold) {\n            const button = layers.pointerButton || 0;\n            ci.sendMouseButton(button, true);\n            setTimeout(() => ci.sendMouseButton(button, false), 60);\n        }\n    };\n\n    const noop = () => {};\n\n    return mount(el, layers, onMouseDown, onMouseMove, onMouseUp, noop);\n}\n","import { CommandInterface } from \"emulators\";\nimport { Layers } from \"../../dom/layers\";\n\nimport { mapXY as doMapXY, mount } from \"./mouse-common\";\n\nexport function mouseNotLocked(layers: Layers, ci: CommandInterface) {\n    const el = layers.mouseOverlay;\n    const mapXY = (x: number, y: number) => doMapXY(x, y, ci, layers);\n\n    if (document.pointerLockElement === el) {\n        document.exitPointerLock();\n    }\n\n    function onMouseDown(x: number, y: number, button: number) {\n        const xy = mapXY(x, y);\n        ci.sendMouseMotion(xy.x, xy.y);\n        ci.sendMouseButton(button, true);\n    }\n\n    function onMouseUp(x: number, y: number, button: number) {\n        const xy = mapXY(x, y);\n        ci.sendMouseMotion(xy.x, xy.y);\n        ci.sendMouseButton(button, false);\n    }\n\n    function onMouseMove(x: number, y: number, mX: number, mY: number) {\n        const xy = mapXY(x, y);\n        ci.sendMouseMotion(xy.x, xy.y);\n    }\n\n    function onMouseLeave(x: number, y: number) {\n        const xy = mapXY(x, y);\n        ci.sendMouseMotion(xy.x, xy.y);\n    }\n\n    return mount(el, layers, onMouseDown, onMouseMove, onMouseUp, onMouseLeave);\n}\n","import { CommandInterface } from \"emulators\";\nimport { Layers } from \"../../dom/layers\";\nimport { pointer, getPointerState } from \"../../../window/dos/controls/mouse/pointer\";\nimport { mouseSwipe } from \"./mouse-swipe\";\nimport { mouseNotLocked } from \"./mouse-not-locked\";\nimport { mouseLocked } from \"./mouse-locked\";\n\nconst insensitivePadding = 1 / 100;\n\nexport function mapXY(eX: number, eY: number,\n                      ci: CommandInterface, layers: Layers) {\n    const frameWidth = ci.width();\n    const frameHeight = ci.height();\n    const containerWidth = layers.width;\n    const containerHeight = layers.height;\n\n    const aspect = frameWidth / frameHeight;\n\n    let width = containerWidth;\n    let height = containerWidth / aspect;\n\n    if (height > containerHeight) {\n        height = containerHeight;\n        width = containerHeight * aspect;\n    }\n\n    const top = (containerHeight - height) / 2;\n    const left = (containerWidth - width) / 2;\n\n    let x = Math.max(0, Math.min(1, (eX - left) / width));\n    let y = Math.max(0, Math.min(1, (eY - top) / height));\n\n    if (x <= insensitivePadding) {\n        x = 0;\n    }\n\n    if (x >= (1 - insensitivePadding)) {\n        x = 1;\n    }\n\n    if (y <= insensitivePadding) {\n        y = 0;\n    }\n\n    if (y >= (1 - insensitivePadding)) {\n        y = 1;\n    }\n\n    return {\n        x,\n        y,\n    };\n}\n\nexport function mount(el: HTMLDivElement, layers: Layers,\n                      onMouseDown: (x: number, y: number, button: number) => void,\n                      onMouseMove: (x: number, y: number, mX: number, mY: number) => void,\n                      onMouseUp: (x: number, y: number, button: number) => void,\n                      onMouseLeave: (x: number, y: number) => void) {\n    // eslint-disable-next-line\n    function preventDefaultIfNeeded(e: Event) {\n        // not needed yet\n    }\n\n    let pressedButton = 0;\n    const onStart = (e: Event) => {\n        if (e.target !== el) {\n            return;\n        }\n\n        if (layers.pointerDisabled) {\n            e.stopPropagation();\n            preventDefaultIfNeeded(e);\n            return;\n        }\n\n        const state = getPointerState(e, el);\n        pressedButton = state.button || layers.pointerButton;\n        onMouseDown(state.x, state.y, pressedButton);\n\n        e.stopPropagation();\n        preventDefaultIfNeeded(e);\n    };\n\n    const onChange = (e: Event) => {\n        if (e.target !== el) {\n            return;\n        }\n\n        if (layers.pointerDisabled) {\n            e.stopPropagation();\n            preventDefaultIfNeeded(e);\n            return;\n        }\n\n        const state = getPointerState(e, el);\n        onMouseMove(state.x, state.y, state.mX, state.mY);\n        e.stopPropagation();\n        preventDefaultIfNeeded(e);\n    };\n\n    const onEnd = (e: Event) => {\n        if (layers.pointerDisabled) {\n            e.stopPropagation();\n            preventDefaultIfNeeded(e);\n            return;\n        }\n\n        const state = getPointerState(e, el);\n        onMouseUp(state.x, state.y, pressedButton);\n        e.stopPropagation();\n        preventDefaultIfNeeded(e);\n    };\n\n    const onLeave = (e: Event) => {\n        if (e.target !== el) {\n            return;\n        }\n\n        if (layers.pointerDisabled) {\n            e.stopPropagation();\n            preventDefaultIfNeeded(e);\n            return;\n        }\n\n        const state = getPointerState(e, el);\n        onMouseLeave(state.x, state.y);\n        e.stopPropagation();\n        preventDefaultIfNeeded(e);\n    };\n\n    const onPrevent = (e: Event) => {\n        e.stopPropagation();\n        preventDefaultIfNeeded(e);\n    };\n\n    const options = {\n        capture: false,\n    };\n\n    for (const next of pointer.starters) {\n        el.addEventListener(next, onStart, options);\n    }\n    for (const next of pointer.changers) {\n        el.addEventListener(next, onChange, options);\n    }\n    for (const next of pointer.enders) {\n        el.addEventListener(next, onEnd, options);\n    }\n    for (const next of pointer.prevents) {\n        el.addEventListener(next, onPrevent, options);\n    }\n    for (const next of pointer.leavers) {\n        el.addEventListener(next, onLeave, options);\n    }\n\n    return () => {\n        for (const next of pointer.starters) {\n            el.removeEventListener(next, onStart, options);\n        }\n        for (const next of pointer.changers) {\n            el.removeEventListener(next, onChange, options);\n        }\n        for (const next of pointer.enders) {\n            el.removeEventListener(next, onEnd, options);\n        }\n        for (const next of pointer.prevents) {\n            el.removeEventListener(next, onPrevent, options);\n        }\n        for (const next of pointer.leavers) {\n            el.removeEventListener(next, onLeave, options);\n        }\n    };\n}\n\nexport function mouse(autolock: boolean, sensitivity: number, layers: Layers, ci: CommandInterface) {\n    if (autolock && !pointer.canLock) {\n        return mouseSwipe(sensitivity, layers, ci);\n    }\n\n    if (autolock) {\n        return mouseLocked(sensitivity, layers, ci);\n    }\n\n    return mouseNotLocked(layers, ci);\n}\n","import { CommandInterface } from \"emulators\";\nimport { Layers } from \"../../dom/layers\";\nimport { mount } from \"./mouse-common\";\n\nexport function mouseLocked(sensitivity: number, layers: Layers, ci: CommandInterface) {\n    const el = layers.mouseOverlay;\n\n    function isNotLocked() {\n        return document.pointerLockElement !== el;\n    }\n\n    function onMouseDown(x: number, y: number, button: number) {\n        if (isNotLocked()) {\n            const requestPointerLock = el.requestPointerLock ||\n                (el as any).mozRequestPointerLock ||\n                (el as any).webkitRequestPointerLock;\n\n            requestPointerLock.call(el);\n\n            return;\n        }\n\n        ci.sendMouseButton(button, true);\n    }\n\n    function onMouseUp(x: number, y: number, button: number) {\n        if (isNotLocked()) {\n            return;\n        }\n\n        ci.sendMouseButton(button, false);\n    }\n\n    function onMouseMove(x: number, y: number, mX: number, mY: number) {\n        if (isNotLocked()) {\n            return;\n        }\n\n        if (mX === 0 && mY === 0) {\n            return;\n        }\n\n        (ci as any).sendMouseRelativeMotion(mX * sensitivity, mY * sensitivity);\n    }\n\n    function onMouseLeave(x: number, y: number) {\n        // nothing to do\n    }\n\n    return mount(el, layers, onMouseDown, onMouseMove, onMouseUp, onMouseLeave);\n}\n","///////////////////////\n///      UTILS      ///\n///////////////////////\n\nexport const distance = (p1, p2) => {\n    const dx = p2.x - p1.x;\n    const dy = p2.y - p1.y;\n\n    return Math.sqrt((dx * dx) + (dy * dy));\n};\n\nexport const angle = (p1, p2) => {\n    const dx = p2.x - p1.x;\n    const dy = p2.y - p1.y;\n\n    return degrees(Math.atan2(dy, dx));\n};\n\nexport const findCoord = (p, d, a) => {\n    const b = {x: 0, y: 0};\n    a = radians(a);\n    b.x = p.x - d * Math.cos(a);\n    b.y = p.y - d * Math.sin(a);\n    return b;\n};\n\nexport const radians = (a) => {\n    return a * (Math.PI / 180);\n};\n\nexport const degrees = (a) => {\n    return a * (180 / Math.PI);\n};\n\nexport const isPressed = (evt) => {\n    if (isNaN(evt.buttons)) {\n        return evt.pressure !== 0;\n    }\n    return evt.buttons !== 0;\n};\n\nconst timers = new Map();\nexport const throttle = (cb) => {\n    if (timers.has(cb)) {\n        clearTimeout(timers.get(cb));\n    }\n    timers.set(cb, setTimeout(cb, 100));\n};\n\nexport const bindEvt = (el, arg, handler) => {\n    const types = arg.split(/[ ,]+/g);\n    let type;\n    for (let i = 0; i < types.length; i += 1) {\n        type = types[i];\n        if (el.addEventListener) {\n            el.addEventListener(type, handler, false);\n        } else if (el.attachEvent) {\n            el.attachEvent(type, handler);\n        }\n    }\n};\n\nexport const unbindEvt = (el, arg, handler) => {\n    const types = arg.split(/[ ,]+/g);\n    let type;\n    for (let i = 0; i < types.length; i += 1) {\n        type = types[i];\n        if (el.removeEventListener) {\n            el.removeEventListener(type, handler);\n        } else if (el.detachEvent) {\n            el.detachEvent(type, handler);\n        }\n    }\n};\n\nexport const trigger = (el, type, data) => {\n    const evt = new CustomEvent(type, data);\n    el.dispatchEvent(evt);\n};\n\nexport const prepareEvent = (evt) => {\n    evt.preventDefault();\n    return evt.type.match(/^touch/) ? evt.changedTouches : evt;\n};\n\nexport const getScroll = () => {\n    const x = (window.pageXOffset !== undefined) ?\n        window.pageXOffset :\n        (document.documentElement || document.body.parentNode || document.body)\n            .scrollLeft;\n\n    const y = (window.pageYOffset !== undefined) ?\n        window.pageYOffset :\n        (document.documentElement || document.body.parentNode || document.body)\n            .scrollTop;\n    return {\n        x: x,\n        y: y\n    };\n};\n\nexport const applyPosition = (el, pos) => {\n    if (pos.top || pos.right || pos.bottom || pos.left) {\n        el.style.top = pos.top;\n        el.style.right = pos.right;\n        el.style.bottom = pos.bottom;\n        el.style.left = pos.left;\n    } else {\n        el.style.left = pos.x + 'px';\n        el.style.top = pos.y + 'px';\n    }\n};\n\nexport const getTransitionStyle = (property, values, time) => {\n    const obj = configStylePropertyObject(property);\n    for (let i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            if (typeof values === 'string') {\n                obj[i] = values + ' ' + time;\n            } else {\n                let st = '';\n                for (let j = 0, max = values.length; j < max; j += 1) {\n                    st += values[j] + ' ' + time + ', ';\n                }\n                obj[i] = st.slice(0, -2);\n            }\n        }\n    }\n    return obj;\n};\n\nexport const getVendorStyle = (property, value) => {\n    const obj = configStylePropertyObject(property);\n    for (let i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            obj[i] = value;\n        }\n    }\n    return obj;\n};\n\nexport const configStylePropertyObject = (prop) => {\n    const obj = {};\n    obj[prop] = '';\n    const vendors = ['webkit', 'Moz', 'o'];\n    vendors.forEach(function (vendor) {\n        obj[vendor + prop.charAt(0).toUpperCase() + prop.slice(1)] = '';\n    });\n    return obj;\n};\n\nexport const extend = (objA, objB) => {\n    for (let i in objB) {\n        if (objB.hasOwnProperty(i)) {\n            objA[i] = objB[i];\n        }\n    }\n    return objA;\n};\n\n// Overwrite only what's already present\nexport const safeExtend = (objA, objB) => {\n    const obj = {};\n    for (let i in objA) {\n        if (objA.hasOwnProperty(i) && objB.hasOwnProperty(i)) {\n            obj[i] = objB[i];\n        } else if (objA.hasOwnProperty(i)) {\n            obj[i] = objA[i];\n        }\n    }\n    return obj;\n};\n\n// Map for array or unique item.\nexport const map = (ar, fn) => {\n    if (ar.length) {\n        for (let i = 0, max = ar.length; i < max; i += 1) {\n            fn(ar[i]);\n        }\n    } else {\n        fn(ar);\n    }\n};\n\n// Clamp position within the range\nexport const clamp = (pos, nipplePos, size) => ({\n    //                          left-clamping        right-clamping\n    x: Math.min(Math.max(pos.x, nipplePos.x - size), nipplePos.x + size),\n    //                          top-clamping         bottom-clamping\n    y: Math.min(Math.max(pos.y, nipplePos.y - size), nipplePos.y + size)\n});\n","///////////////////////\n///   SUPER CLASS   ///\n///////////////////////\nimport * as u from './utils';\n\n// Constants\nvar isTouch = !!('ontouchstart' in window);\nvar isPointer = window.PointerEvent ? true : false;\nvar isMSPointer = window.MSPointerEvent ? true : false;\nvar events = {\n    touch: {\n        start: 'touchstart',\n        move: 'touchmove',\n        end: 'touchend, touchcancel'\n    },\n    mouse: {\n        start: 'mousedown',\n        move: 'mousemove',\n        end: 'mouseup'\n    },\n    pointer: {\n        start: 'pointerdown',\n        move: 'pointermove',\n        end: 'pointerup, pointercancel'\n    },\n    MSPointer: {\n        start: 'MSPointerDown',\n        move: 'MSPointerMove',\n        end: 'MSPointerUp'\n    }\n};\nvar toBind;\nvar secondBind = {};\nif (isPointer) {\n    toBind = events.pointer;\n} else if (isMSPointer) {\n    toBind = events.MSPointer;\n} else if (isTouch) {\n    toBind = events.touch;\n    secondBind = events.mouse;\n} else {\n    toBind = events.mouse;\n}\n\nfunction Super () {}\n\n// Basic event system.\nSuper.prototype.on = function (arg, cb) {\n    var self = this;\n    var types = arg.split(/[ ,]+/g);\n    var type;\n    self._handlers_ = self._handlers_ || {};\n\n    for (var i = 0; i < types.length; i += 1) {\n        type = types[i];\n        self._handlers_[type] = self._handlers_[type] || [];\n        self._handlers_[type].push(cb);\n    }\n    return self;\n};\n\nSuper.prototype.off = function (type, cb) {\n    var self = this;\n    self._handlers_ = self._handlers_ || {};\n\n    if (type === undefined) {\n        self._handlers_ = {};\n    } else if (cb === undefined) {\n        self._handlers_[type] = null;\n    } else if (self._handlers_[type] &&\n            self._handlers_[type].indexOf(cb) >= 0) {\n        self._handlers_[type].splice(self._handlers_[type].indexOf(cb), 1);\n    }\n\n    return self;\n};\n\nSuper.prototype.trigger = function (arg, data) {\n    var self = this;\n    var types = arg.split(/[ ,]+/g);\n    var type;\n    self._handlers_ = self._handlers_ || {};\n\n    for (var i = 0; i < types.length; i += 1) {\n        type = types[i];\n        if (self._handlers_[type] && self._handlers_[type].length) {\n            self._handlers_[type].forEach(function (handler) {\n                handler.call(self, {\n                    type: type,\n                    target: self\n                }, data);\n            });\n        }\n    }\n};\n\n// Configuration\nSuper.prototype.config = function (options) {\n    var self = this;\n    self.options = self.defaults || {};\n    if (options) {\n        self.options = u.safeExtend(self.options, options);\n    }\n};\n\n// Bind internal events.\nSuper.prototype.bindEvt = function (el, type) {\n    var self = this;\n    self._domHandlers_ = self._domHandlers_ || {};\n\n    self._domHandlers_[type] = function () {\n        if (typeof self['on' + type] === 'function') {\n            self['on' + type].apply(self, arguments);\n        } else {\n            // eslint-disable-next-line no-console\n            console.warn('[WARNING] : Missing \"on' + type + '\" handler.');\n        }\n    };\n\n    u.bindEvt(el, toBind[type], self._domHandlers_[type]);\n\n    if (secondBind[type]) {\n        // Support for both touch and mouse at the same time.\n        u.bindEvt(el, secondBind[type], self._domHandlers_[type]);\n    }\n\n    return self;\n};\n\n// Unbind dom events.\nSuper.prototype.unbindEvt = function (el, type) {\n    var self = this;\n    self._domHandlers_ = self._domHandlers_ || {};\n\n    u.unbindEvt(el, toBind[type], self._domHandlers_[type]);\n\n    if (secondBind[type]) {\n        // Support for both touch and mouse at the same time.\n        u.unbindEvt(el, secondBind[type], self._domHandlers_[type]);\n    }\n\n    delete self._domHandlers_[type];\n\n    return this;\n};\n\nexport default Super;\n","import Super from './super';\nimport * as u from './utils';\n\n///////////////////////\n///   THE NIPPLE    ///\n///////////////////////\n\nfunction Nipple (collection, options) {\n    this.identifier = options.identifier;\n    this.position = options.position;\n    this.frontPosition = options.frontPosition;\n    this.collection = collection;\n\n    // Defaults\n    this.defaults = {\n        size: 100,\n        threshold: 0.1,\n        color: 'white',\n        fadeTime: 250,\n        dataOnly: false,\n        restJoystick: true,\n        restOpacity: 0.5,\n        mode: 'dynamic',\n        zone: document.body,\n        lockX: false,\n        lockY: false,\n        shape: 'circle'\n    };\n\n    this.config(options);\n\n    // Overwrites\n    if (this.options.mode === 'dynamic') {\n        this.options.restOpacity = 0;\n    }\n\n    this.id = Nipple.id;\n    Nipple.id += 1;\n    this.buildEl()\n        .stylize();\n\n    // Nipple's API.\n    this.instance = {\n        el: this.ui.el,\n        on: this.on.bind(this),\n        off: this.off.bind(this),\n        show: this.show.bind(this),\n        hide: this.hide.bind(this),\n        add: this.addToDom.bind(this),\n        remove: this.removeFromDom.bind(this),\n        destroy: this.destroy.bind(this),\n        setPosition:this.setPosition.bind(this),\n        resetDirection: this.resetDirection.bind(this),\n        computeDirection: this.computeDirection.bind(this),\n        trigger: this.trigger.bind(this),\n        position: this.position,\n        frontPosition: this.frontPosition,\n        ui: this.ui,\n        identifier: this.identifier,\n        id: this.id,\n        options: this.options\n    };\n\n    return this.instance;\n}\n\nNipple.prototype = new Super();\nNipple.constructor = Nipple;\nNipple.id = 0;\n\n// Build the dom element of the Nipple instance.\nNipple.prototype.buildEl = function (options) {\n    this.ui = {};\n\n    if (this.options.dataOnly) {\n        return this;\n    }\n\n    this.ui.el = document.createElement('div');\n    this.ui.back = document.createElement('div');\n    this.ui.front = document.createElement('div');\n\n    this.ui.el.className = 'nipple collection_' + this.collection.id;\n    this.ui.back.className = 'back';\n    this.ui.front.className = 'front';\n\n    this.ui.el.setAttribute('id', 'nipple_' + this.collection.id +\n        '_' + this.id);\n\n    this.ui.el.appendChild(this.ui.back);\n    this.ui.el.appendChild(this.ui.front);\n\n    return this;\n};\n\n// Apply CSS to the Nipple instance.\nNipple.prototype.stylize = function () {\n    if (this.options.dataOnly) {\n        return this;\n    }\n    var animTime = this.options.fadeTime + 'ms';\n    var borderStyle = u.getVendorStyle('borderRadius', '50%');\n    var transitStyle = u.getTransitionStyle('transition', 'opacity', animTime);\n    var styles = {};\n    styles.el = {\n        position: 'absolute',\n        opacity: this.options.restOpacity,\n        display: 'block',\n        'zIndex': 999\n    };\n\n    styles.back = {\n        position: 'absolute',\n        display: 'block',\n        width: this.options.size + 'px',\n        height: this.options.size + 'px',\n        left: 0,\n        marginLeft: -this.options.size / 2 + 'px',\n        marginTop: -this.options.size / 2 + 'px',\n        background: this.options.color,\n        'opacity': '.5'\n    };\n\n    styles.front = {\n        width: this.options.size / 2 + 'px',\n        height: this.options.size / 2 + 'px',\n        position: 'absolute',\n        display: 'block',\n        left: 0,\n        marginLeft: -this.options.size / 4 + 'px',\n        marginTop: -this.options.size / 4 + 'px',\n        background: this.options.color,\n        'opacity': '.5',\n        transform: 'translate(0px, 0px)'\n    };\n\n    u.extend(styles.el, transitStyle);\n    if(this.options.shape === 'circle'){\n        u.extend(styles.back, borderStyle);\n    }\n    u.extend(styles.front, borderStyle);\n\n    this.applyStyles(styles);\n\n    return this;\n};\n\nNipple.prototype.applyStyles = function (styles) {\n    // Apply styles\n    for (var i in this.ui) {\n        if (this.ui.hasOwnProperty(i)) {\n            for (var j in styles[i]) {\n                this.ui[i].style[j] = styles[i][j];\n            }\n        }\n    }\n\n    return this;\n};\n\n// Inject the Nipple instance into DOM.\nNipple.prototype.addToDom = function () {\n    // We're not adding it if we're dataOnly or already in dom.\n    if (this.options.dataOnly || document.body.contains(this.ui.el)) {\n        return this;\n    }\n    this.options.zone.appendChild(this.ui.el);\n    return this;\n};\n\n// Remove the Nipple instance from DOM.\nNipple.prototype.removeFromDom = function () {\n    if (this.options.dataOnly || !document.body.contains(this.ui.el)) {\n        return this;\n    }\n    this.options.zone.removeChild(this.ui.el);\n    return this;\n};\n\n// Entirely destroy this nipple\nNipple.prototype.destroy = function () {\n    clearTimeout(this.removeTimeout);\n    clearTimeout(this.showTimeout);\n    clearTimeout(this.restTimeout);\n    this.trigger('destroyed', this.instance);\n    this.removeFromDom();\n    this.off();\n};\n\n// Fade in the Nipple instance.\nNipple.prototype.show = function (cb) {\n    var self = this;\n\n    if (self.options.dataOnly) {\n        return self;\n    }\n\n    clearTimeout(self.removeTimeout);\n    clearTimeout(self.showTimeout);\n    clearTimeout(self.restTimeout);\n\n    self.addToDom();\n\n    self.restCallback();\n\n    setTimeout(function () {\n        self.ui.el.style.opacity = 1;\n    }, 0);\n\n    self.showTimeout = setTimeout(function () {\n        self.trigger('shown', self.instance);\n        if (typeof cb === 'function') {\n            cb.call(this);\n        }\n    }, self.options.fadeTime);\n\n    return self;\n};\n\n// Fade out the Nipple instance.\nNipple.prototype.hide = function (cb) {\n    var self = this;\n\n    if (self.options.dataOnly) {\n        return self;\n    }\n\n    self.ui.el.style.opacity = self.options.restOpacity;\n\n    clearTimeout(self.removeTimeout);\n    clearTimeout(self.showTimeout);\n    clearTimeout(self.restTimeout);\n\n    self.removeTimeout = setTimeout(\n        function () {\n            var display = self.options.mode === 'dynamic' ? 'none' : 'block';\n            self.ui.el.style.display = display;\n            if (typeof cb === 'function') {\n                cb.call(self);\n            }\n\n            self.trigger('hidden', self.instance);\n        },\n        self.options.fadeTime\n    );\n\n    if (self.options.restJoystick) {\n        const rest = self.options.restJoystick;\n        const newPosition = {};\n\n        newPosition.x = rest === true || rest.x !== false ? 0 : self.instance.frontPosition.x;\n        newPosition.y = rest === true || rest.y !== false ? 0 : self.instance.frontPosition.y;\n\n        self.setPosition(cb, newPosition);\n    }\n\n    return self;\n};\n\n// Set the nipple to the specified position\nNipple.prototype.setPosition = function (cb, position) {\n    var self = this;\n    self.frontPosition = {\n        x: position.x,\n        y: position.y\n    };\n    var animTime = self.options.fadeTime + 'ms';\n\n    var transitStyle = {};\n    transitStyle.front = u.getTransitionStyle('transition',\n        ['transform'], animTime);\n\n    var styles = {front: {}};\n    styles.front = {\n        transform: 'translate(' + self.frontPosition.x + 'px,' + self.frontPosition.y + 'px)'\n    };\n\n    self.applyStyles(transitStyle);\n    self.applyStyles(styles);\n\n    self.restTimeout = setTimeout(\n        function () {\n            if (typeof cb === 'function') {\n                cb.call(self);\n            }\n            self.restCallback();\n        },\n        self.options.fadeTime\n    );\n};\n\nNipple.prototype.restCallback = function () {\n    var self = this;\n    var transitStyle = {};\n    transitStyle.front = u.getTransitionStyle('transition', 'none', '');\n    self.applyStyles(transitStyle);\n    self.trigger('rested', self.instance);\n};\n\nNipple.prototype.resetDirection = function () {\n    // Fully rebuild the object to let the iteration possible.\n    this.direction = {\n        x: false,\n        y: false,\n        angle: false\n    };\n};\n\nNipple.prototype.computeDirection = function (obj) {\n    var rAngle = obj.angle.radian;\n    var angle45 = Math.PI / 4;\n    var angle90 = Math.PI / 2;\n    var direction, directionX, directionY;\n\n    // Angular direction\n    //     \\  UP /\n    //      \\   /\n    // LEFT       RIGHT\n    //      /   \\\n    //     /DOWN \\\n    //\n    if (\n        rAngle > angle45 &&\n        rAngle < (angle45 * 3) &&\n        !obj.lockX\n    ) {\n        direction = 'up';\n    } else if (\n        rAngle > -angle45 &&\n        rAngle <= angle45 &&\n        !obj.lockY\n    ) {\n        direction = 'left';\n    } else if (\n        rAngle > (-angle45 * 3) &&\n        rAngle <= -angle45 &&\n        !obj.lockX\n    ) {\n        direction = 'down';\n    } else if (!obj.lockY) {\n        direction = 'right';\n    }\n\n    // Plain direction\n    //    UP                 |\n    // _______               | RIGHT\n    //                  LEFT |\n    //   DOWN                |\n    if (!obj.lockY) {\n        if (rAngle > -angle90 && rAngle < angle90) {\n            directionX = 'left';\n        } else {\n            directionX = 'right';\n        }\n    }\n\n    if (!obj.lockX) {\n        if (rAngle > 0) {\n            directionY = 'up';\n        } else {\n            directionY = 'down';\n        }\n    }\n\n    if (obj.force > this.options.threshold) {\n        var oldDirection = {};\n        var i;\n        for (i in this.direction) {\n            if (this.direction.hasOwnProperty(i)) {\n                oldDirection[i] = this.direction[i];\n            }\n        }\n\n        var same = {};\n\n        this.direction = {\n            x: directionX,\n            y: directionY,\n            angle: direction\n        };\n\n        obj.direction = this.direction;\n\n        for (i in oldDirection) {\n            if (oldDirection[i] === this.direction[i]) {\n                same[i] = true;\n            }\n        }\n\n        // If all 3 directions are the same, we don't trigger anything.\n        if (same.x && same.y && same.angle) {\n            return obj;\n        }\n\n        if (!same.x || !same.y) {\n            this.trigger('plain', obj);\n        }\n\n        if (!same.x) {\n            this.trigger('plain:' + directionX, obj);\n        }\n\n        if (!same.y) {\n            this.trigger('plain:' + directionY, obj);\n        }\n\n        if (!same.angle) {\n            this.trigger('dir dir:' + direction, obj);\n        }\n    } else {\n        this.resetDirection();\n    }\n\n    return obj;\n};\n\nexport default Nipple;\n","import Nipple from './nipple';\nimport Super from './super';\nimport * as u from './utils';\n\n///////////////////////////\n///   THE COLLECTION    ///\n///////////////////////////\n\nfunction Collection (manager, options) {\n    var self = this;\n    self.nipples = [];\n    self.idles = [];\n    self.actives = [];\n    self.ids = [];\n    self.pressureIntervals = {};\n    self.manager = manager;\n    self.id = Collection.id;\n    Collection.id += 1;\n\n    // Defaults\n    self.defaults = {\n        zone: document.body,\n        multitouch: false,\n        maxNumberOfNipples: 10,\n        mode: 'dynamic',\n        position: {top: 0, left: 0},\n        catchDistance: 200,\n        size: 100,\n        threshold: 0.1,\n        color: 'white',\n        fadeTime: 250,\n        dataOnly: false,\n        restJoystick: true,\n        restOpacity: 0.5,\n        lockX: false,\n        lockY: false,\n        shape: 'circle',\n        dynamicPage: false,\n        follow: false\n    };\n\n    self.config(options);\n\n    // Overwrites\n    if (self.options.mode === 'static' || self.options.mode === 'semi') {\n        self.options.multitouch = false;\n    }\n\n    if (!self.options.multitouch) {\n        self.options.maxNumberOfNipples = 1;\n    }\n    const computedStyle = getComputedStyle(self.options.zone.parentElement);\n    if (computedStyle && computedStyle.display === 'flex') {\n        self.parentIsFlex = true;\n    }\n\n    self.updateBox();\n    self.prepareNipples();\n    self.bindings();\n    self.begin();\n\n    return self.nipples;\n}\n\nCollection.prototype = new Super();\nCollection.constructor = Collection;\nCollection.id = 0;\n\nCollection.prototype.prepareNipples = function () {\n    var self = this;\n    var nips = self.nipples;\n\n    // Public API Preparation.\n    nips.on = self.on.bind(self);\n    nips.off = self.off.bind(self);\n    nips.options = self.options;\n    nips.destroy = self.destroy.bind(self);\n    nips.ids = self.ids;\n    nips.id = self.id;\n    nips.processOnMove = self.processOnMove.bind(self);\n    nips.processOnEnd = self.processOnEnd.bind(self);\n    nips.get = function (id) {\n        if (id === undefined) {\n            return nips[0];\n        }\n        for (var i = 0, max = nips.length; i < max; i += 1) {\n            if (nips[i].identifier === id) {\n                return nips[i];\n            }\n        }\n        return false;\n    };\n};\n\nCollection.prototype.bindings = function () {\n    var self = this;\n    // Touch start event.\n    self.bindEvt(self.options.zone, 'start');\n    // Avoid native touch actions (scroll, zoom etc...) on the zone.\n    self.options.zone.style.touchAction = 'none';\n    self.options.zone.style.msTouchAction = 'none';\n};\n\nCollection.prototype.begin = function () {\n    var self = this;\n    var opts = self.options;\n\n    // We place our static nipple\n    // if needed.\n    if (opts.mode === 'static') {\n        var nipple = self.createNipple(\n            opts.position,\n            self.manager.getIdentifier()\n        );\n        // Add it to the dom.\n        nipple.add();\n        // Store it in idles.\n        self.idles.push(nipple);\n    }\n};\n\n// Nipple Factory\nCollection.prototype.createNipple = function (position, identifier) {\n    var self = this;\n    var scroll = self.manager.scroll;\n    var toPutOn = {};\n    var opts = self.options;\n    var offset = {\n        x: self.parentIsFlex ? scroll.x : (scroll.x + self.box.left),\n        y: self.parentIsFlex ? scroll.y : (scroll.y + self.box.top)\n    };\n\n    if (position.x && position.y) {\n        toPutOn = {\n            x: position.x - offset.x,\n            y: position.y - offset.y\n        };\n    } else if (\n        position.top ||\n        position.right ||\n        position.bottom ||\n        position.left\n    ) {\n\n        // We need to compute the position X / Y of the joystick.\n        var dumb = document.createElement('DIV');\n        dumb.style.display = 'hidden';\n        dumb.style.top = position.top;\n        dumb.style.right = position.right;\n        dumb.style.bottom = position.bottom;\n        dumb.style.left = position.left;\n        dumb.style.position = 'absolute';\n\n        opts.zone.appendChild(dumb);\n        var dumbBox = dumb.getBoundingClientRect();\n        opts.zone.removeChild(dumb);\n\n        toPutOn = position;\n        position = {\n            x: dumbBox.left + scroll.x,\n            y: dumbBox.top + scroll.y\n        };\n    }\n\n    var nipple = new Nipple(self, {\n        color: opts.color,\n        size: opts.size,\n        threshold: opts.threshold,\n        fadeTime: opts.fadeTime,\n        dataOnly: opts.dataOnly,\n        restJoystick: opts.restJoystick,\n        restOpacity: opts.restOpacity,\n        mode: opts.mode,\n        identifier: identifier,\n        position: position,\n        zone: opts.zone,\n        frontPosition: {\n            x: 0,\n            y: 0\n        },\n        shape: opts.shape\n    });\n\n    if (!opts.dataOnly) {\n        u.applyPosition(nipple.ui.el, toPutOn);\n        u.applyPosition(nipple.ui.front, nipple.frontPosition);\n    }\n    self.nipples.push(nipple);\n    self.trigger('added ' + nipple.identifier + ':added', nipple);\n    self.manager.trigger('added ' + nipple.identifier + ':added', nipple);\n\n    self.bindNipple(nipple);\n\n    return nipple;\n};\n\nCollection.prototype.updateBox = function () {\n    var self = this;\n    self.box = self.options.zone.getBoundingClientRect();\n};\n\nCollection.prototype.bindNipple = function (nipple) {\n    var self = this;\n    var type;\n    // Bubble up identified events.\n    var handler = function (evt, data) {\n        // Identify the event type with the nipple's id.\n        type = evt.type + ' ' + data.id + ':' + evt.type;\n        self.trigger(type, data);\n    };\n\n    // When it gets destroyed.\n    nipple.on('destroyed', self.onDestroyed.bind(self));\n\n    // Other events that will get bubbled up.\n    nipple.on('shown hidden rested dir plain', handler);\n    nipple.on('dir:up dir:right dir:down dir:left', handler);\n    nipple.on('plain:up plain:right plain:down plain:left', handler);\n};\n\nCollection.prototype.pressureFn = function (touch, nipple, identifier) {\n    var self = this;\n    var previousPressure = 0;\n    clearInterval(self.pressureIntervals[identifier]);\n    // Create an interval that will read the pressure every 100ms\n    self.pressureIntervals[identifier] = setInterval(function () {\n        var pressure = touch.force || touch.pressure ||\n            touch.webkitForce || 0;\n        if (pressure !== previousPressure) {\n            nipple.trigger('pressure', pressure);\n            self.trigger('pressure ' +\n                nipple.identifier + ':pressure', pressure);\n            previousPressure = pressure;\n        }\n    }.bind(self), 100);\n};\n\nCollection.prototype.onstart = function (evt) {\n    var self = this;\n    var opts = self.options;\n    var origEvt = evt;\n    evt = u.prepareEvent(evt);\n\n    // Update the box position\n    self.updateBox();\n\n    var process = function (touch) {\n        // If we can create new nipples\n        // meaning we don't have more active nipples than we should.\n        if (self.actives.length < opts.maxNumberOfNipples) {\n            self.processOnStart(touch);\n        }\n        else if(origEvt.type.match(/^touch/)){\n            // zombies occur when end event is not received on Safari\n            // first touch removed before second touch, we need to catch up...\n            // so remove where touches in manager that no longer exist\n            Object.keys(self.manager.ids).forEach(function(k){\n                if(Object.values(origEvt.touches).findIndex(function(t){return t.identifier===k;}) < 0){\n                    // manager has id that doesn't exist in touches\n                    var e = [evt[0]];\n                    e.identifier = k;\n                    self.processOnEnd(e);\n                }\n            });\n            if(self.actives.length < opts.maxNumberOfNipples){\n                self.processOnStart(touch);\n            }\n        }\n    };\n\n    u.map(evt, process);\n\n    // We ask upstream to bind the document\n    // on 'move' and 'end'\n    self.manager.bindDocument();\n    return false;\n};\n\nCollection.prototype.processOnStart = function (evt) {\n    var self = this;\n    var opts = self.options;\n    var indexInIdles;\n    var identifier = self.manager.getIdentifier(evt);\n    var pressure = evt.force || evt.pressure || evt.webkitForce || 0;\n    var position = {\n        x: evt.pageX,\n        y: evt.pageY\n    };\n\n    var nipple = self.getOrCreate(identifier, position);\n\n    // Update its touch identifier\n    if (nipple.identifier !== identifier) {\n        self.manager.removeIdentifier(nipple.identifier);\n    }\n    nipple.identifier = identifier;\n\n    var process = function (nip) {\n        // Trigger the start.\n        nip.trigger('start', nip);\n        self.trigger('start ' + nip.id + ':start', nip);\n\n        nip.show();\n        if (pressure > 0) {\n            self.pressureFn(evt, nip, nip.identifier);\n        }\n        // Trigger the first move event.\n        self.processOnMove(evt);\n    };\n\n    // Transfer it from idles to actives.\n    if ((indexInIdles = self.idles.indexOf(nipple)) >= 0) {\n        self.idles.splice(indexInIdles, 1);\n    }\n\n    // Store the nipple in the actives array\n    self.actives.push(nipple);\n    self.ids.push(nipple.identifier);\n\n    if (opts.mode !== 'semi') {\n        process(nipple);\n    } else {\n        // In semi we check the distance of the touch\n        // to decide if we have to reset the nipple\n        var distance = u.distance(position, nipple.position);\n        if (distance <= opts.catchDistance) {\n            process(nipple);\n        } else {\n            nipple.destroy();\n            self.processOnStart(evt);\n            return;\n        }\n    }\n\n    return nipple;\n};\n\nCollection.prototype.getOrCreate = function (identifier, position) {\n    var self = this;\n    var opts = self.options;\n    var nipple;\n\n    // If we're in static or semi, we might already have an active.\n    if (/(semi|static)/.test(opts.mode)) {\n        // Get the active one.\n        // TODO: Multi-touche for semi and static will start here.\n        // Return the nearest one.\n        nipple = self.idles[0];\n        if (nipple) {\n            self.idles.splice(0, 1);\n            return nipple;\n        }\n\n        if (opts.mode === 'semi') {\n            // If we're in semi mode, we need to create one.\n            return self.createNipple(position, identifier);\n        }\n\n        // eslint-disable-next-line no-console\n        console.warn('Coudln\\'t find the needed nipple.');\n        return false;\n    }\n    // In dynamic, we create a new one.\n    nipple = self.createNipple(position, identifier);\n    return nipple;\n};\n\nCollection.prototype.processOnMove = function (evt) {\n    var self = this;\n    var opts = self.options;\n    var identifier = self.manager.getIdentifier(evt);\n    var nipple = self.nipples.get(identifier);\n    var scroll = self.manager.scroll;\n\n    // If we're moving without pressing\n    // it's that we went out the active zone\n    if (!u.isPressed(evt)) {\n        this.processOnEnd(evt);\n        return;\n    }\n\n    if (!nipple) {\n        // This is here just for safety.\n        // It shouldn't happen.\n        // eslint-disable-next-line no-console\n        console.error('Found zombie joystick with ID ' + identifier);\n        self.manager.removeIdentifier(identifier);\n        return;\n    }\n\n    if (opts.dynamicPage) {\n        var elBox = nipple.el.getBoundingClientRect();\n        nipple.position = {\n            x: scroll.x + elBox.left,\n            y: scroll.y + elBox.top\n        };\n    }\n\n    nipple.identifier = identifier;\n\n    var size = nipple.options.size / 2;\n    var pos = {\n        x: evt.pageX,\n        y: evt.pageY\n    };\n\n    if (opts.lockX){\n        pos.y = nipple.position.y;\n    }\n    if (opts.lockY) {\n        pos.x = nipple.position.x;\n    }\n\n    var dist = u.distance(pos, nipple.position);\n    var angle = u.angle(pos, nipple.position);\n    var rAngle = u.radians(angle);\n    var force = dist / size;\n\n    var raw = {\n        distance: dist,\n        position: pos\n    };\n\n    // Clamp the position\n    var clamped_dist;\n    var clamped_pos;\n    if (nipple.options.shape === 'circle') {\n        // Clamp to a circle\n        clamped_dist = Math.min(dist, size);\n        clamped_pos = u.findCoord(nipple.position, clamped_dist, angle);\n    } else {\n        // Clamp to a square\n        clamped_pos = u.clamp(pos, nipple.position, size);\n        clamped_dist = u.distance(clamped_pos, nipple.position);\n    }\n\n    if (opts.follow) {\n        // follow behaviour\n        if (dist > size) {\n            let delta_x = pos.x - clamped_pos.x;\n            let delta_y = pos.y - clamped_pos.y;\n            nipple.position.x += delta_x;\n            nipple.position.y += delta_y;\n            nipple.el.style.top = (nipple.position.y - (self.box.top + scroll.y)) + 'px';\n            nipple.el.style.left = (nipple.position.x - (self.box.left + scroll.x)) + 'px';\n\n            dist = u.distance(pos, nipple.position);\n        }\n    } else {\n        // clamp behaviour\n        pos = clamped_pos;\n        dist = clamped_dist;\n    }\n\n    var xPosition = pos.x - nipple.position.x;\n    var yPosition = pos.y - nipple.position.y;\n\n    nipple.frontPosition = {\n        x: xPosition,\n        y: yPosition\n    };\n\n    if (!opts.dataOnly) {\n        nipple.ui.front.style.transform = 'translate(' + xPosition + 'px,' + yPosition + 'px)';\n    }\n\n    // Prepare event's datas.\n    var toSend = {\n        identifier: nipple.identifier,\n        position: pos,\n        force: force,\n        pressure: evt.force || evt.pressure || evt.webkitForce || 0,\n        distance: dist,\n        angle: {\n            radian: rAngle,\n            degree: angle\n        },\n        vector: {\n            x: xPosition / size,\n            y: - yPosition / size\n        },\n        raw: raw,\n        instance: nipple,\n        lockX: opts.lockX,\n        lockY: opts.lockY\n    };\n\n    // Compute the direction's datas.\n    toSend = nipple.computeDirection(toSend);\n\n    // Offset angles to follow units circle.\n    toSend.angle = {\n        radian: u.radians(180 - angle),\n        degree: 180 - angle\n    };\n\n    // Send everything to everyone.\n    nipple.trigger('move', toSend);\n    self.trigger('move ' + nipple.id + ':move', toSend);\n};\n\nCollection.prototype.processOnEnd = function (evt) {\n    var self = this;\n    var opts = self.options;\n    var identifier = self.manager.getIdentifier(evt);\n    var nipple = self.nipples.get(identifier);\n    var removedIdentifier = self.manager.removeIdentifier(nipple.identifier);\n\n    if (!nipple) {\n        return;\n    }\n\n    if (!opts.dataOnly) {\n        nipple.hide(function () {\n            if (opts.mode === 'dynamic') {\n                nipple.trigger('removed', nipple);\n                self.trigger('removed ' + nipple.id + ':removed', nipple);\n                self.manager\n                    .trigger('removed ' + nipple.id + ':removed', nipple);\n                nipple.destroy();\n            }\n        });\n    }\n\n    // Clear the pressure interval reader\n    clearInterval(self.pressureIntervals[nipple.identifier]);\n\n    // Reset the direciton of the nipple, to be able to trigger a new direction\n    // on start.\n    nipple.resetDirection();\n\n    nipple.trigger('end', nipple);\n    self.trigger('end ' + nipple.id + ':end', nipple);\n\n    // Remove identifier from our bank.\n    if (self.ids.indexOf(nipple.identifier) >= 0) {\n        self.ids.splice(self.ids.indexOf(nipple.identifier), 1);\n    }\n\n    // Clean our actives array.\n    if (self.actives.indexOf(nipple) >= 0) {\n        self.actives.splice(self.actives.indexOf(nipple), 1);\n    }\n\n    if (/(semi|static)/.test(opts.mode)) {\n        // Transfer nipple from actives to idles\n        // if we're in semi or static mode.\n        self.idles.push(nipple);\n    } else if (self.nipples.indexOf(nipple) >= 0) {\n        // Only if we're not in semi or static mode\n        // we can remove the instance.\n        self.nipples.splice(self.nipples.indexOf(nipple), 1);\n    }\n\n    // We unbind move and end.\n    self.manager.unbindDocument();\n\n    // We add back the identifier of the idle nipple;\n    if (/(semi|static)/.test(opts.mode)) {\n        self.manager.ids[removedIdentifier.id] = removedIdentifier.identifier;\n    }\n};\n\n// Remove destroyed nipple from the lists\nCollection.prototype.onDestroyed = function(evt, nipple) {\n    var self = this;\n    if (self.nipples.indexOf(nipple) >= 0) {\n        self.nipples.splice(self.nipples.indexOf(nipple), 1);\n    }\n    if (self.actives.indexOf(nipple) >= 0) {\n        self.actives.splice(self.actives.indexOf(nipple), 1);\n    }\n    if (self.idles.indexOf(nipple) >= 0) {\n        self.idles.splice(self.idles.indexOf(nipple), 1);\n    }\n    if (self.ids.indexOf(nipple.identifier) >= 0) {\n        self.ids.splice(self.ids.indexOf(nipple.identifier), 1);\n    }\n\n    // Remove the identifier from our bank\n    self.manager.removeIdentifier(nipple.identifier);\n\n    // We unbind move and end.\n    self.manager.unbindDocument();\n};\n\n// Cleanly destroy the manager\nCollection.prototype.destroy = function () {\n    var self = this;\n    self.unbindEvt(self.options.zone, 'start');\n\n    // Destroy nipples.\n    self.nipples.forEach(function(nipple) {\n        nipple.destroy();\n    });\n\n    // Clean 3DTouch intervals.\n    for (var i in self.pressureIntervals) {\n        if (self.pressureIntervals.hasOwnProperty(i)) {\n            clearInterval(self.pressureIntervals[i]);\n        }\n    }\n\n    // Notify the manager passing the instance\n    self.trigger('destroyed', self.nipples);\n    // We unbind move and end.\n    self.manager.unbindDocument();\n    // Unbind everything.\n    self.off();\n};\n\nexport default Collection;\n","import Collection from './collection';\nimport Super from './super';\nimport * as u from './utils';\n\n///////////////////////\n///     MANAGER     ///\n///////////////////////\n\nfunction Manager (options) {\n    var self = this;\n    self.ids = {};\n    self.index = 0;\n    self.collections = [];\n    self.scroll = u.getScroll();\n\n    self.config(options);\n    self.prepareCollections();\n\n    // Listen for resize, to reposition every joysticks\n    var resizeHandler = function () {\n        var pos;\n        self.collections.forEach(function (collection) {\n            collection.forEach(function (nipple) {\n                pos = nipple.el.getBoundingClientRect();\n                nipple.position = {\n                    x: self.scroll.x + pos.left,\n                    y: self.scroll.y + pos.top\n                };\n            });\n        });\n    };\n    u.bindEvt(window, 'resize', function () {\n        u.throttle(resizeHandler);\n    });\n\n    // Listen for scrolls, so we have a global scroll value\n    // without having to request it all the time.\n    var scrollHandler = function () {\n        self.scroll = u.getScroll();\n    };\n    u.bindEvt(window, 'scroll', function () {\n        u.throttle(scrollHandler);\n    });\n\n    return self.collections;\n}\n\nManager.prototype = new Super();\nManager.constructor = Manager;\n\nManager.prototype.prepareCollections = function () {\n    var self = this;\n    // Public API Preparation.\n    self.collections.create = self.create.bind(self);\n    // Listen to anything\n    self.collections.on = self.on.bind(self);\n    // Unbind general events\n    self.collections.off = self.off.bind(self);\n    // Destroy everything\n    self.collections.destroy = self.destroy.bind(self);\n    // Get any nipple\n    self.collections.get = function (id) {\n        var nipple;\n        // Use .every() to break the loop as soon as found.\n        self.collections.every(function (collection) {\n            nipple = collection.get(id);\n            return nipple ? false : true;\n        });\n        return nipple;\n    };\n};\n\nManager.prototype.create = function (options) {\n    return this.createCollection(options);\n};\n\n// Collection Factory\nManager.prototype.createCollection = function (options) {\n    var self = this;\n    var collection = new Collection(self, options);\n\n    self.bindCollection(collection);\n    self.collections.push(collection);\n\n    return collection;\n};\n\nManager.prototype.bindCollection = function (collection) {\n    var self = this;\n    var type;\n    // Bubble up identified events.\n    var handler = function (evt, data) {\n        // Identify the event type with the nipple's identifier.\n        type = evt.type + ' ' + data.id + ':' + evt.type;\n        self.trigger(type, data);\n    };\n\n    // When it gets destroyed we clean.\n    collection.on('destroyed', self.onDestroyed.bind(self));\n\n    // Other events that will get bubbled up.\n    collection.on('shown hidden rested dir plain', handler);\n    collection.on('dir:up dir:right dir:down dir:left', handler);\n    collection.on('plain:up plain:right plain:down plain:left', handler);\n};\n\nManager.prototype.bindDocument = function () {\n    var self = this;\n    // Bind only if not already binded\n    if (!self.binded) {\n        self.bindEvt(document, 'move')\n            .bindEvt(document, 'end');\n        self.binded = true;\n    }\n};\n\nManager.prototype.unbindDocument = function (force) {\n    var self = this;\n    // If there are no touch left\n    // unbind the document.\n    if (!Object.keys(self.ids).length || force === true) {\n        self.unbindEvt(document, 'move')\n            .unbindEvt(document, 'end');\n        self.binded = false;\n    }\n};\n\nManager.prototype.getIdentifier = function (evt) {\n    var id;\n    // If no event, simple increment\n    if (!evt) {\n        id = this.index;\n    } else {\n        // Extract identifier from event object.\n        // Unavailable in mouse events so replaced by latest increment.\n        id = evt.identifier === undefined ? evt.pointerId : evt.identifier;\n        if (id === undefined) {\n            id = this.latest || 0;\n        }\n    }\n\n    if (this.ids[id] === undefined) {\n        this.ids[id] = this.index;\n        this.index += 1;\n    }\n\n    // Keep the latest id used in case we're using an unidentified mouseEvent\n    this.latest = id;\n    return this.ids[id];\n};\n\nManager.prototype.removeIdentifier = function (identifier) {\n    var removed = {};\n    for (var id in this.ids) {\n        if (this.ids[id] === identifier) {\n            removed.id = id;\n            removed.identifier = this.ids[id];\n            delete this.ids[id];\n            break;\n        }\n    }\n    return removed;\n};\n\nManager.prototype.onmove = function (evt) {\n    var self = this;\n    self.onAny('move', evt);\n    return false;\n};\n\nManager.prototype.onend = function (evt) {\n    var self = this;\n    self.onAny('end', evt);\n    return false;\n};\n\nManager.prototype.oncancel = function (evt) {\n    var self = this;\n    self.onAny('end', evt);\n    return false;\n};\n\nManager.prototype.onAny = function (which, evt) {\n    var self = this;\n    var id;\n    var processFn = 'processOn' + which.charAt(0).toUpperCase() +\n        which.slice(1);\n    evt = u.prepareEvent(evt);\n    var processColl = function (e, id, coll) {\n        if (coll.ids.indexOf(id) >= 0) {\n            coll[processFn](e);\n            // Mark the event to avoid cleaning it later.\n            e._found_ = true;\n        }\n    };\n    var processEvt = function (e) {\n        id = self.getIdentifier(e);\n        u.map(self.collections, processColl.bind(null, e, id));\n        // If the event isn't handled by any collection,\n        // we need to clean its identifier.\n        if (!e._found_) {\n            self.removeIdentifier(id);\n        }\n    };\n\n    u.map(evt, processEvt);\n\n    return false;\n};\n\n// Cleanly destroy the manager\nManager.prototype.destroy = function () {\n    var self = this;\n    self.unbindDocument(true);\n    self.ids = {};\n    self.index = 0;\n    self.collections.forEach(function(collection) {\n        collection.destroy();\n    });\n    self.off();\n};\n\n// When a collection gets destroyed\n// we clean behind.\nManager.prototype.onDestroyed = function (evt, coll) {\n    var self = this;\n    if (self.collections.indexOf(coll) < 0) {\n        return false;\n    }\n    self.collections.splice(self.collections.indexOf(coll), 1);\n};\n\nexport default Manager;\n","import Manager from './manager';\n\nconst factory = new Manager();\nexport default {\n    create: function (options) {\n        return factory.create(options);\n    },\n    factory: factory\n};\n","import { Layers } from \"../dom/layers\";\nimport { createButton } from \"./button\";\nimport { createDiv, stopPropagation } from \"../dom/helpers\";\n\nexport function options(layers: Layers,\n                        layersNames: string[],\n                        onLayerChange: (layer: string) => void,\n                        size: number,\n                        top: number,\n                        right: number) {\n    const ident = Math.round(size / 4);\n\n    let controlsVisbile = false;\n    const keyboardVisible = false;\n\n    const updateVisibility = () => {\n        const display = controlsVisbile ? \"flex\" : \"none\";\n        for (const next of children) {\n            if (next == options) {\n                continue;\n            }\n\n            next.style.display = display;\n        }\n    };\n\n    const toggleOptions = () => {\n        controlsVisbile = !controlsVisbile;\n\n        if (!controlsVisbile && keyboardVisible) {\n            layers.toggleKeyboard();\n        }\n\n        updateVisibility();\n    };\n\n    const children: HTMLElement[] = [\n        createSelectForLayers(layersNames, onLayerChange),\n        createButton(\"keyboard\", {\n            onClick: () => {\n                layers.toggleKeyboard();\n\n                if (controlsVisbile && !keyboardVisible) {\n                    controlsVisbile = false;\n                    updateVisibility();\n                }\n            },\n        }, size),\n        createButton(\"options\", {\n            onClick: toggleOptions,\n        }, size),\n    ];\n    const options = children[children.length - 1];\n\n    const container = createDiv(\"emulator-options\");\n    const intialDisplay = keyboardVisible ? \"flex\" : \"none\";\n    for (const next of children) {\n        if (next !== options) {\n            next.classList.add(\"emulator-button-control\");\n        }\n        next.style.marginRight = ident + \"px\";\n        next.style.marginBottom = ident + \"px\";\n        if (next !== options) {\n            next.style.display = intialDisplay;\n        }\n        container.appendChild(next);\n    }\n\n    container.style.position = \"absolute\";\n    container.style.right = right + \"px\";\n    container.style.top = top + \"px\";\n\n    layers.mouseOverlay.appendChild(container);\n\n    return () => {\n        layers.mouseOverlay.removeChild(container);\n    };\n}\n\nfunction createSelectForLayers(layers: string[], onChange: (layer: string) => void) {\n    if (layers.length <= 1) {\n        return document.createElement(\"div\");\n    }\n\n    const select = document.createElement(\"select\");\n    select.classList.add(\"emulator-control-select\");\n\n\n    for (const next of layers) {\n        const option = document.createElement(\"option\");\n        option.value = next;\n        option.innerHTML = next;\n        select.appendChild(option);\n    }\n\n    select.onchange = (e: any) => {\n        const layer = e.target.value;\n        onChange(layer);\n    };\n\n    stopPropagation(select, false);\n\n    return select;\n}\n\n","import { CommandInterface } from \"emulators\";\nimport { Layers } from \"../dom/layers\";\n\nexport type Mapper = {[keyCode: number]: number};\n\nexport function keyboard(layers: Layers,\n                         ci: CommandInterface,\n                         mapperOpt?: Mapper) {\n    const mapper = mapperOpt || {};\n    function map(keyCode: number) {\n        if (mapper[keyCode] !== undefined) {\n            return mapper[keyCode];\n        }\n\n        return keyCode;\n    }\n\n    layers.setOnKeyDown((keyCode: number) => {\n        ci.sendKeyEvent(map(keyCode), true);\n    });\n    layers.setOnKeyUp((keyCode: number) => {\n        ci.sendKeyEvent(map(keyCode), false);\n    });\n    layers.setOnKeyPress((keyCode: number) => {\n        ci.simulateKeyPress(map(keyCode));\n    });\n    layers.setOnKeysPress((keyCodes: number[]) => {\n        ci.simulateKeyPress(...keyCodes);\n    });\n\n    return () => {\n        // eslint-disable-next-line\n        layers.setOnKeyDown((keyCode: number) => { /**/ });\n        // eslint-disable-next-line\n        layers.setOnKeyUp((keyCode: number) => { /**/ });\n        // eslint-disable-next-line\n        layers.setOnKeyPress((keyCode: number) => { /**/ });\n        // eslint-disable-next-line\n        layers.setOnKeysPress((keyCodes: number[]) => { /**/ });\n    };\n}\n","import { LegacyLayersConfig } from \"./layers-config\";\nimport { Layers } from \"../dom/layers\";\nimport { CommandInterface } from \"emulators\";\nimport { deprecatedButton } from \"./button\";\nimport { mouse } from \"./mouse/mouse-common\";\nimport { nipple } from \"./nipple\";\nimport { options } from \"./options\";\nimport { keyboard } from \"./keyboard\";\nimport { LayersInstance } from \"../instance\";\n\nexport function initLegacyLayersControl(\n    dosInstance: LayersInstance,\n    layers: Layers,\n    layersConfig: LegacyLayersConfig,\n    ci: CommandInterface) {\n    const layersNames = Object.keys(layersConfig);\n\n    const unbind = {\n        keyboard: () => {/**/},\n        mouse: () => {/**/},\n        gestures: () => {/**/},\n        buttons: () => {/**/},\n    };\n\n    const changeControlLayer = (layerName: string) => {\n        unbind.keyboard();\n        unbind.mouse();\n        unbind.gestures();\n        unbind.buttons();\n\n        unbind.keyboard = () => {/**/};\n        unbind.mouse = () => {/**/};\n        unbind.gestures = () => {/**/};\n        unbind.buttons = () => {/**/};\n\n        const layer = layersConfig[layerName];\n        if (layer === undefined) {\n            return;\n        }\n\n        unbind.keyboard = keyboard(layers, ci, layer.mapper);\n\n        if (layer.gestures !== undefined && layer.gestures.length > 0) {\n            unbind.gestures = nipple(layers, ci, layer.gestures);\n        } else {\n            unbind.mouse = mouse(dosInstance.autolock, dosInstance.sensitivity, layers, ci);\n        }\n\n        if (layer.buttons !== undefined && layer.buttons.length) {\n            unbind.buttons = deprecatedButton(layers, ci, layer.buttons, 54);\n        }\n    };\n\n\n    const unbindOptions =\n        (layers.options.optionControls?.length === 0) ?\n            () => {/**/} :\n            options(layers, layersNames, changeControlLayer, 54, 54 / 4, 0);\n\n    changeControlLayer(\"default\");\n\n    return () => {\n        unbind.gestures();\n        unbind.buttons();\n        unbind.mouse();\n        unbind.keyboard();\n        unbindOptions();\n    };\n}\n","import nipplejs from \"nipplejs\";\n\nimport { KBD_NONE } from \"../../window/dos/controls/keys\";\n\nimport { CommandInterface } from \"emulators\";\nimport { Layers } from \"../dom/layers\";\n\nexport type Event =\n    \"dir:up\" | \"dir:down\" | \"dir:left\" | \"dir:right\" |\n    \"plain:up\" | \"plain:down\" | \"plain:left\" | \"plain:right\" |\n    \"end:release\" | \"tap\";\n\nexport interface EventMapping {\n    joystickId: 0 | 1,\n    event: Event,\n    mapTo: number,\n}\n\nexport function nipple(layers: Layers,\n                       ci: CommandInterface,\n                       mapping: EventMapping[]) {\n    const manager = nipplejs.create({\n        zone: layers.mouseOverlay,\n        multitouch: true,\n        maxNumberOfNipples: 2,\n    });\n\n    let pressed = -1;\n\n    const press = (keyCode: number) => {\n        layers.fireKeyDown(keyCode);\n        pressed = keyCode;\n    };\n\n    const release = () => {\n        if (pressed !== -1) {\n            layers.fireKeyUp(pressed);\n            pressed = -1;\n        }\n    };\n\n    const releaseOnEnd: {[index: number]: boolean} = {};\n    const tapJoysticks: {[index: number]: number} = {};\n    const usedTimes: {[index: number]: number} = {\n    };\n    for (const next of mapping) {\n        if (next.event === \"end:release\") {\n            releaseOnEnd[next.joystickId] = true;\n        } else if (next.mapTo !== KBD_NONE) {\n            if (next.event === \"tap\") {\n                tapJoysticks[next.joystickId] = next.mapTo;\n            } else {\n                manager.on(next.event, () => {\n                    usedTimes[next.joystickId] = Date.now();\n                    release();\n                    press(next.mapTo);\n                });\n            }\n        }\n    }\n\n    const startTimes: {[index: number]: number} = {};\n    manager.on(\"start\", () => {\n        const id = manager.ids.length - 1;\n        startTimes[id] = Date.now();\n    });\n\n    manager.on(\"end\", () => {\n        const id = manager.ids.length - 1;\n        const delay = Date.now() - startTimes[id];\n\n        if (releaseOnEnd[id] === true) {\n            release();\n        }\n\n        if (tapJoysticks[id] && delay < 500 && usedTimes[id] < startTimes[id]) {\n            layers.fireKeyPress(tapJoysticks[id]);\n        }\n    });\n\n    return () => manager.destroy();\n}\n\n","export type GridType = \"square\" | \"honeycomb\";\n\nexport interface Cell {\n    centerX: number;\n    centerY: number;\n}\n\nexport interface GridConfiguration {\n    gridType: GridType,\n    cells: Cell[][];\n    columnWidth: number;\n    rowHeight: number;\n    columnsPadding: number;\n    rowsPadding: number;\n    width: number;\n    height: number;\n}\n\nexport interface Grid {\n    getConfiguration(width: number, height: number, scale?: number): GridConfiguration;\n}\n\nexport function getGrid(gridType: GridType) {\n    switch (gridType) {\n        case \"square\": return getSquareGrid();\n        case \"honeycomb\": return getHoneyCombGrid();\n    }\n\n    throw new Error(\"Unknown grid type \" + gridType);\n}\n\nfunction getSquareGrid(): Grid {\n    class SquareGrid implements Grid {\n        aspect = 200 / 320;\n\n        getConfiguration(width: number, height: number, scale = 1): GridConfiguration {\n            const cols = this.getCols();\n            const rows = this.getRows();\n            const middleCol = Math.floor(cols / 2);\n            const middleRow = Math.floor(rows / 2);\n            const columnsPadding = width * 5 / 100 / 2;\n            const rowsPadding = columnsPadding;\n            const columnWidth = (width - columnsPadding * 2) / cols * scale;\n            const rowHeight = (height - rowsPadding * 2) / rows * scale;\n            const size = Math.min(columnWidth, rowHeight);\n            const cells: Cell[][] = [];\n            for (let row = 0; row < rows; ++row) {\n                const cellRow: Cell[] = [];\n                for (let col = 0; col < cols; ++col) {\n                    cellRow.push({\n                        centerX: col < middleCol ?\n                            columnsPadding + size * (col + 1 / 2) :\n                            width - columnsPadding - size * ((cols - col - 1) + 1 / 2),\n                        centerY: row < middleRow ?\n                            rowsPadding + size * (row + 1 / 2) :\n                            height - rowsPadding - size * ((rows - row - 1) + 1 / 2),\n                    });\n                }\n                cells.push(cellRow);\n            }\n            return {\n                gridType: \"square\",\n                cells,\n                columnWidth: size,\n                rowHeight: size,\n                columnsPadding,\n                rowsPadding,\n                width,\n                height,\n            };\n        }\n\n        private getCols() {\n            return 10;\n        }\n\n        private getRows() {\n            return Math.floor(this.getCols() * this.aspect) + 1;\n        }\n    }\n\n    return new SquareGrid();\n}\n\nfunction getHoneyCombGrid(): Grid {\n    class SquareGrid implements Grid {\n        aspect = 200 / 320;\n\n        getConfiguration(width: number, height: number, scale = 1): GridConfiguration {\n            const cols = this.getCols();\n            const rows = this.getRows();\n            const middleCol = Math.floor(cols / 2);\n            const middleRow = Math.floor(rows / 2);\n            const columnsPadding = width * 5 / 100 / 2;\n            const rowsPadding = columnsPadding;\n            const columnWidth = (width - columnsPadding * 2) / cols * scale;\n            const rowHeight = (height - rowsPadding * 2) / rows * scale;\n            const size = Math.min(columnWidth, rowHeight);\n            const cells: Cell[][] = [];\n            for (let row = 0; row < rows; ++row) {\n                const cellRow: Cell[] = [];\n                const cellCols = row % 2 == 0 ? cols : cols - 1;\n                const padding = row % 2 == 0 ? 0 : size / 2;\n                for (let col = 0; col < cellCols; ++col) {\n                    cellRow.push({\n                        centerX: col < middleCol ?\n                            padding + columnsPadding + size * (col + 1 / 2):\n                            padding + width - columnsPadding - size * ((cols - col - 1) + 1/2),\n                        centerY: row < middleRow ?\n                            rowsPadding + size * (row + 1 / 2) :\n                            height - rowsPadding - size * ((rows - row - 1) + 1 / 2),\n                    });\n                }\n                cells.push(cellRow);\n            }\n            return {\n                gridType: \"honeycomb\",\n                cells,\n                columnWidth: size,\n                rowHeight: size,\n                columnsPadding,\n                rowsPadding,\n                width,\n                height,\n            };\n        }\n\n        getCols() {\n            return 10;\n        }\n\n        getRows() {\n            return Math.floor(this.getCols() * this.aspect) + 1;\n        }\n    }\n\n    return new SquareGrid();\n}\n","import { Layers } from \"../dom/layers\";\nimport { CommandInterface } from \"emulators\";\nimport {\n    LayersConfig, LayerConfig, LayerKeyControl,\n    LayerControl, LayerSwitchControl, LayerScreenMoveControl,\n    LayerPointerButtonControl, LayerPointerMoveControl, LayerPointerResetControl,\n    LayerPointerToggleControl, LayerNippleActivatorControl,\n} from \"./layers-config\";\nimport { Cell, getGrid, GridConfiguration } from \"./grid\";\nimport { createButton } from \"./button\";\nimport { keyboard } from \"./keyboard\";\nimport { mouse } from \"./mouse/mouse-common\";\nimport { options } from \"./options\";\nimport { pointer } from \"../../window/dos/controls/mouse/pointer\";\nimport { LayersInstance } from \"../instance\";\nimport nipplejs from \"nipplejs\";\n\nexport function initLayersControl(\n    layers: Layers,\n    layersConfig: LayersConfig,\n    ci: CommandInterface,\n    dosInstance: LayersInstance,\n    mirrored: boolean,\n    scale: number,\n    layerName?: string): () => void {\n    let selectedLayer = layersConfig.layers[0];\n    if (layerName !== undefined) {\n        for (const next of layersConfig.layers) {\n            if (next.title === layerName) {\n                selectedLayer = next;\n                break;\n            }\n        }\n    }\n    return initLayerConfig(selectedLayer, layers, ci, dosInstance, mirrored, scale);\n}\n\ninterface CellWithMeta extends Cell {\n    hidden?: boolean,\n}\n\ninterface Sensor {\n    activate: () => void;\n    deactivate: () => void;\n}\n\ninterface MirroredInfo {\n    leftStart: number;\n    leftEnd: number;\n    rightStart: number;\n    rightEnd: number;\n}\n\nclass ControlSensors {\n    sensors: { [key: string]: Sensor } = {};\n\n    activate(row: number, column: number) {\n        const sensor = this.sensors[column + \"_\" + row];\n        if (sensor !== undefined) {\n            sensor.activate();\n        }\n    }\n\n    deactivate(row: number, column: number) {\n        const sensor = this.sensors[column + \"_\" + row];\n        if (sensor !== undefined) {\n            sensor.deactivate();\n        }\n    }\n\n    register(row: number, column: number, sensor: Sensor) {\n        this.sensors[column + \"_\" + row] = sensor;\n    }\n}\n\ntype ControlFactory = (control: any,\n    layers: Layers,\n    ci: CommandInterface,\n    gridConfig: GridConfiguration,\n    sensors: ControlSensors,\n    dosInstance: LayersInstance) => () => void;\n\nconst factoryMapping: { [type: string]: ControlFactory } = {\n    Key: createKeyControl,\n    Options: createOptionsControl,\n    Keyboard: createKeyboardControl,\n    Switch: createSwitchControl,\n    ScreenMove: createScreenMoveControl,\n    PointerButton: createPointerButtonControl,\n    PointerMove: createPointerMoveControl,\n    PointerReset: createPointerResetControl,\n    PointerToggle: createPointerToggleControl,\n    NippleActivator: createNippleActivatorControl,\n};\n\nfunction initLayerConfig(layerConfig: LayerConfig,\n                         layers: Layers,\n                         ci: CommandInterface,\n                         dosInstance: LayersInstance,\n                         mirrored: boolean,\n                         scale: number): () => void {\n    const unbindKeyboard = keyboard(layers, ci);\n    const unbindMouse = mouse(dosInstance.autolock, dosInstance.sensitivity, layers, ci);\n\n    const unbindControls: (() => void)[] = [];\n    function rebuild(width: number, height: number) {\n        for (const next of unbindControls) {\n            next();\n        }\n        unbindControls.splice(0, unbindControls.length);\n\n        const grid = getGrid(layerConfig.grid);\n        const gridConfig = grid.getConfiguration(width, height, scale);\n        const sensors = new ControlSensors();\n\n        for (const next of layerConfig.controls) {\n            const { row, column, type } = next;\n            if (type === \"NippleActivator\") {\n                setHiddenAround(gridConfig, row, column);\n            }\n        }\n\n        let doOffsetColumnInRow = -1;\n        if (layers.options.optionControls?.length === 0) {\n            for (const next of layerConfig.controls) {\n                const { row, type } = next;\n                if (type === \"Options\") {\n                    doOffsetColumnInRow = row;\n                    break;\n                }\n            }\n        }\n\n        const mirroredInfo: { [row: number]: MirroredInfo } = {};\n        if (mirrored) {\n            for (const next of layerConfig.controls) {\n                const { row } = next;\n                let column = next.column;\n                const columnsCount = gridConfig.cells[row].length;\n                const middleColumn = columnsCount / 2;\n\n                if (row === doOffsetColumnInRow && column >= middleColumn) {\n                    column = Math.min(column + 1, columnsCount - 1);\n                }\n\n                if (mirroredInfo[row] === undefined) {\n                    mirroredInfo[row] = {\n                        leftStart: middleColumn,\n                        leftEnd: 0,\n                        rightStart: columnsCount - 1,\n                        rightEnd: middleColumn,\n                    };\n                }\n\n                if (column < middleColumn) {\n                    mirroredInfo[row].leftStart = Math.min(mirroredInfo[row].leftStart, column);\n                    mirroredInfo[row].leftEnd = Math.max(mirroredInfo[row].leftEnd, column);\n                } else {\n                    mirroredInfo[row].rightStart = Math.min(mirroredInfo[row].rightStart, column);\n                    mirroredInfo[row].rightEnd = Math.max(mirroredInfo[row].rightEnd, column);\n                }\n            }\n        }\n\n        for (const next of layerConfig.controls) {\n            const factory = factoryMapping[next.type];\n            if (factory === undefined) {\n                console.error(\"Factory for control '\" + next.type + \"' is not defined\");\n                continue;\n            }\n\n            const copy = { ...next };\n            const columnsCount = gridConfig.cells[next.row].length;\n            const middleColumn = columnsCount / 2;\n            if (doOffsetColumnInRow === next.row && next.column >= middleColumn) {\n                copy.column = Math.min(copy.column + 1, columnsCount - 1);\n            }\n\n            if (mirrored) {\n                const { leftStart, leftEnd, rightStart, rightEnd } = mirroredInfo[copy.row];\n                const leftSide = copy.column < middleColumn;\n                if (leftSide) {\n                    copy.column += middleColumn + (middleColumn - leftEnd) - leftStart - 1;\n                } else {\n                    copy.column -= middleColumn + (rightStart - middleColumn) - (columnsCount - rightEnd) + 1;\n                }\n\n                if (copy.column >= columnsCount) {\n                    console.error(\"Column\", copy.column, \"is out of bound\",\n                        columnsCount, leftSide ? \"[leftSide]\" : \"[rightSide]\", mirroredInfo);\n                    copy.column = columnsCount - 1;\n                } else if (copy.column < 0) {\n                    console.error(\"Column\", copy.column, \"is out of bound\",\n                        0, leftSide ? \"[leftSide]\" : \"[rightSide]\", mirroredInfo);\n                    copy.column = 0;\n                }\n            }\n\n            const unbind = factory(copy, layers, ci, gridConfig, sensors, dosInstance);\n            unbindControls.push(unbind);\n        }\n    }\n\n    layers.addOnResize(rebuild);\n    rebuild(layers.width, layers.height);\n\n    return () => {\n        layers.removeOnResize(rebuild);\n        unbindKeyboard();\n        unbindMouse();\n        for (const next of unbindControls) {\n            next();\n        }\n    };\n}\n\nfunction createKeyControl(keyControl: LayerKeyControl,\n                          layers: Layers,\n                          ci: CommandInterface,\n                          gridConfig: GridConfiguration,\n                          sensors: ControlSensors,\n                          dosInstance: LayersInstance) {\n    const { cells, columnWidth } = gridConfig;\n    const { row, column } = keyControl;\n    const { centerX, centerY } = cells[row][column];\n\n    const handler = {\n        onDown: () => {\n            for (const next of keyControl.mapTo) {\n                ci.sendKeyEvent(next, true);\n            }\n        },\n        onUp: () => {\n            for (const next of keyControl.mapTo) {\n                ci.sendKeyEvent(next, false);\n            }\n        },\n    };\n\n    sensors.register(row, column, {\n        activate: handler.onDown,\n        deactivate: handler.onUp,\n    });\n\n    if (isHidden(gridConfig, row, column)) {\n        return () => {};\n    }\n\n    const button = createButton(keyControl.symbol, handler, columnWidth);\n\n    button.style.position = \"absolute\";\n    button.style.left = (centerX - button.widthPx / 2) + \"px\";\n    button.style.top = (centerY - button.heightPx / 2) + \"px\";\n\n    layers.mouseOverlay.appendChild(button);\n    return () => layers.mouseOverlay.removeChild(button);\n}\n\nfunction createOptionsControl(optionControl: LayerControl,\n                              layers: Layers,\n                              ci: CommandInterface,\n                              gridConfig: GridConfiguration,\n                              sensors: ControlSensors,\n                              dosInstance: LayersInstance) {\n    if (layers.options.optionControls?.length === 0) {\n        return () => {/**/};\n    }\n\n    if (layers.options.optionControls !== undefined &&\n        layers.options.optionControls.length === 1 &&\n        layers.options.optionControls[0] === \"keyboard\") {\n        return createKeyboardControl(optionControl, layers, ci, gridConfig, sensors, dosInstance);\n    }\n\n    const { cells, columnWidth, rowHeight } = gridConfig;\n    const { row, column } = optionControl;\n    const { centerX, centerY } = cells[row][column];\n\n    const top = centerY - rowHeight / 2;\n    const left = centerX - columnWidth / 2;\n    const right = gridConfig.width - left - columnWidth;\n\n    return options(layers, [\"default\"], () => {/**/},\n        columnWidth,\n        top,\n        right);\n}\n\nfunction createKeyboardControl(keyboardControl: LayerControl,\n                               layers: Layers,\n                               ci: CommandInterface,\n                               gridConfig: GridConfiguration,\n                               sensors: ControlSensors,\n                               dosInstance: LayersInstance) {\n    const { cells, columnWidth } = gridConfig;\n    const { row, column } = keyboardControl;\n    const { centerX, centerY } = cells[row][column];\n\n    const button = createButton(\"keyboard\", {\n        onUp: () => layers.toggleKeyboard(),\n    }, columnWidth);\n\n    button.style.position = \"absolute\";\n    button.style.left = (centerX - button.widthPx / 2) + \"px\";\n    button.style.top = (centerY - button.heightPx / 2) + \"px\";\n\n    layers.mouseOverlay.appendChild(button);\n    return () => {\n        layers.mouseOverlay.removeChild(button);\n    };\n}\n\nfunction createSwitchControl(switchControl: LayerSwitchControl,\n                             layers: Layers,\n                             ci: CommandInterface,\n                             gridConfig: GridConfiguration,\n                             sensors: ControlSensors,\n                             dosInstance: LayersInstance) {\n    const { cells, columnWidth } = gridConfig;\n    const { row, column } = switchControl;\n    const { centerX, centerY } = cells[row][column];\n\n    const button = createButton(switchControl.symbol, {\n        onUp: () => dosInstance.setActiveConfig(dosInstance.getActiveConfig(), switchControl.layerName),\n    }, columnWidth);\n\n    button.style.position = \"absolute\";\n    button.style.left = (centerX - button.widthPx / 2) + \"px\";\n    button.style.top = (centerY - button.heightPx / 2) + \"px\";\n\n    layers.mouseOverlay.appendChild(button);\n    return () => {\n        layers.mouseOverlay.removeChild(button);\n    };\n}\n\nfunction createScreenMoveControl(screenMoveControl: LayerScreenMoveControl,\n                                 layers: Layers,\n                                 ci: CommandInterface,\n                                 gridConfig: GridConfiguration,\n                                 sensors: ControlSensors,\n                                 dosInstance: LayersInstance) {\n    const { cells, columnWidth } = gridConfig;\n    const { row, column } = screenMoveControl;\n    const { centerX, centerY } = cells[row][column];\n\n    let mX = 0.5;\n    let mY = 0.5;\n\n    if (screenMoveControl.direction.indexOf(\"up\") >= 0) {\n        mY = 0;\n    }\n\n    if (screenMoveControl.direction.indexOf(\"down\") >= 0) {\n        mY = 1;\n    }\n\n    if (screenMoveControl.direction.indexOf(\"left\") >= 0) {\n        mX = 0;\n    }\n\n    if (screenMoveControl.direction.indexOf(\"right\") >= 0) {\n        mX = 1;\n    }\n\n    const handler = {\n        onDown: () => {\n            ci.sendMouseMotion(mX, mY);\n        },\n        onUp: () => {\n            ci.sendMouseMotion(0.5, 0.5);\n        },\n    };\n\n    sensors.register(row, column, {\n        activate: handler.onDown,\n        deactivate: handler.onUp,\n    });\n\n    if (isHidden(gridConfig, row, column)) {\n        return () => {};\n    }\n\n    const button = createButton(screenMoveControl.symbol, handler, columnWidth);\n\n    button.style.position = \"absolute\";\n    button.style.left = (centerX - button.widthPx / 2) + \"px\";\n    button.style.top = (centerY - button.heightPx / 2) + \"px\";\n\n    layers.mouseOverlay.appendChild(button);\n    return () => layers.mouseOverlay.removeChild(button);\n}\n\nfunction createPointerButtonControl(pointerButtonControl: LayerPointerButtonControl,\n                                    layers: Layers,\n                                    ci: CommandInterface,\n                                    gridConfig: GridConfiguration,\n                                    sensors: ControlSensors,\n                                    dosInstance: LayersInstance) {\n    const { cells, columnWidth } = gridConfig;\n    const { row, column, click } = pointerButtonControl;\n    const { centerX, centerY } = cells[row][column];\n\n    const handler = {\n        onDown: () => {\n            if (!click) {\n                layers.pointerButton = pointerButtonControl.button;\n            } else {\n                ci.sendMouseButton(pointerButtonControl.button, true);\n            }\n        },\n        onUp: () => {\n            if (!click) {\n                layers.pointerButton = 0;\n            } else {\n                ci.sendMouseButton(pointerButtonControl.button, false);\n            }\n        },\n    };\n\n    sensors.register(row, column, {\n        activate: handler.onDown,\n        deactivate: handler.onUp,\n    });\n\n    if (isHidden(gridConfig, row, column)) {\n        return () => {};\n    }\n\n    const button = createButton(pointerButtonControl.symbol, handler, columnWidth);\n\n    button.style.position = \"absolute\";\n    button.style.left = (centerX - button.widthPx / 2) + \"px\";\n    button.style.top = (centerY - button.heightPx / 2) + \"px\";\n\n    layers.mouseOverlay.appendChild(button);\n    return () => layers.mouseOverlay.removeChild(button);\n}\n\nfunction createPointerMoveControl(pointerMoveControl: LayerPointerMoveControl,\n                                  layers: Layers,\n                                  ci: CommandInterface,\n                                  gridConfig: GridConfiguration,\n                                  sensors: ControlSensors,\n                                  dosInstance: LayersInstance) {\n    const { cells, columnWidth } = gridConfig;\n    const { row, column, x, y } = pointerMoveControl;\n    const { centerX, centerY } = cells[row][column];\n\n    const handler = {\n        onDown: () => {\n            ci.sendMouseMotion(x, y);\n        },\n        onUp: () => {\n            ci.sendMouseMotion(x, y);\n        },\n    };\n\n    sensors.register(row, column, {\n        activate: handler.onDown,\n        deactivate: handler.onUp,\n    });\n\n    if (isHidden(gridConfig, row, column)) {\n        return () => {};\n    }\n\n    const button = createButton(pointerMoveControl.symbol, handler, columnWidth);\n\n    button.style.position = \"absolute\";\n    button.style.left = (centerX - button.widthPx / 2) + \"px\";\n    button.style.top = (centerY - button.heightPx / 2) + \"px\";\n\n    layers.mouseOverlay.appendChild(button);\n    return () => layers.mouseOverlay.removeChild(button);\n}\n\nfunction createPointerResetControl(pointerResetControl: LayerPointerResetControl,\n                                   layers: Layers,\n                                   ci: CommandInterface,\n                                   gridConfig: GridConfiguration,\n                                   sensors: ControlSensors,\n                                   dosInstance: LayersInstance) {\n    const { cells, columnWidth } = gridConfig;\n    const { row, column } = pointerResetControl;\n    const { centerX, centerY } = cells[row][column];\n\n    const handler = {\n        onDown: () => {\n            ci.sendMouseSync();\n        },\n    };\n\n    sensors.register(row, column, {\n        activate: handler.onDown,\n        deactivate: () => { },\n    });\n\n    if (isHidden(gridConfig, row, column)) {\n        return () => {};\n    }\n\n    const button = createButton(pointerResetControl.symbol, handler, columnWidth);\n\n    button.style.position = \"absolute\";\n    button.style.left = (centerX - button.widthPx / 2) + \"px\";\n    button.style.top = (centerY - button.heightPx / 2) + \"px\";\n\n    layers.mouseOverlay.appendChild(button);\n    return () => layers.mouseOverlay.removeChild(button);\n}\n\nfunction createPointerToggleControl(pointerToggleControl: LayerPointerToggleControl,\n                                    layers: Layers,\n                                    ci: CommandInterface,\n                                    gridConfig: GridConfiguration,\n                                    sensors: ControlSensors,\n                                    dosInstance: LayersInstance) {\n    const { cells, columnWidth } = gridConfig;\n    const { row, column } = pointerToggleControl;\n    const { centerX, centerY } = cells[row][column];\n\n    const handler = {\n        onDown: () => {\n            layers.pointerDisabled = !layers.pointerDisabled;\n            if (layers.pointerDisabled) {\n                if (!button.classList.contains(\"emulator-button-highlight\")) {\n                    button.classList.add(\"emulator-button-highlight\");\n                }\n            } else {\n                button.classList.remove(\"emulator-button-highlight\");\n            }\n        },\n    };\n\n    sensors.register(row, column, {\n        activate: handler.onDown,\n        deactivate: () => { },\n    });\n\n    if (isHidden(gridConfig, row, column)) {\n        return () => {};\n    }\n\n    const button = createButton(pointerToggleControl.symbol, handler, columnWidth);\n\n    button.style.position = \"absolute\";\n    button.style.left = (centerX - button.widthPx / 2) + \"px\";\n    button.style.top = (centerY - button.heightPx / 2) + \"px\";\n\n    layers.mouseOverlay.appendChild(button);\n    return () => layers.mouseOverlay.removeChild(button);\n}\n\nfunction createNippleActivatorControl(nippleActivatorControl: LayerNippleActivatorControl,\n                                      layers: Layers,\n                                      ci: CommandInterface,\n                                      gridConfig: GridConfiguration,\n                                      sensors: ControlSensors,\n                                      dosInstance: LayersInstance) {\n    const { cells, columnWidth, rowHeight, width, height } = gridConfig;\n    const { row, column } = nippleActivatorControl;\n    const { centerX, centerY } = cells[row][column];\n\n    const nippleContainer = document.createElement(\"div\");\n    const cellSize = 1.5;\n    const left = Math.max(0, centerX - columnWidth * cellSize);\n    const top = Math.max(0, centerY - rowHeight * cellSize);\n    const right = Math.max(0, width - centerX - columnWidth * cellSize);\n    const bottom = Math.max(0, height - centerY - rowHeight * cellSize);\n\n    nippleContainer.style.position = \"absolute\";\n    nippleContainer.style.zIndex = \"999\";\n    nippleContainer.style.left = left + \"px\";\n    nippleContainer.style.top = top + \"px\";\n    nippleContainer.style.right = right + \"px\";\n    nippleContainer.style.bottom = bottom + \"px\";\n\n    layers.mouseOverlay.appendChild(nippleContainer);\n\n    const manager = nipplejs.create({\n        zone: nippleContainer,\n        multitouch: false,\n        maxNumberOfNipples: 1,\n        mode: \"static\",\n        follow: false,\n        dynamicPage: true,\n        size: Math.max(columnWidth, rowHeight) * 1.5,\n        position: {\n            left: (width - right - left) / 2 + \"px\",\n            top: (height - bottom - top) / 2 + \"px\",\n        },\n    });\n\n    let activeColumn = -1;\n    let activeRow = -1;\n    manager.on(\"move\", (evt: any, data: any) => {\n        if (data.distance < 10) {\n            sensors.deactivate(activeRow, activeColumn);\n            activeColumn = -1;\n            activeRow = -1;\n            return;\n        }\n        let targetColumn = -1;\n        let targetRow = -1;\n        const step = 360 / 8;\n        const half = step / 2;\n        const degree = data.angle.degree;\n        if (degree > half && degree <= half + step) {\n            // console.log(\"up-right\")\n            targetColumn = column + 1;\n            targetRow = row - 1;\n        } else if (degree > half + step && degree <= half + step * 2) {\n            // console.log(\"up\");\n            targetColumn = column;\n            targetRow = row - 1;\n        } else if (degree > half + step * 2 && degree <= half + step * 3) {\n            // console.log(\"up-left\");\n            targetColumn = column - 1;\n            targetRow = row - 1;\n        } else if (degree > half + step * 3 && degree <= half + step * 4) {\n            // console.log(\"left\");\n            targetColumn = column - 1;\n            targetRow = row;\n        } else if (degree > half + step * 4 && degree <= half + step * 5) {\n            // console.log(\"down-left\");\n            targetColumn = column - 1;\n            targetRow = row + 1;\n        } else if (degree > half + step * 5 && degree <= half + step * 6) {\n            // console.log(\"down\")\n            targetColumn = column;\n            targetRow = row + 1;\n        } else if (degree > half + step * 6 && degree <= half + step * 7) {\n            // console.log(\"down-right\");\n            targetColumn = column + 1;\n            targetRow = row + 1;\n        } else {\n            // console.log(\"right\");\n            targetColumn = column + 1;\n            targetRow = row;\n        }\n\n        if (activeColumn !== targetColumn || activeRow !== targetRow) {\n            sensors.deactivate(activeRow, activeColumn);\n            sensors.activate(targetRow, targetColumn);\n            activeColumn = targetColumn;\n            activeRow = targetRow;\n        }\n    });\n\n    let started = false;\n    manager.on(\"start\", () => {\n        started = true;\n    });\n\n    manager.on(\"end\", () => {\n        started = false;\n        sensors.deactivate(activeRow, activeColumn);\n        activeRow = -1;\n        activeColumn = -1;\n    });\n\n    const options = {\n        capture: true,\n    };\n\n    function onEnd(e: Event) {\n        if (started) {\n            (manager as any).processOnEnd(e);\n        }\n    }\n\n    for (const next of pointer.enders) {\n        layers.mouseOverlay.addEventListener(next, onEnd, options);\n    }\n\n    return () => {\n        manager.destroy();\n        layers.mouseOverlay.removeChild(nippleContainer);\n        for (const next of pointer.enders) {\n            layers.mouseOverlay.removeEventListener(next, onEnd, options);\n        }\n    };\n}\n\nfunction isHidden(config: GridConfiguration, row: number, column: number) {\n    return (config.cells[row][column] as CellWithMeta).hidden === true;\n}\n\nfunction setHiddenAround(config: GridConfiguration,\n                         centralRow: number,\n                         centralColumn: number) {\n    function setHiddenIfValid(row: number, column: number) {\n        if (row === centralRow && column === centralColumn) {\n            return;\n        }\n\n        if (row >= 0 && row < config.cells.length) {\n            const rowCells = config.cells[row];\n            if (column >= 0 && column < rowCells.length) {\n                (rowCells[column] as CellWithMeta).hidden = true;\n            }\n        }\n    }\n\n    for (let ri = centralRow - 1; ri <= centralRow + 1; ++ri) {\n        for (let ci = centralColumn - 1; ci <= centralColumn + 1; ++ci) {\n            setHiddenIfValid(ri, ci);\n        }\n    }\n}\n","import { useDispatch, useSelector, useStore } from \"react-redux\";\nimport { dosSlice, FitConstant } from \"../../store/dos\";\nimport { getState, State, Store, useNonSerializableStore } from \"../../store\";\nimport { CommandInterface } from \"emulators\";\nimport { keyboard } from \"./controls/keyboard\";\nimport { webGl as webglRender } from \"./render/webgl\";\nimport { canvas as canvasRender } from \"./render/canvas\";\nimport { audioNode } from \"./sound/audio-node\";\nimport { useEffect } from \"preact/hooks\";\nimport { mouse } from \"./controls/mouse\";\nimport { KBD_0 } from \"./controls/keys\";\nimport { uiSlice } from \"../../store/ui\";\nimport { useT } from \"../../i18n\";\nimport { Layers } from \"../../layers/dom/layers\";\nimport { LayersConfig, LegacyLayersConfig, extractLayersConfig } from \"../../layers/controls/layers-config\";\nimport { initLegacyLayersControl } from \"../../layers/controls/legacy-layers-control\";\nimport { initLayersControl } from \"../../layers/controls/layers-control\";\nimport { LayersInstance } from \"../../layers/instance\";\n\nexport function useDosRuntime(canvas: HTMLCanvasElement,\n                              ci: CommandInterface): void {\n    useLog(ci);\n    useRenderImage(canvas);\n    useStats(ci);\n    usePause(ci);\n    useKeyboard(ci);\n    useMouse(canvas, ci);\n    useLayers(canvas, ci);\n    useRenderBackend(canvas, ci);\n    useAudioBackend(ci);\n}\n\nfunction useLog(ci: CommandInterface): void {\n    const dispatch = useDispatch();\n    const t = useT();\n    useEffect(() => {\n        const preloadProgress: { [drive: string]: number } = {};\n        const isFork: { [drive: string]: boolean } = {};\n        ci.events().onMessage((msgType, ...args: string[]) => {\n            if (msgType === \"error\" && args[0]?.startsWith(\"[panic]\")) {\n                dispatch(uiSlice.actions.showToast({\n                    message: args[0],\n                    intent: \"panic\",\n                }));\n            } else if (msgType === \"log\" && args[0]?.indexOf(\"sockdrive:\") !== -1) {\n                const drive = args[0].substring(args[0].indexOf(\" \") + 1, args[0].indexOf(\",\"));\n                dispatch(uiSlice.actions.cloudSaves(false));\n                if (args[0]?.indexOf(\"write=\") !== -1) {\n                    const name = drive.substring(drive.indexOf(\"/\") + 1);\n                    if (name.startsWith(\"@\")) {\n                        isFork[drive.substring(drive.indexOf(\".\", drive.indexOf(\"/\")) + 1)] = true;\n                    }\n                    dispatch(dosSlice.actions.addSockdriveInfo({\n                        drive,\n                        write: args[0]?.indexOf(\"write=false\") === -1,\n                    }));\n                }\n                if (args[0]?.indexOf(\"preload=\") !== -1) {\n                    const rest = Number.parseInt(args[0].substring(args[0].indexOf(\"preload=\") + \"preload=\".length));\n                    if (preloadProgress[drive] === undefined) {\n                        preloadProgress[drive] = rest;\n                    }\n\n                    const name = drive.substring(drive.indexOf(\"/\") + 1);\n                    dispatch(uiSlice.actions.showToast({\n                        message: t(\"preloading_sockdrive\") + \" \" +\n                            (isFork[name] ? \"@\" + name : name) + \" — \" +\n                            (Math.round(preloadProgress[drive] - rest) / 1024 / 1024).toFixed(2) + \"/\" +\n                            (Math.round(preloadProgress[drive] / 1024 / 1024)) + \"Mb\",\n                        long: true,\n                    }));\n                }\n            }\n        });\n    }, [ci, dispatch]);\n}\n\nfunction useRenderImage(canvas: HTMLCanvasElement): void {\n    const rendering = useSelector((state: State) => state.dos.imageRendering);\n    useEffect(() => {\n        canvas.style.imageRendering = rendering === \"smooth\" ? \"auto\" : rendering;\n    }, [canvas, rendering]);\n}\n\nfunction useMouse(canvas: HTMLCanvasElement,\n                  ci: CommandInterface): void {\n    const mobileControls = useSelector((state: State) => state.dos.mobileControls);\n    const mouseCapture = useSelector((state: State) => state.dos.mouseCapture);\n    const mouseSensitivity = 0.1 + useSelector((state: State) => state.dos.mouseSensitivity) * 3;\n    useEffect(() => {\n        if (!mobileControls) {\n            return mouse(mouseCapture, mouseSensitivity, 0, canvas, ci);\n        }\n    }, [canvas, ci, mouseCapture, mouseSensitivity, mobileControls]);\n}\n\nfunction useKeyboard(ci: CommandInterface): void {\n    useEffect(() => {\n        return keyboard(window as any, ci);\n    }, [ci]);\n}\n\nfunction useRenderBackend(canvas: HTMLCanvasElement,\n                          ci: CommandInterface): void {\n    const renderBackend = useSelector((state: State) => state.dos.renderBackend);\n    const renderAspect = useSelector((state: State) => state.dos.renderAspect);\n\n    let aspect: number | undefined = undefined;\n    switch (renderAspect) {\n        case \"1/1\": aspect = 1; break;\n        case \"5/4\": aspect = 5 / 4; break;\n        case \"4/3\": aspect = 4 / 3; break;\n        case \"16/10\": aspect = 16 / 10; break;\n        case \"16/9\": aspect = 16 / 9; break;\n        case \"Fit\": aspect = FitConstant;\n        default:\n    }\n\n    useEffect(() => {\n        let unbind = () => { };\n\n        if (renderBackend === \"canvas\") {\n            unbind = canvasRender(canvas, ci, aspect);\n        } else {\n            try {\n                unbind = webglRender(canvas, ci, aspect);\n            } catch (e) {\n                console.error(\"Unalbe to start webgl render\", e);\n                unbind = canvasRender(canvas, ci, aspect);\n            }\n        }\n\n        return unbind;\n    }, [canvas, ci, renderBackend, aspect]);\n}\n\nfunction useAudioBackend(ci: CommandInterface): void {\n    const store = useStore() as Store;\n\n    useEffect(() => {\n        const unbind = audioNode(ci, (setVolume) => {\n            let volume = 1;\n\n            const updateVolumeIfNeeded = () => {\n                const newVolume = getState(store).dos.volume;\n                if (Math.abs(volume - newVolume) >= 0.05) {\n                    setVolume(newVolume);\n                    volume = newVolume;\n                }\n            };\n\n            const unsubscribe = store.subscribe(updateVolumeIfNeeded);\n            return unsubscribe;\n        });\n\n        return unbind;\n    }, [ci]);\n}\n\nfunction usePause(ci: CommandInterface): void {\n    const paused = useSelector((state: State) => state.dos.paused);\n    const documentHidden = useSelector((state: State) => state.ui.documentHidden);\n    useEffect(() => {\n        (paused || documentHidden) ? ci.pause() : ci.resume();\n    }, [paused, documentHidden, ci]);\n}\n\nfunction useStats(ci: CommandInterface): void {\n    const dispatch = useDispatch();\n    useEffect(() => {\n        let prevCycles = 0;\n        let prevNonSkippableSleepCount = 0;\n        let prevSleepCount = 0;\n        let prevSleepTime = KBD_0;\n        let prevFrame = 0;\n        let prevSound = 0;\n        let prevMsgSent = 0;\n        let prevMsgRecv = 0;\n        let intervalStartedAt = Date.now();\n        const intervalId = setInterval(() => {\n            ci.asyncifyStats().then((stats) => {\n                const dtMs = Date.now() - intervalStartedAt;\n                const dtSec = dtMs / 1000;\n                if (dtSec > 0) {\n                    const dStats = {\n                        cyclesPerMs: Math.round((stats.cycles - prevCycles) / dtMs),\n                        nonSkippableSleepPreSec: Math.round((stats.nonSkippableSleepCount -\n                            prevNonSkippableSleepCount) / dtSec),\n                        sleepPerSec: Math.round((stats.sleepCount - prevSleepCount) / dtSec),\n                        sleepTimePerSec: Math.round((stats.sleepTime - prevSleepTime) / dtSec),\n                        framePerSec: Math.round((stats.messageFrame - prevFrame) / dtSec),\n                        soundPerSec: Math.round((stats.messageSound - prevSound) / dtSec),\n                        msgSentPerSec: Math.round((stats.messageSent - prevMsgSent) / dtSec),\n                        msgRecvPerSec: Math.round((stats.messageReceived - prevMsgRecv) / dtSec),\n                        netSent: stats.netSent,\n                        netRecv: stats.netRecv,\n                        driveSent: stats.driveSent,\n                        driveRecv: stats.driveRecv,\n                        driveRecvTime: stats.driveRecvTime,\n                        driveCacheHit: stats.driveCacheHit,\n                        driveCacheMiss: stats.driveCacheMiss,\n                        driveCacheUsed: stats.driveCacheUsed,\n                        driveBufferedAmount: stats.driveBufferedAmount,\n                        driveIo: structuredClone(stats.driveIo),\n                    };\n                    dispatch(dosSlice.actions.stats(dStats));\n\n                    prevCycles = stats.cycles;\n                    prevNonSkippableSleepCount = stats.nonSkippableSleepCount;\n                    prevSleepCount = stats.sleepCount;\n                    prevSleepTime = stats.sleepTime;\n                    prevFrame = stats.messageFrame;\n                    prevSound = stats.messageSound;\n                    prevMsgSent = stats.messageSent;\n                    prevMsgRecv = stats.messageReceived;\n                    intervalStartedAt = Date.now();\n                }\n            });\n        }, 3000);\n\n        return () => {\n            clearInterval(intervalId);\n        };\n    }, [dispatch, ci]);\n}\n\nfunction useLayers(canvas: HTMLCanvasElement, ci: CommandInterface) {\n    const nsStore = useNonSerializableStore();\n    const mouseCapture = useSelector((state: State) => state.dos.mouseCapture);\n    const mirroredControls = useSelector((state: State) => state.dos.mirroredControls);\n    const scaleControls = 1 + useSelector((state: State) => state.dos.scaleControls);\n    const mouseSensitivity = 0.1 + useSelector((state: State) => state.dos.mouseSensitivity) * 3;\n    const mobileControls = useSelector((state: State) => state.dos.mobileControls);\n    const dispatch = useDispatch();\n    let softKeyboard = useSelector((state: State) => state.dos.softKeyboard);\n    function toggleKeyboard() {\n        softKeyboard = !softKeyboard;\n        dispatch(dosSlice.actions.softKeyboard(softKeyboard));\n    }\n    useEffect(() => {\n        if (mobileControls) {\n            if (nsStore.layers === null) {\n                nsStore.layers = (async function() {\n                    const layers = new Layers(canvas.parentElement as HTMLDivElement, canvas, toggleKeyboard, {});\n                    const config = extractLayersConfig((await ci.config()).jsdosConf);\n\n                    let activeLayer: string | undefined;\n                    let layersConfig: LayersConfig | LegacyLayersConfig | null = null;\n                    let unbindControls = () => { };\n                    const instance: LayersInstance = {\n                        config,\n                        layers,\n                        autolock: mouseCapture,\n                        sensitivity: mouseSensitivity,\n                        mirroredControls,\n                        scaleControls,\n                        activeLayer: activeLayer,\n                        getActiveConfig: () => layersConfig,\n                        setActiveConfig: (config: LayersConfig | LegacyLayersConfig | null, layerName?: string) => {\n                            layersConfig = config;\n                            activeLayer = layerName;\n                            unbindControls();\n\n                            if (config === null) {\n                                unbindControls = () => { };\n                                layers.mouseOverlay.style.display = \"none\";\n                            } else if (config.version === undefined) {\n                                layers.mouseOverlay.style.display = \"block\";\n                                unbindControls = initLegacyLayersControl(instance, layers,\n                                    config as LegacyLayersConfig, ci);\n                            } else {\n                                layers.mouseOverlay.style.display = \"block\";\n                                unbindControls = initLayersControl(layers, config as LayersConfig,\n                                    ci, instance, instance.mirroredControls, instance.scaleControls,\n                                    layerName);\n                            }\n                        },\n                    };\n\n                    instance.setActiveConfig(config);\n                    return instance;\n                })();\n                nsStore.layers.catch(console.error);\n            } else {\n                nsStore.layers.then((instance) => {\n                    instance.autolock = mouseCapture;\n                    instance.sensitivity = mouseSensitivity;\n                    instance.mirroredControls = mirroredControls;\n                    instance.scaleControls = scaleControls;\n                    instance.setActiveConfig(instance.getActiveConfig() ?? instance.config, instance.activeLayer);\n                });\n            }\n        } else if (nsStore.layers !== null) {\n            nsStore.layers.then((l) => l.setActiveConfig(null));\n        }\n    }, [ci, mouseCapture, mouseSensitivity, mobileControls, mirroredControls, scaleControls]);\n};\n","import { CommandInterface } from \"emulators\";\nimport { domToKeyCode } from \"./keys\";\n\nexport function keyboard(el: HTMLElement, ci: CommandInterface) {\n    function onKeyDown(e: KeyboardEvent) {\n        if ((e.target as any).type === \"text\") {\n            return;\n        }\n        const keyCode = domToKeyCode(e.keyCode);\n        ci.sendKeyEvent(keyCode, true);\n        e.stopPropagation();\n        e.preventDefault();\n    };\n\n    function onKeyUp(e: KeyboardEvent) {\n        if ((e.target as any).type === \"text\") {\n            return;\n        }\n        const keyCode = domToKeyCode(e.keyCode);\n        ci.sendKeyEvent(keyCode, false);\n        e.stopPropagation();\n        e.preventDefault();\n    };\n\n    el.addEventListener(\"keydown\", onKeyDown);\n    el.addEventListener(\"keyup\", onKeyUp);\n\n    return () => {\n        el.removeEventListener(\"keydown\", onKeyDown);\n        el.removeEventListener(\"keyup\", onKeyUp);\n    };\n}\n","import { CommandInterface } from \"emulators\";\nimport { useEffect, useState } from \"preact/hooks\";\nimport { useSelector } from \"react-redux\";\nimport { State } from \"../../store\";\n\nexport const dhry2Bundle = \"/b4b5275904d86a4ab8a20917b2b7e34f0df47bf7.jsdos\";\n\nexport function Dhry2Results(props: { ci: CommandInterface }) {\n    const ci = props.ci;\n    const backend = useSelector((state: State) => state.dos.backend);\n    const worker = useSelector((state: State) => state.dos.worker);\n\n    const [results, setResults] = useState<{\n        runs: number,\n        time: number,\n        vax: number,\n        pc: string | null,\n    }>({\n        runs: 0,\n        time: 0,\n        vax: 0,\n        pc: null,\n    });\n\n    const [stats, setStats] = useState<{sleepPerSec: number, cyclesPerMs: number}>({\n        sleepPerSec: 0,\n        cyclesPerMs: 0,\n    });\n\n    useEffect(() => {\n        const listeners: ((message: string) => void)[] = [];\n\n        ci.events().onStdout((message: string) => {\n            for (const next of listeners) {\n                next(message);\n            }\n        });\n\n        const oldStdoutFn = ci.events().onStdout;\n        ci.events().onStdout = (fn: (message: string) => void) => {\n            listeners.push(fn);\n        };\n\n        // listen program outpus for `~>dtime` marker\n        let startedAt = Date.now();\n        let prevSleepCount = 0;\n        let prevCycles = 0;\n        ci.events().onStdout((message) => {\n            if (!message.startsWith(\"dhry2:\")) {\n                return;\n            }\n\n            ci.asyncifyStats().then((stats) => {\n                const dt = Date.now() - startedAt;\n                setStats({\n                    sleepPerSec: Math.round((stats.sleepCount - prevSleepCount) * 1000 / dt),\n                    cyclesPerMs: Math.round((stats.cycles - prevCycles) / dt),\n                });\n                startedAt = Date.now();\n                prevSleepCount = stats.sleepCount;\n                prevCycles = stats.cycles;\n            });\n\n            // eslint-disable-next-line\n            const [_, runsStr, deltaStr, vaxRatingStr] = message.split(\" \");\n            const runs = Number.parseInt(runsStr);\n            const delta = Number.parseFloat(deltaStr);\n            const vaxRating = Number.parseFloat(vaxRatingStr);\n\n            if (delta >= 5000) {\n                setResults({\n                    runs,\n                    time: Math.round(delta * 10) / 10,\n                    vax: Math.round(vaxRating * 100) / 100,\n                    pc: getComparablePc(vaxRating),\n                });\n            } else {\n                setResults({\n                    runs,\n                    time: Math.round(delta * 10) / 10,\n                    vax: Math.round(vaxRating * 100) / 100,\n                    pc: null,\n                });\n            }\n        });\n\n        return () => {\n            ci.events().onStdout = oldStdoutFn;\n        };\n    }, [ci]);\n\n    return <div class=\"dhry2-window\">\n        <div class=\"title\">Dhrystone 2 Benchmark</div>\n        <div class=\"backend\">Backend: {backend + \"-\" + (worker ? \"worker\" : \"direct\")}</div>\n        <div class=\"results\">\n            <div>VAX:</div>\n            <div>{results.vax}</div>\n            <div>Cycles p/ms:</div>\n            <div>{stats.cyclesPerMs}</div>\n            <div>Sleep p/sec:</div>\n            <div>{stats.sleepPerSec}</div>\n            <div>Runs:</div>\n            <div>{results.runs}</div>\n            <div>Time:</div>\n            <div>{results.time} <span>ms</span></div>\n            {results.pc !== null && <div>PC:</div>}\n            {results.pc !== null && <div>{results.pc ?? \"...\"}</div>}\n        </div>\n    </div>;\n}\n\n\nfunction getComparablePc(vax: number): string {\n    let index = 0;\n    while ((index * 2 + 1) < results.length) {\n        if (results[index * 2 + 1] as number >= vax) {\n            break;\n        }\n\n        index++;\n    }\n\n    index = Math.min((results.length / 2 - 1), index);\n    return (results[index * 2] + \"\").trim();\n}\n\n// Reuslts from\n// http://www.roylongbottom.org.uk/dhrystone%20results.htm\nconst results = [\n    \"AMD 80386 40MHz\", 13.7,\n    \"IBM 486D2 50MHz\", 22.4,\n    \"80486 DX2 66MHz\", 35.3,\n    \"IBM 486BL 100MHz\", 40.9,\n    \"AMD 5X86 133MHz\", 84.5,\n    \"Pentium 75MHz\", 87.1,\n    \"Cyrix P150 120MHz\", 160,\n    \"Pentium 100MHz\", 122,\n    \"Cyrix PP166 133MHz\", 180,\n    \"IBM 6x86 150MHz\", 188,\n    \"Pentium 133MHz\", 181,\n    \"Pentium 166MHz\", 189,\n    \"Cyrix PR233 188MHz\", 232,\n    \"Pentium 200MHz\", 269,\n    \"Pentium MMX 200MHz\", 276,\n    \"AMD K6 200MHz\", 289,\n    \"Pentium Pro 200MHz\", 312,\n    \"Celeron A 300MHz\", 484,\n    \"Pentium II 300MHz\", 477,\n    \"AMD K62 500MHz\", 606,\n    \"AMD K63 450MHz\", 645,\n    \"Pentium II 450MHz\", 713,\n    \"Celeron A 450MHz\", 720,\n    \"Pentium III 450MHz\", 722,\n    \"Pentium III 600MHz\", 959,\n    \"Athlon 600MHz\", 942,\n    \"Duron 600MHz\", 999,\n    \"Pentium III 1000MHz\", 1595,\n    \"PIII Tualatin 1200MHz\", 1907,\n    \"Pentium 4 1700MHz\", 1843,\n    \"Athlon Tbird 1000MHz\", 1659,\n    \"Duron 1000MHz\", 1674,\n    \"Celeron M 1295MHz\", 2273,\n    \"Atom 1600MHz\", 1828,\n    \"Pentium 4 1900MHz\", 2003,\n    \"Atom 1666MHz\", 1948,\n    \"P4 Xeon 2200MHz\", 2265,\n    \"Atom Z8300 1840MHz\", 2686,\n    \"Athlon 4 1600MHz\", 2830,\n    \"Pentium M 1862MHz\", 3933,\n    \"Ath4 Barton 1800MHz\", 3172,\n    \"Pentium 4E 3000MHz\", 3553,\n    \"Athlon XP 2080MHz\", 3700,\n    \"Turion 64 M 1900MHz\", 3742,\n    \"Pentium 4 3066MHz\", 4012,\n    \"Opteron 1991MHz\", 3985,\n    \"Core 2 Duo M 1830MHz\", 4952,\n    \"Athlon XP 2338MHz\", 4160,\n    \"Athlon 64 2150MHz\", 4288,\n    \"Pentium 4 3678MHz\", 4227,\n    \"Athlon 64 2211MHz\", 4462,\n    \"Celeron C2 M 2000MHz\", 5275,\n    \"Core 2 Duo 1 CP 2400MHz\", 6446,\n    \"Core i5 2467M 2300MHz\", 4752,\n    \"Phenom II 1 CP 3000MHz\", 7615,\n    \"Core i7 930 3066MHz\", 8684,\n    \"Core i7 860 3460MHz\", 9978,\n    \"Core i7 3930K 3800MHz\", 11197,\n    \"Core i7 4820K 3900MHz\", 11867,\n    \"Core i7 4820K 3900MHz\", 11978,\n    \"Core i7 3930K\", 13877,\n];\n","export const MAX_FRAME_SIZE = 1 * 1024 * 1024;\n\nexport interface Frame {\n    sectors: number[],\n    sectorsRow: Uint8Array,\n\n    aheadSize: number,\n    payload: Uint8Array,\n    payloadSize: number,\n    payloadPos: number,\n    error?: string,\n}\n\nexport function decodeFrame(ev: { data: ArrayBuffer }, frame: Frame): boolean {\n    if (ev.data instanceof ArrayBuffer) {\n        let data = new Uint8Array(ev.data);\n        if (frame.payloadSize === 0) {\n            frame.payloadSize = data[0] + (data[1] << 8) + (data[2] << 16) + (data[3] << 24);\n            data = data.slice(4);\n        }\n\n        const restLength = frame.payloadSize - frame.payloadPos;\n        if (data.byteLength > restLength || restLength < 0) {\n            frame.error = \"wrong read payload length \" + data.byteLength + \" instead of \" + restLength;\n            return true;\n        } else {\n            frame.payload.set(data, frame.payloadPos);\n            frame.payloadPos += data.byteLength;\n\n            if (frame.payloadPos == frame.payloadSize) {\n                const expectedSize = frame.aheadSize * frame.sectors.length;\n                let decodeResult = expectedSize;\n                if (frame.payloadSize < expectedSize) {\n                    decodeResult = decodeLz4(frame.payload, frame.sectorsRow, 0, frame.payloadSize);\n                } else {\n                    frame.sectorsRow.set(frame.payload);\n                }\n\n                if (decodeResult != expectedSize) {\n                    frame.error = \"wrong decode result \" + decodeResult + \" should be \" + expectedSize;\n                }\n                return true;\n            } else {\n                return false;\n            }\n        }\n    } else {\n        frame.error = \"received non arraybuffer data\";\n        return true;\n    }\n}\n\n/**\n * Decode a block. Assumptions: input contains all sequences of a\n * chunk, output is large enough to receive the decoded data.\n * If the output buffer is too small, an error will be thrown.\n * If the returned value is negative, an error occured at the returned offset.\n *\n * @param {ArrayBufferView} input input data\n * @param {ArrayBufferView} output output data\n * @param {number=} sIdx\n * @param {number=} eIdx\n * @return {number} number of decoded bytes\n * @private\n */\nfunction decodeLz4(input: Uint8Array, output: Uint8Array, sIdx: number, eIdx: number) {\n    sIdx = sIdx || 0;\n    eIdx = eIdx || (input.length - sIdx);\n    // Process each sequence in the incoming data\n    let i; let n; let j;\n    for (i = sIdx, n = eIdx, j = 0; i < n;) {\n        const token = input[i++];\n\n        // Literals\n        let literalsLength = (token >> 4);\n        if (literalsLength > 0) {\n            // length of literals\n            let l = literalsLength + 240;\n            while (l === 255) {\n                l = input[i++];\n                literalsLength += l;\n            }\n\n            // Copy the literals\n            const end = i + literalsLength;\n            while (i < end) {\n                output[j++] = input[i++];\n            }\n\n            // End of buffer?\n            if (i === n) {\n                return j;\n            }\n        }\n\n        // Match copy\n        // 2 bytes offset (little endian)\n        const offset = input[i++] | (input[i++] << 8);\n\n        // XXX 0 is an invalid offset value\n        if (offset === 0) {\n            return j;\n        }\n\n        if (offset > j) {\n            return -(i - 2);\n        }\n\n        // length of match copy\n        let matchLength = (token & 0xf);\n        let l = matchLength + 240;\n        while (l === 255) {\n            l = input[i++];\n            matchLength += l;\n        }\n\n        // Copy the match\n        let pos = j - offset; // position of the match copy in the current output\n        const end = j + matchLength + 4; // minmatch = 4\n        while (j < end) {\n            output[j++] = output[pos++];\n        }\n    }\n\n    return j;\n};\n","import { Cache } from \"./cache\";\nimport { decodeFrame, Frame } from \"./decode\";\nimport { EmModule, Ptr, Stats } from \"./types\";\n\ninterface Request {\n    type: 1 | 2, // read | write\n    sector: number,\n    buffer: Ptr | Uint8Array,\n    resolve: (result: number) => void,\n}\n\nexport class Drive {\n    module: EmModule;\n    sectorSize: number;\n    endpoint: string;\n    owner: string;\n    drive: string;\n    realOwner: string;\n    realDrive: string;\n    token: string;\n    stats: Stats;\n\n    socket: Promise<WebSocket> = Promise.resolve(null as any);\n    request: Request | null;\n\n    frame: Frame;\n\n    aheadRange: number = 0;\n    aheadSize: number = 0;\n    writeBuffer: Uint8Array;\n\n    readBuffered: boolean;\n    readBuffer: Uint8Array;\n    readStartedAt: number = 0;\n\n    cache: Cache | null;\n    cleanup = () => {/**/};\n\n    openFn = (read: boolean, write: boolean, size: number, aheadRange: number,\n        realOwner: string, realName: string) => {/**/};\n    errorFn = (e: Error) => {/**/};\n\n    readOnly = false;\n    alive = true;\n    lastBufferedAmount = 0;\n\n    statsDirty: { [sector: number]: number } = {};\n    statsCommitInterval: number;\n\n    public constructor(endpoint: string,\n        owner: string,\n        drive: string,\n        token: string,\n        stats: Stats,\n        module: EmModule,\n        cache: Cache | null = null,\n        readBuffered: boolean = false) {\n        this.sectorSize = 512;\n        this.module = module;\n        this.endpoint = endpoint;\n        this.owner = owner;\n        this.drive = drive;\n        this.realOwner = owner;\n        this.realDrive = drive;\n        this.token = token;\n        this.request = null;\n        this.readBuffer = new Uint8Array(1 + 4 + 4);\n        this.writeBuffer = new Uint8Array(1 + 4 + this.sectorSize);\n        this.stats = stats;\n        this.cache = cache;\n        this.cache?.open(this.owner, this.drive, this.token);\n        this.frame = null as any;\n        this.readBuffered = readBuffered;\n        this.reconnect();\n\n        this.statsCommitInterval = setInterval(() => {\n            if (Object.keys(this.statsDirty).length > 0) {\n                fetch(endpoint.replace(\"wss://\", \"https://\").replace(\"ws://\", \"http://\") + \"/cache/set\" +\n                    \"/\" + encodeURIComponent(this.realOwner) +\n                    \"/\" + encodeURIComponent(this.realDrive) +\n                    \"/\" + (token.length === 0 ? \"guest\" : token),\n                {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                    },\n                    body: JSON.stringify(this.statsDirty),\n                }).catch((e) => console.warn(\"Can't send drive cache stats\", e));\n                this.statsDirty = {};\n            }\n        }, 1000 * 60) as any;\n    }\n\n    public onError(errorFn: (e: Error) => void) {\n        this.errorFn = errorFn;\n    }\n\n    public onOpen(openFn: (read: boolean, write: boolean, imageSize: number, aheadRange: number,\n        realOwner: string, realName: string) => void) {\n        this.openFn = openFn;\n    }\n\n    public reconnect(): void {\n        if (!this.alive) {\n            return;\n        }\n\n        if (this.socket) {\n            this.socket.then((s) => {\n                if (s !== null) {\n                    s.close();\n                }\n            });\n        }\n\n        this.socket = new Promise<WebSocket>((resolve, reject) => {\n            const socket = new WebSocket(this.endpoint);\n            socket.binaryType = \"arraybuffer\";\n            const onMessage = this.onMessage.bind(this);\n            const onOpen = () => {\n                const onInit = (event: { data: string }) => {\n                    socket.removeEventListener(\"message\", onInit);\n                    if (event.data.startsWith(\"write\") || event.data.startsWith(\"read\")) {\n                        const [mode, aheadRangeStr, sizeStr, realOwner, realDrive] = event.data.split(\",\");\n                        this.realOwner = realOwner;\n                        this.realDrive = realDrive;\n                        this.aheadRange = Number.parseInt(aheadRangeStr);\n                        this.aheadSize = this.aheadRange * this.sectorSize;\n                        this.readOnly = mode !== \"write\";\n\n                        this.frame = {\n                            sectors: [],\n                            sectorsRow: new Uint8Array(this.aheadSize),\n                            payload: new Uint8Array(this.aheadSize),\n                            payloadPos: 0,\n                            payloadSize: 0,\n                            aheadSize: this.aheadSize,\n                        };\n\n                        const onPreloadMessage = (event: { data: ArrayBuffer }) => {\n                            socket.removeEventListener(\"message\", onPreloadMessage);\n                            socket.addEventListener(\"message\", onMessage);\n                            this.openFn(true, !this.readOnly,\n                                (Number.parseInt(sizeStr) ?? 2 * 1024 * 1024) * 1024,\n                                this.aheadRange, realOwner, realDrive);\n\n                            this.onOpen = () => { };\n                            this.errorFn = () => { };\n                            resolve(socket);\n                        };\n                        socket.addEventListener(\"message\", onPreloadMessage);\n                    } else {\n                        const error = new Error(event.data ?? \"Unable to establish connection\");\n                        this.errorFn(error);\n                        reject(error);\n                    }\n                };\n                socket.addEventListener(\"message\", onInit);\n                socket.send(this.owner + \"&\" + this.drive + \"&\" + this.token);\n            };\n            const onError = (e: Event) => {\n                console.error(\"Network error\", e, \"will reconnect\");\n                cleanup();\n                socket.close();\n                setTimeout(this.reconnect.bind(this), 300);\n            };\n            socket.addEventListener(\"error\", onError);\n            socket.addEventListener(\"open\", onOpen);\n            const cleanup = function() {\n                socket.removeEventListener(\"message\", onMessage);\n                socket.removeEventListener(\"open\", onOpen);\n                socket.removeEventListener(\"error\", onError);\n            };\n            this.cleanup = cleanup;\n        });\n\n        if (this.request !== null) {\n            this.executeRequest(this.request);\n        }\n    }\n\n    public read(sector: number, buffer: Ptr, sync: boolean): Promise<number> | number {\n        const origin = this.getOrigin(sector);\n        this.statsDirty[origin] = (this.statsDirty[origin] ?? 0) + 1;\n\n        const cached = this.cache?.read(this.owner, this.drive, sector);\n        if (cached) {\n            this.stats.cacheHit++;\n            this.module.HEAPU8.set(this.readBuffered || cached.length == this.sectorSize ? cached :\n                cached.slice(0, this.sectorSize), buffer);\n            return sync ? 0 : Promise.resolve(0);\n        } else if (sync) {\n            return 255;\n        } else {\n            return new Promise<number>((resolve) => {\n                this.stats.cacheMiss++;\n\n                const request: Request = {\n                    type: 1,\n                    sector,\n                    buffer,\n                    resolve,\n                };\n\n                if (this.request !== null) {\n                    console.error(\"New read request while old one is still processed\");\n                    resolve(3);\n                } else {\n                    this.request = request;\n                    this.executeRequest(this.request);\n                }\n            });\n        }\n    }\n\n    public write(sector: number, buffer: Ptr): number {\n        const request: Request = {\n            type: 2,\n            sector,\n            buffer: this.module.HEAPU8.slice(buffer, buffer + this.sectorSize),\n            resolve: () => {/**/},\n        };\n        this.lastBufferedAmount += this.sectorSize;\n        this.cache?.write(this.owner, this.drive, sector, request.buffer as Uint8Array);\n        this.executeRequest(request);\n        return 0;\n    }\n\n    public async close() {\n        clearInterval(this.statsCommitInterval);\n        this.alive = false;\n        const socket = await this.socket;\n        await new Promise<void>((resolve) => {\n            const intervalId = setInterval(() => {\n                if (socket.bufferedAmount === 0) {\n                    clearInterval(intervalId);\n                    resolve();\n                }\n            }, 32);\n        });\n        this.cleanup();\n        socket.close();\n    }\n\n    private executeRequest(request: Request) {\n        this.socket.then(async (socket) => {\n            if (socket.readyState === WebSocket.CLOSED || socket.readyState === WebSocket.CLOSING) {\n                if (!this.alive) {\n                    console.error(\"Trying to read from closed drive\", this.drive);\n                    request.resolve(4);\n                } else {\n                    console.error(\"Drive connection to '\" + this.owner + \"/\" + this.drive +\n                        \"' was closed, trying to reconnect...\");\n                    this.reconnect();\n                }\n                return;\n            }\n\n            if (request.type === 1) {\n                const { sector } = request;\n                this.readStartedAt = Date.now();\n                this.readBuffer[0] = 1; // read\n                this.readBuffer[1] = 1 & 0xFF;\n                this.readBuffer[2] = (1 >> 8) & 0xFF;\n                this.readBuffer[3] = (1 >> 16) & 0xFF;\n                this.readBuffer[4] = (1 >> 24) & 0xFF;\n\n                const origin = this.getOrigin(sector);\n                this.readBuffer[5] = origin & 0xFF;\n                this.readBuffer[5 + 1] = (origin >> 8) & 0xFF;\n                this.readBuffer[5 + 2] = (origin >> 16) & 0xFF;\n                this.readBuffer[5 + 3] = (origin >> 24) & 0xFF;\n                this.frame.sectors = [sector];\n                this.frame.payloadPos = 0;\n                this.frame.payloadSize = 0;\n                socket.send(this.readBuffer.slice(0, 4 + 5).buffer);\n            } else if (this.readOnly) {\n                request.resolve(0);\n            } else {\n                const { sector, buffer, resolve } = request;\n                this.stats.write += this.sectorSize;\n                this.writeBuffer[0] = 2; // write\n                this.writeBuffer[1] = sector & 0xFF;\n                this.writeBuffer[2] = (sector >> 8) & 0xFF;\n                this.writeBuffer[3] = (sector >> 16) & 0xFF;\n                this.writeBuffer[4] = (sector >> 24) & 0xFF;\n                // TBD: maybe do not copy and send just slice ???\n                this.writeBuffer.set(buffer as Uint8Array, 5);\n                socket.send(this.writeBuffer.buffer);\n                resolve(0);\n            }\n        }).catch(console.error);\n    }\n\n    public onMessage(event: { data: ArrayBuffer }) {\n        if (this.request === null) {\n            console.error(\"Received message without request\");\n            this.reconnect();\n        } else if (this.request.type === 2) {\n            console.error(\"Received read payload while write request\");\n            this.reconnect();\n        } else if (decodeFrame(event, this.frame)) {\n            if (this.frame.error) {\n                console.error(this.frame.error);\n                this.reconnect();\n                return;\n            } else {\n                const { buffer, sector, resolve } = this.request;\n                const origin = this.getOrigin(sector);\n                this.cache?.update(this.owner, this.drive, origin, this.frame.sectorsRow, 0);\n                const from = (sector - origin) * this.sectorSize;\n                if (this.readBuffered) {\n                    if (from !== 0) {\n                        console.error(\"Buffered mode only works for origin!\");\n                        resolve(3);\n                    } else {\n                        this.module.HEAPU8.set(this.frame.sectorsRow, buffer as number);\n                    }\n                } else {\n                    this.module.HEAPU8.set(this.frame.sectorsRow.slice(from, from + this.sectorSize), buffer as number);\n                }\n\n                this.stats.read += this.frame.payloadSize;\n                this.stats.readTotalTime += Date.now() - this.readStartedAt;\n                this.request = null;\n                resolve(0);\n            }\n        }\n    }\n\n    public currentSocket() {\n        return this.socket;\n    }\n\n    public getOrigin(sector: number) {\n        return sector - sector % this.aheadRange;\n    }\n\n    public bufferedAmount(): number {\n        this.socket.then((s) => {\n            if (s) {\n                this.lastBufferedAmount = s.bufferedAmount;\n            }\n        });\n        return this.lastBufferedAmount;\n    }\n}\n","/* eslint-disable */\n\n// This code is from https://github.com/rsms/js-lru\n\n/**\n * A doubly linked list-based Least Recently Used (LRU) cache. Will keep most\n * recently used items while discarding least recently used items when its limit\n * is reached.\n *\n * Licensed under MIT. Copyright (c) 2010 Rasmus Andersson <http://hunch.se/>\n * See README.md for details.\n *\n * Illustration of the design:\n *\n *       entry             entry             entry             entry\n *       ______            ______            ______            ______\n *      | head |.newer => |      |.newer => |      |.newer => | tail |\n *      |  A   |          |  B   |          |  C   |          |  D   |\n *      |______| <= older.|______| <= older.|______| <= older.|______|\n *\n *  removed  <--  <--  <--  <--  <--  <--  <--  <--  <--  <--  <--  added\n */\nconst NEWER = Symbol(\"newer\");\nconst OLDER = Symbol(\"older\");\n\nexport class LRUMap {\n    size: number;\n    limit: number;\n    newest: any;\n    oldest: any;\n    _keymap: Map<any, any>;\n\n    constructor(limit: number, entries?: any) {\n        if (typeof limit !== \"number\") {\n            // called as (entries)\n            entries = limit;\n            limit = 0;\n        }\n\n        this.size = 0;\n        this.limit = limit;\n        this.oldest = this.newest = undefined;\n        this._keymap = new Map();\n\n        if (entries) {\n            this.assign(entries);\n            if (limit < 1) {\n                this.limit = this.size;\n            }\n        }\n    }\n\n    _markEntryAsUsed(entry: any) {\n        if (entry === this.newest) {\n            // Already the most recenlty used entry, so no need to update the list\n            return;\n        }\n        // HEAD--------------TAIL\n        //   <.older   .newer>\n        //  <--- add direction --\n        //   A  B  C  <D>  E\n        if (entry[NEWER]) {\n            if (entry === this.oldest) {\n                this.oldest = entry[NEWER];\n            }\n            entry[NEWER][OLDER] = entry[OLDER]; // C <-- E.\n        }\n        if (entry[OLDER]) {\n            entry[OLDER][NEWER] = entry[NEWER]; // C. --> E\n        }\n        entry[NEWER] = undefined; // D --x\n        entry[OLDER] = this.newest; // D. --> E\n        if (this.newest) {\n            this.newest[NEWER] = entry; // E. <-- D\n        }\n        this.newest = entry;\n    }\n\n    assign(entries: any) {\n        let entry; let limit = this.limit || Number.MAX_VALUE;\n        this._keymap.clear();\n        const it = entries[Symbol.iterator]();\n        for (let itv = it.next(); !itv.done; itv = it.next()) {\n            const e = new (Entry as any)(itv.value[0], itv.value[1]);\n            this._keymap.set(e.key, e);\n            if (!entry) {\n                this.oldest = e;\n            } else {\n                entry[NEWER] = e;\n                e[OLDER] = entry;\n            }\n            entry = e;\n            if (limit-- == 0) {\n                throw new Error(\"overflow\");\n            }\n        }\n        this.newest = entry;\n        this.size = this._keymap.size;\n    }\n\n    get(key: any) {\n        // First, find our cache entry\n        const entry = this._keymap.get(key);\n        if (!entry) return; // Not cached. Sorry.\n        // As <key> was found in the cache, register it as being requested recently\n        this._markEntryAsUsed(entry);\n        return entry.value;\n    }\n\n    set(key: any, value: any) {\n        let entry = this._keymap.get(key);\n\n        if (entry) {\n            // update existing\n            entry.value = value;\n            this._markEntryAsUsed(entry);\n            return this;\n        }\n\n        // new entry\n        this._keymap.set(key, (entry = new (Entry as any)(key, value)));\n\n        if (this.newest) {\n            // link previous tail to the new tail (entry)\n            this.newest[NEWER] = entry;\n            entry[OLDER] = this.newest;\n        } else {\n            // we're first in -- yay\n            this.oldest = entry;\n        }\n\n        // add new entry to the end of the linked list -- it's now the freshest entry.\n        this.newest = entry;\n        ++this.size;\n        if (this.size > this.limit) {\n            // we hit the limit -- remove the head\n            this.shift();\n        }\n\n        return this;\n    }\n\n    shift() {\n        // todo: handle special case when limit == 1\n        const entry = this.oldest;\n        if (entry) {\n            if (this.oldest[NEWER]) {\n                // advance the list\n                this.oldest = this.oldest[NEWER];\n                this.oldest[OLDER] = undefined;\n            } else {\n                // the cache is exhausted\n                this.oldest = undefined;\n                this.newest = undefined;\n            }\n            // Remove last strong reference to <entry> and remove links from the purged\n            // entry being returned:\n            entry[NEWER] = entry[OLDER] = undefined;\n            this._keymap.delete(entry.key);\n            --this.size;\n            return [entry.key, entry.value];\n        }\n    }\n}\n\nfunction Entry(this: any, key: any, value: any) {\n    this.key = key;\n    this.value = value;\n    this[NEWER] = undefined;\n    this[OLDER] = undefined;\n}\n\n\nfunction EntryIterator(this: any, oldestEntry: any) {\n    this.entry = oldestEntry;\n}\nEntryIterator.prototype[Symbol.iterator] = function () {\n    return this;\n};\nEntryIterator.prototype.next = function () {\n    const ent = this.entry;\n    if (ent) {\n        this.entry = ent[NEWER];\n        return { done: false, value: [ent.key, ent.value] };\n    } else {\n        return { done: true, value: undefined };\n    }\n};\n\n\nfunction KeyIterator(this: any, oldestEntry: any) {\n    this.entry = oldestEntry;\n}\nKeyIterator.prototype[Symbol.iterator] = function () {\n    return this;\n};\nKeyIterator.prototype.next = function () {\n    const ent = this.entry;\n    if (ent) {\n        this.entry = ent[NEWER];\n        return { done: false, value: ent.key };\n    } else {\n        return { done: true, value: undefined };\n    }\n};\n\nfunction ValueIterator(this: any, oldestEntry: any) {\n    this.entry = oldestEntry;\n}\nValueIterator.prototype[Symbol.iterator] = function () {\n    return this;\n};\nValueIterator.prototype.next = function () {\n    const ent = this.entry;\n    if (ent) {\n        this.entry = ent[NEWER];\n        return { done: false, value: ent.value };\n    } else {\n        return { done: true, value: undefined };\n    }\n};\n","import { decodeFrame, Frame } from \"./decode\";\nimport { LRUMap } from \"./lru\";\nimport { MAX_FRAME_SIZE } from \"./decode\";\n\nconst MEMORY_LIMIT = 64 * 1024 * 1024;\n\ntype ProgressFn = (owner: string, drive: string, rest: number, total: number) => void;\ntype PayloadFn = (owner: string, drive: string, sectorSize: number,\n    aheadRange: number, sectors: number[], row: Uint8Array) => void;\n\nclass BlockCache {\n    aheadRange: number;\n    sectorSize: number;\n    aheadSize: number;\n    lru: LRUMap;\n\n    constructor(sectorSize: number, aheadRange: number, memoryLimit: number) {\n        this.aheadRange = aheadRange;\n        this.sectorSize = sectorSize;\n        this.aheadSize = aheadRange * sectorSize;\n        this.lru = new LRUMap(Math.floor(memoryLimit / (aheadRange * sectorSize)));\n    }\n\n    contains(origin: number): boolean {\n        return !!this.lru.get(origin);\n    }\n\n    public read(sector: number): Uint8Array | null {\n        const origin = this.getOrigin(sector);\n        const cached = this.lru.get(origin) as Uint8Array;\n        if (cached) {\n            const offset = sector - origin;\n            return offset === 0 ? cached : cached.slice(offset * this.sectorSize, (offset + 1) * this.sectorSize);\n        }\n        return null;\n    }\n\n    public create(origin: number, buffer: Uint8Array, from: number) {\n        this.lru.set(origin, buffer.slice(from, from + this.aheadSize));\n    }\n\n    public getOrigin(sector: number) {\n        return sector - sector % this.aheadRange;\n    }\n\n    public memUsed() {\n        return this.lru.size * this.aheadSize;\n    }\n}\n\nclass WsCache {\n    cache: BlockCache | null = null;\n    writeCache: {[sector: number]: Uint8Array} = {};\n    socket: WebSocket | null = null;\n    connect: () => Promise<void>;\n\n    constructor(url: string, owner: string, drive: string, token: string, preload: boolean,\n        progress: ProgressFn, payload: PayloadFn) {\n        this.connect = () => {\n            return new Promise<void>((resolve) => {\n                const socket = new WebSocket(url);\n                this.socket = socket;\n                socket.addEventListener(\"close\", () => {\n                    resolve();\n                });\n                socket.binaryType = \"arraybuffer\";\n                socket.addEventListener(\"error\", () => {\n                    console.error(\"Can't connect to\", url, owner, drive);\n                    socket.close();\n                });\n                socket.addEventListener(\"open\", () => {\n                    socket.addEventListener(\"message\", (event: { data: ArrayBuffer }) => {\n                        const data = new Uint32Array(event.data);\n                        if (data?.length !== 3) {\n                            console.error(\"Wrong cache format\");\n                        } else {\n                            const sectorSize = data[0];\n                            const aheadRange = data[1];\n                            this.cache = new BlockCache(sectorSize, aheadRange, MEMORY_LIMIT);\n                            if (!preload) {\n                                socket.close();\n                                return;\n                            }\n\n                            let count = data[2];\n                            if (count === 0) {\n                                socket.close();\n                            } else {\n                                const aheadSize = sectorSize * aheadRange;\n                                const maxSectorsCount = Math.floor(MAX_FRAME_SIZE / aheadSize);\n                                const frame: Frame = {\n                                    payload: new Uint8Array(MAX_FRAME_SIZE),\n                                    sectorsRow: new Uint8Array(MAX_FRAME_SIZE),\n                                    aheadSize: aheadRange * sectorSize,\n                                    sectors: [],\n                                    payloadSize: 0,\n                                    payloadPos: 0,\n                                };\n                                const total = count * aheadSize;\n                                let rest = total;\n                                progress(owner, drive, rest, total);\n                                socket.addEventListener(\"message\", (event: { data: ArrayBuffer }) => {\n                                    if (event.data instanceof ArrayBuffer) {\n                                        const data = new Uint8Array(event.data);\n                                        if (frame.sectors.length === 0) {\n                                            const sectorsCount = data[1] + (data[1 + 1] << 8) +\n                                                (data[1 + 2] << 16) + (data[1 + 3] << 24);\n                                            if (sectorsCount > maxSectorsCount) {\n                                                console.error(\"Can't load more than\", maxSectorsCount,\n                                                    \"at once (requested\" + sectorsCount + \")\");\n                                                socket.close();\n                                                return;\n                                            }\n                                            for (let i = 0; i < sectorsCount; ++i) {\n                                                const offset = 5 + i * 4;\n                                                frame.sectors.push(data[offset] + (data[offset + 1] << 8) +\n                                                    (data[offset + 2] << 16) + (data[offset + 3] << 24));\n                                            }\n                                        } else {\n                                            if (decodeFrame(event, frame)) {\n                                                if (frame.error) {\n                                                    console.error(frame.error);\n                                                    socket.close();\n                                                } else {\n                                                    payload(owner, drive, sectorSize, aheadRange,\n                                                        frame.sectors, frame.sectorsRow);\n                                                    rest -= frame.sectors.length * aheadSize;\n                                                    count -= frame.sectors.length;\n                                                    progress(owner, drive, rest, total);\n                                                    for (let i = 0; i < frame.sectors.length; ++i) {\n                                                        if (!this.cache?.contains(frame.sectors[i])) {\n                                                            this.cache?.create(frame.sectors[i],\n                                                                frame.sectorsRow, i * frame.aheadSize);\n                                                        }\n                                                    }\n                                                    frame.sectors = [];\n                                                    frame.payloadSize = 0;\n                                                    frame.payloadPos = 0;\n\n                                                    if (count === 0) {\n                                                        socket.close();\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    } else {\n                                        console.error(\"Unknown event\", event);\n                                        socket.close();\n                                    }\n                                });\n                            }\n                        }\n                    }, { once: true });\n                    socket.send(owner + \"&\" + drive + \"&\" + token);\n                });\n            });\n        };\n    }\n\n    public read(sector: number): Uint8Array | null {\n        return this.writeCache[sector] ?? this.cache?.read(sector) ?? null;\n    }\n\n    public write(sector: number, buffer: Uint8Array): void {\n        this.writeCache[sector] = buffer;\n    }\n\n    public create(origin: number, buffer: Uint8Array, from: number) {\n        this.cache?.create(origin, buffer, from);\n    }\n\n    public getOrigin(sector: number) {\n        return this.cache?.getOrigin(sector) ?? 0;\n    }\n\n    public memUsed() {\n        return this.cache?.memUsed() ?? 0;\n    }\n\n    public close() {\n        this.socket?.close();\n    }\n}\n\nexport class Cache {\n    private url: string;\n    private preload: boolean;\n    private impl: { [key: string]: WsCache } = {};\n    private progress: ProgressFn = () => {\n    };\n    private payload: PayloadFn = () => {\n    };\n    private key(owner: string, drive: string) {\n        return owner + \"/\" + drive;\n    }\n    private connectQueue: (() => Promise<void>)[] = [];\n\n    constructor(url: string, preload: boolean) {\n        this.url = url;\n        this.preload = preload;\n    }\n\n    open(owner: string, drive: string, token: string) {\n        const key = this.key(owner, drive);\n        if (this.impl[key] === undefined) {\n            const cache = new WsCache(this.url + \"/cache\", owner, drive, token,\n                this.preload, this.progress, this.payload);\n            this.impl[key] = cache;\n            this.connectQueue.push(cache.connect);\n            if (this.connectQueue.length == 1) {\n                this.runNextCache();\n            }\n        }\n    }\n\n    runNextCache() {\n        if (this.connectQueue.length > 0) {\n            const next = this.connectQueue[0];\n            next().then(() => {\n                if (next === this.connectQueue[0]) {\n                    this.connectQueue.splice(0, 1);\n                    this.runNextCache();\n                } else {\n                    console.error(\"wrong cache order!\");\n                }\n            });\n        }\n    }\n\n    read(owner: string, drive: string, sector: number): Uint8Array | null {\n        const key = this.key(owner, drive);\n        if (this.impl[key]) {\n            return this.impl[key].read(sector);\n        } else {\n            console.error(\"Cache for drive\", key, \"not opened!\");\n            return null;\n        }\n    }\n\n    update(owner: string, drive: string, origin: number, buffer: Uint8Array, from: number): void {\n        const key = this.key(owner, drive);\n        if (this.impl[key]) {\n            const expected = this.impl[key].getOrigin(origin);\n            if (expected && expected !== origin) {\n                throw new Error(\"Origin mistamtch for \" + key);\n            }\n            this.impl[key].create(origin, buffer, from);\n        } else {\n            console.error(\"Cache for drive\", key, \"not opened!\");\n        }\n    }\n\n    write(owner: string, drive: string, sector: number, buffer: Uint8Array): void {\n        const key = this.key(owner, drive);\n        if (this.impl[key]) {\n            this.impl[key].write(sector, buffer);\n        } else {\n            console.error(\"Cache for drive\", key, \"not opened!\");\n        }\n    }\n\n    memUsed(): number {\n        let total = 0;\n        for (const key of Object.keys(this.impl)) {\n            total += this.impl[key].memUsed();\n        }\n        return total;\n    }\n\n    onProgress(fn: ProgressFn) {\n        this.progress = fn;\n    }\n\n    onPayload(fn: PayloadFn) {\n        this.payload = fn;\n    }\n\n    close() {\n        for (const key of Object.keys(this.impl)) {\n            this.impl[key].close();\n        }\n    }\n}\n","import {\n    TransportLayer, ClientMessage, MessageHandler,\n    ServerMessage, DataChunk, FsNode,\n} from \"emulators/dist/types/protocol/protocol\";\n\nimport { createSockdrive, Template } from \"./ws-sockdrive\";\n\nconst sockdriveConfirmWrite = false;\n\nexport interface Hardware {\n    readConfig(): string;\n    sendMessage(payload: string): void;\n    addKey(key: number, pressed: number, timeMs: number): void;\n    mouseMove(x: number, y: number, relative: boolean, timeMs: number): void;\n    mouseButton(button: number, pressed: number, timeMs: number): void;\n    getFramePayload(): string;\n\n    createFile(path: string): string;\n    appendFile(blob: string): string;\n    writeFile(path: string): string;\n    closeFile(): string;\n}\n\nconst textDecoder = new TextDecoder();\nconst textEncoder = new TextEncoder();\nconst fMultiplier = 200000000;\n\n// eslint-disable-next-line max-len\nconst clientMessageValues: ClientMessage[] = [\n    \"wc-install\", \"wc-run\", \"wc-pack-fs-to-bundle\", \"wc-add-key\", \"wc-mouse-move\", \"wc-mouse-button\", \"wc-mouse-sync\",\n    \"wc-exit\", \"wc-sync-sleep\", \"wc-pause\", \"wc-resume\", \"wc-mute\", \"wc-unmute\", \"wc-connect\", \"wc-disconnect\",\n    \"wc-backend-event\", \"wc-asyncify-stats\", \"wc-fs-tree\", \"wc-fs-get-file\", \"wc-send-data-chunk\",\n    \"wc-net-connected\", \"wc-net-received\",\n];\nconst clientMessageEnum: { [msg: string]: number } = {};\nclientMessageValues.forEach((v, i) => clientMessageEnum[v] = i);\n\nconst serverMessageValues: ServerMessage[] = [\n    \"ws-extract-progress\", \"ws-ready\", \"ws-server-ready\", \"ws-frame-set-size\",\n    \"ws-update-lines\", \"ws-log\", \"ws-warn\", \"ws-err\",\n    \"ws-stdout\", \"ws-exit\", \"ws-persist\", \"ws-sound-init\", \"ws-sound-push\",\n    \"ws-config\", \"ws-sync-sleep\", \"ws-connected\", \"ws-disconnected\",\n    \"ws-asyncify-stats\", \"ws-fs-tree\", \"ws-send-data-chunk\",\n    \"ws-net-connect\", \"ws-net-disconnect\", \"ws-net-send\",\n];\nconst serverMessageEnum: { [num: string]: ServerMessage } = {};\nserverMessageValues.forEach((v, i) => serverMessageEnum[i] = v);\n\nexport class WsTransportLayer implements TransportLayer {\n    socket: WebSocket;\n    sessionId: string = Date.now() + \"\";\n    hardware: Hardware;\n    onInit: (version: number) => void = () => {/**/};\n\n    private cycles = 0;\n    private sockdrive = createSockdrive(this.onSockdriveOpen.bind(this),\n        this.onSockdriveError.bind(this),\n        this.onSockdrivePreloadProgress.bind(this),\n        this.onSockdrivePayload.bind(this));\n    private sockdriveSeq = 1;\n    private version = 0;\n\n    private handler: MessageHandler = () => {/**/};\n\n    private writeUint32(container: Uint8Array, value: number, offset: number) {\n        container[offset] = value & 0xFF;\n        container[offset + 1] = (value & 0x0000FF00) >> 8;\n        container[offset + 2] = (value & 0x00FF0000) >> 16;\n        container[offset + 3] = (value & 0xFF000000) >> 24;\n        return offset + 4;\n    }\n\n    private readUint32(container: Uint8Array, offset: number) {\n        return (container[offset] & 0x000000FF) |\n            ((container[offset + 1] << 8) & 0x0000FF00) |\n            ((container[offset + 2] << 16) & 0x00FF0000) |\n            ((container[offset + 3] << 24) & 0xFF000000);\n    }\n\n    private readUint64(container: Uint8Array, offset: number) {\n        return this.readUint32(container, offset) + this.readUint32(container, offset + 4) * 2 ** 32;\n    }\n\n    private sendMessageToSocket(id: ClientMessage | number, ...payload: (Uint8Array | null)[]) {\n        let length = 1;\n        for (const next of payload) {\n            length += 4 + (next?.length ?? 0);\n        }\n\n        const encoded = new Uint8Array(length);\n        encoded[0] = typeof id === \"string\" ? clientMessageEnum[id] : id;\n        let position = 1;\n        for (const next of payload) {\n            this.writeUint32(encoded, next?.length ?? 0, position);\n            position += 4;\n            if (next) {\n                encoded.set(next, position);\n                position += next.length;\n            }\n        }\n\n        this.socket.send(encoded);\n    }\n\n    private readMessage(payload: Uint8Array): { id: number, payload: (Uint8Array | null)[] } {\n        const out: Uint8Array[] = [];\n        let position = 1;\n        while (position + 4 <= payload.length) {\n            const length = this.readUint32(payload, position);\n            position += 4;\n\n            if (position + length > payload.length) {\n                throw new Error(\"read_message out of bounds\");\n            } else {\n                out.push(payload.slice(position, position + length));\n            }\n\n            position += length;\n        }\n\n        return {\n            id: payload[0],\n            payload: out,\n        };\n    }\n\n    private onMessage(msg: Uint8Array) {\n        const { id, payload } = this.readMessage(msg);\n        const message = serverMessageEnum[id];\n        switch (message) {\n            case \"ws-ready\": {\n                this.version = (payload && payload[0] && payload.length > 0) ? payload[0][0] : 0;\n                this.onInit(this.version);\n                this.handler(message, {});\n            } break;\n            case \"ws-server-ready\":\n            case \"ws-exit\": {\n                // delay ws-server-ready until ws-sound-init\n                if (message !== \"ws-server-ready\") {\n                    this.handler(message, {});\n                }\n            } break;\n            case \"ws-stdout\":\n            case \"ws-log\":\n            case \"ws-warn\":\n            case \"ws-err\": {\n                this.handler(message, {\n                    tag: textDecoder.decode(payload[0]!),\n                    message: textDecoder.decode(payload[1]!),\n                });\n            } break;\n            case \"ws-send-data-chunk\": {\n                const chunk: DataChunk = {\n                    type: textDecoder.decode(payload[0]!) as any,\n                    name: textDecoder.decode(payload[1]!),\n                    data: payload[2],\n                };\n                this.handler(message, { chunk });\n            } break;\n            case \"ws-config\": {\n                if (payload[0]) {\n                    const dosboxConf = textDecoder.decode(payload[0]);\n                    this.sockdrive.applyConf(dosboxConf);\n                }\n                this.handler(message, {\n                    dosboxConf: payload[0]!,\n                    jsdosConf: textDecoder.decode(payload[1]!),\n                });\n            } break;\n            case \"ws-sound-init\": {\n                this.handler(message, {\n                    freq: this.readUint32(payload[0]!, 0),\n                });\n                this.handler(\"ws-server-ready\", {});\n            } break;\n            case \"ws-sound-push\": {\n                this.handler(message, {\n                    samples: new Float32Array(payload[0]!.buffer),\n                });\n            } break;\n            case \"ws-frame-set-size\": {\n                this.handler(message, {\n                    width: this.readUint32(payload[0]!, 0),\n                    height: this.readUint32(payload[0]!, 4),\n                });\n            } break;\n            case \"ws-update-lines\": {\n                if (payload.length > 0) {\n                    const lines: { start: number, heapu8: Uint8Array }[] = [];\n                    for (const next of payload) {\n                        lines.push({\n                            start: this.readUint32(next!, 0),\n                            heapu8: next!.slice(4),\n                        });\n                    }\n                    this.handler(message, { lines });\n                }\n            } break;\n            case \"ws-asyncify-stats\": {\n                this.cycles += this.readUint32(payload[0]!, 0);\n                const stats = {\n                    messageSent: this.readUint32(payload[0]!, 4),\n                    messageReceived: this.readUint32(payload[0]!, 8),\n                    messageFrame: this.readUint32(payload[0]!, 12),\n                    messageSound: this.readUint32(payload[0]!, 16),\n                    nonSkippableSleepCount: 0,\n                    sleepCount: 0,\n                    sleepTime: 0,\n                    cycles: this.cycles,\n                    netSent: 0,\n                    netRecv: 0,\n                    driveSent: this.sockdrive.stats.write,\n                    driveRecv: this.sockdrive.stats.read,\n                    driveCacheHit: this.sockdrive.stats.cacheHit,\n                    driveCacheMiss: this.sockdrive.stats.cacheMiss,\n                    driveRecvTime: this.sockdrive.stats.readTotalTime,\n                    driveCacheUsed: this.sockdrive.stats.cacheUsed,\n                    driveBufferedAmount: 0,\n                    driveIo: this.sockdrive.stats.io,\n                };\n                if (payload[0]!.length > 20) {\n                    stats.driveCacheHit = this.readUint32(payload[0]!, 20);\n                    stats.driveCacheMiss = this.readUint32(payload[0]!, 24);\n                    stats.driveRecv = this.readUint32(payload[0]!, 28);\n                    stats.driveSent = this.readUint32(payload[0]!, 32);\n                    stats.driveRecvTime = this.readUint32(payload[0]!, 36);\n                }\n                this.handler(message, stats);\n            } break;\n            case \"ws-connected\": {\n                this.handler(message, { networkType: payload[0]![0], address: textDecoder.decode(payload[1]!) });\n            } break;\n            case \"ws-disconnected\": {\n                this.handler(message, { networkType: payload[0]![0] });\n            } break;\n            case \"ws-fs-tree\": {\n                const info: { name: string, size: number | null }[] = [];\n                for (let i = 0; i < payload.length - 1; ++i) {\n                    info.push({ name: textDecoder.decode(payload[i]!), size: null });\n                }\n\n                const sizes = payload[payload.length - 1]!;\n                for (let i = 0; i < info.length; ++i) {\n                    const size = this.readUint32(sizes, i * 4);\n                    info[i].size = size < 0 ? null : size;\n                }\n\n                const fsTree: FsNode = {\n                    name: \".\",\n                    nodes: [],\n                    size: null,\n                };\n\n                function lookupNode(name: string): [FsNode, string] {\n                    const parts = name.split(\"/\");\n                    let node: FsNode | undefined = fsTree;\n                    for (let i = 1; i < parts.length - 1; ++i) {\n                        const dir = parts[i];\n                        node = node!.nodes?.find((n) => n.name == dir);\n                        if (!node) {\n                            throw new Error(\"Unable to find node \" + name + \", subdir \" + dir);\n                        }\n                    }\n                    return [node, parts[parts.length - 1]];\n                };\n\n                for (const { name, size } of info) {\n                    const [node, basename] = lookupNode(name);\n                    node.nodes?.push({\n                        name: basename,\n                        size,\n                        nodes: size === null ? [] : null,\n                    });\n                }\n\n                this.handler(\"ws-fs-tree\", {\n                    fsTree,\n                });\n            } break;\n            case \"ws-persist\": {\n                this.handler(\"ws-persist\", {\n                    bundle: payload.length > 0 ? payload[0]! : null,\n                });\n            } break;\n            case \"ws-net-connect\": {\n                let address = textDecoder.decode(payload[0]!);\n                if (!address.startsWith(\"wss://\") && !address.startsWith(\"ws://\")) {\n                    address = ((\n                        window.location.protocol === \"http:\" &&\n                        window.location.hostname !== \"localhost\"\n                    ) ? \"ws://\" : \"wss://\") + address;\n                }\n                this.handler(\"ws-net-connect\", { address });\n            } break;\n            case \"ws-net-send\": {\n                this.handler(\"ws-net-send\", {\n                    networkId: this.readUint32(payload[0]!, 0),\n                    data: payload[1],\n                });\n            } break;\n            case \"ws-net-disconnect\": {\n                this.handler(\"ws-net-disconnect\", {\n                    networkId: this.readUint32(payload[0]!, 0),\n                });\n            } break;\n            default: {\n                if (message === undefined) { // not standard messages\n                    (async () => {\n                        switch (id) {\n                            case 100/* ws-sockdrive-open */:\n                            case 104/* ws-sockdrive-open-native */: {\n                                const url = textDecoder.decode(payload[0]!);\n                                const owner = textDecoder.decode(payload[1]!);\n                                const name = textDecoder.decode(payload[2]!);\n                                const token = textDecoder.decode(payload[3]!);\n                                let handle: number = this.sockdriveSeq++;\n                                let aheadRange: number = 0;\n                                let template: Template;\n                                if (id === 100) {\n                                    const tuple = await this.sockdrive.open(url, owner, name, token);\n                                    handle = tuple.handle;\n                                    aheadRange = tuple.aheadRange;\n                                    template = this.sockdrive.template(handle);\n                                } else {\n                                    const response = await fetch(url.replace(\"wss://\", \"https://\")\n                                        .replace(\"ws://\", \"http://\") + \"/template/\" + owner + \"/\" + name);\n                                    const json = await response.json();\n                                    if ((json as any).error) {\n                                        throw new Error((json as any).error);\n                                    }\n                                    template = {\n                                        name: json.name,\n                                        size: json.size ?? 0,\n                                        heads: json.heads ?? 1,\n                                        cylinders: json.cylinders ?? 520,\n                                        sectors: json.sectors ?? 63,\n                                        sectorSize: json.sector_size ?? 512,\n                                    };\n                                }\n                                const packet = new Uint8Array(4 * 7);\n                                let offset = 0;\n                                offset = this.writeUint32(packet, handle, offset);\n                                offset = this.writeUint32(packet, template.size, offset);\n                                offset = this.writeUint32(packet, template.heads, offset);\n                                offset = this.writeUint32(packet, template.cylinders, offset);\n                                offset = this.writeUint32(packet, template.sectors, offset);\n                                offset = this.writeUint32(packet, template.sectorSize, offset);\n                                this.writeUint32(packet, aheadRange, offset);\n                                this.sendMessageToSocket(100, packet);\n                            } break;\n                            case 101/* ws-sockdrive-read */: {\n                                const handle = this.readUint32(payload[0]!, 0);\n                                const sector = this.readUint32(payload[0]!, 4);\n                                const response = await this.sockdrive.read(handle, sector);\n                                const packet = new Uint8Array(4);\n                                this.writeUint32(packet, response.code, 0);\n                                this.sendMessageToSocket(101, packet, response.buffer ?? null);\n                            } break;\n                            case 102/* ws-sockdrive-write */: {\n                                const handle = this.readUint32(payload[0]!, 0);\n                                const sector = this.readUint32(payload[0]!, 4);\n                                const code = this.sockdrive.write(handle, sector, payload[1]!);\n                                const packet = new Uint8Array(4);\n                                this.writeUint32(packet, code, 0);\n                                if (sockdriveConfirmWrite) {\n                                    this.sendMessageToSocket(102, packet);\n                                }\n                            } break;\n                            case 103/* ws-sockdrive-close */: {\n                                this.sockdrive.close(this.readUint32(payload[0]!, 0));\n                            } break;\n                            case 105/* ws-sockdrive-native-open */: {\n                                const owner = textDecoder.decode(payload[0]!);\n                                const name = textDecoder.decode(payload[1]!);\n                                this.onSockdriveOpen(owner + \"/\" + name, true,\n                                    payload[2]![0] === 1, this.readUint32(payload[2]!, 1), owner, name);\n                            } break;\n                            default:\n                                console.log(\"WARN! Unhandled server non standard message\", id, payload);\n                        }\n                    })().catch((e) => {\n                        this.handler(\"ws-err\", {\n                            tag: \"panic\",\n                            message: \"sockdrive error: \" + (e.message ?? \"???\"),\n                        });\n                    });\n                } else {\n                    console.warn(\"WARN! Unhandled server message\", message);\n                }\n            }\n        }\n    }\n\n    constructor(socket: WebSocket, onInit: (version: number) => void) {\n        this.socket = socket;\n        this.socket.addEventListener(\"error\", (e) => {\n            this.handler(\"ws-err\", { tag: \"ws\", message: (e as any).message ?? \"Unknown transport layer error\" });\n            this.handler(\"ws-exit\", {});\n            this.socket.close();\n        });\n        this.socket.addEventListener(\"message\", async (ev) => {\n            const blob: Blob = ev.data;\n            this.onMessage(new Uint8Array(await blob.arrayBuffer()));\n        });\n        this.sendMessageToSocket(\"wc-install\");\n        this.hardware = (null) as any;\n        this.onInit = onInit;\n    }\n\n    async sendMessageToServer(name: ClientMessage, props?: { [key: string]: any; }) {\n        if (props === undefined || props?.sessionId !== this.sessionId) {\n            return;\n        }\n\n        const messageId = clientMessageEnum[name];\n        switch (name) {\n            case \"wc-run\": {\n                const token = props.token ?? \"\";\n                this.sockdrive.applyToken(token);\n                this.sendMessageToSocket(messageId, textEncoder.encode(token));\n            } break;\n            case \"wc-send-data-chunk\": {\n                const chunk: DataChunk = props.chunk;\n                this.sendMessageToSocket(messageId,\n                    textEncoder.encode(chunk.type),\n                    textEncoder.encode(chunk.name),\n                    chunk.data ? new Uint8Array(chunk.data) : null);\n            } break;\n            case \"wc-asyncify-stats\": {\n                this.sendMessageToSocket(messageId);\n            } break;\n            case \"wc-add-key\": {\n                const payload = new Uint8Array(3 * 4);\n                let offset = 0;\n                offset = this.writeUint32(payload, props.key, offset);\n                offset = this.writeUint32(payload, props.pressed ? 1 : 0, offset);\n                this.writeUint32(payload, props.timeMs, offset);\n                this.sendMessageToSocket(messageId, payload);\n            } break;\n            case \"wc-mouse-move\": {\n                const payload = new Uint8Array(3 * 4 + 3);\n                let offset = 0;\n                offset = this.writeUint32(payload, Math.abs(props.x) * fMultiplier, offset);\n                offset = this.writeUint32(payload, Math.abs(props.y) * fMultiplier, offset);\n                offset = this.writeUint32(payload, props.timeMs, offset);\n                payload[offset] = props.relative ? 1 : 0;\n                payload[offset + 1] = props.x >= 0 ? 0 : 1;\n                payload[offset + 2] = props.y >= 0 ? 0 : 1;\n                this.sendMessageToSocket(messageId, payload);\n            } break;\n            case \"wc-mouse-button\": {\n                const payload = new Uint8Array(4 + 2);\n                payload[0] = props.button;\n                payload[1] = props.pressed ? 1 : 0;\n                this.writeUint32(payload, props.timeMs, 2);\n                this.sendMessageToSocket(messageId, payload);\n            } break;\n            case \"wc-mouse-sync\": {\n                const payload = new Uint8Array(4);\n                this.writeUint32(payload, props.timeMs, 0);\n                this.sendMessageToSocket(messageId, payload);\n            } break;\n            case \"wc-connect\": {\n                this.sendMessageToSocket(messageId, new Uint8Array([props.networkType]),\n                    textEncoder.encode(props.address));\n            } break;\n            case \"wc-fs-tree\": {\n                this.sendMessageToSocket(messageId);\n            } break;\n            case \"wc-pack-fs-to-bundle\": {\n                this.sendMessageToSocket(messageId, new Uint8Array([props.onlyChanges ? 1 : 0]));\n            } break;\n            case \"wc-net-connected\": {\n                const id = new Uint8Array(4);\n                this.writeUint32(id, props.networkId + 1, 0);\n                this.sendMessageToSocket(messageId, id);\n            } break;\n            case \"wc-net-received\": {\n                const id = new Uint8Array(4);\n                this.writeUint32(id, props.networkId, 0);\n                this.sendMessageToSocket(messageId, id, new Uint8Array(props.data));\n            } break;\n            default: {\n                console.log(\"Unhandled client message (wc):\", name, messageId, props);\n            } break;\n        }\n    }\n\n    initMessageHandler(handler: MessageHandler) {\n        this.handler = (message, props) => {\n            props.sessionId = this.sessionId;\n            handler(message, props);\n        };\n    }\n\n    exit() {\n        this.sendMessageToSocket(\"wc-exit\");\n    }\n\n    onSockdriveOpen(drive: string, read: boolean, write: boolean, imageSize: number,\n        realOwner: string, realDrive: string) {\n        this.handler(\"ws-log\", {\n            tag: \"worker\",\n            message: \"sockdrive: \" + (realOwner ? realOwner + \"/\" + realDrive : drive) +\n                \", read=\" + read + \", write=\" + write +\n                \", imageSize=\" + Math.round(imageSize / 1024 / 1024) + \"Mb\",\n        });\n    }\n\n    onSockdriveError(e: Error) {\n        this.handler(\"ws-err\", {\n            tag: \"panic\",\n            message: e.message ?? \"unable to open sockdrive\",\n        });\n    }\n\n    onSockdrivePreloadProgress(drive: string, restBytes: number) {\n        this.handler(\"ws-log\", {\n            tag: \"worker\",\n            message: \"sockdrive: \" + drive + \", preload=\" + restBytes,\n        });\n    }\n\n    onSockdrivePayload(owner: string, drive: string, sectorSize: number,\n        aheadRange: number, sectors: number[], row: Uint8Array) {\n        if (this.version > 3) {\n            const sectorsPayload = new Uint8Array(sectors.length * 4 + 2 * 4);\n            let offset = 0;\n            for (const sector of sectors) {\n                offset = this.writeUint32(sectorsPayload, sector, offset);\n            }\n            offset = this.writeUint32(sectorsPayload, sectorSize, offset);\n            this.writeUint32(sectorsPayload, aheadRange, offset);\n\n            this.sendMessageToSocket(106 /* wc-sockdrive-cache */,\n                textEncoder.encode(owner),\n                textEncoder.encode(drive),\n                sectorsPayload,\n                row,\n            );\n        }\n    }\n}\n\nexport function createWsTransportLayer(url: string, onInit: (version: number) => void): Promise<TransportLayer> {\n    return new Promise<TransportLayer>((resolve) => {\n        let locked = false;\n        const inervalId = setInterval(() => {\n            if (locked) {\n                return;\n            }\n\n            locked = true;\n            const ws = new WebSocket(url);\n            const onSuccess = () => {\n                clearInterval(inervalId);\n                console.log(\"Connected to\", url);\n                resolve(new WsTransportLayer(ws, onInit));\n            };\n\n            ws.addEventListener(\"error\", (error) => {\n                console.error(\"Can't conect to \", url, error);\n                ws.removeEventListener(\"open\", onSuccess);\n                ws.close();\n                locked = false;\n            });\n\n            ws.addEventListener(\"open\", onSuccess);\n        }, 1000);\n    });\n}\n","import { Handle, Stats } from \"../sockdrive/js/src/sockdrive/types\";\nimport { Drive } from \"../sockdrive/js/src/sockdrive/drive\";\nimport { Cache } from \"../sockdrive/js/src/sockdrive/cache\";\nimport { sockdriveImgmount } from \"../player-api-load\";\n\nexport interface Template {\n    name: string,\n    size: number,\n    heads: number,\n    cylinders: number,\n    sectors: number,\n    sectorSize: number,\n}\n\nexport interface ReadResponse {\n    buffer?: Uint8Array,\n    code: number,\n}\n\nexport function createSockdrive(\n    onOpen: (drive: string, read: boolean, write: boolean, imageSize: number,\n        realOwner: string, realDrive: string) => void,\n    onError: (e: Error) => void,\n    onPreloadProgress: (drive: string, restBytes: number) => void,\n    onPayload: (owner: string, drive: string, sectorSize: number,\n        aheadRange: number, sectors: number[], row: Uint8Array) => void,\n) {\n    let seq = 0;\n    let token = \"\";\n    const cache: { [backend: string]: Cache } = {};\n    const mapping: { [handle: Handle]: Drive } = {};\n    const templates: { [handle: number]: Template } = {};\n    const memory: { [handle: number]: Uint8Array } = {};\n    const stats: Stats = {\n        read: 0,\n        write: 0,\n        readTotalTime: 0,\n        cacheHit: 0,\n        cacheMiss: 0,\n        cacheUsed: 0,\n        io: [],\n    };\n    const sockdrive = {\n        stats,\n        open: async (url: string, owner: string, name: string, _token: string): Promise<{\n            handle: Handle,\n            aheadRange: number,\n        }> => {\n            if (token !== _token) {\n                console.error(\"sockdrive error: token mistmatch\", token, \"!=\", _token);\n            }\n\n            const response = await fetch(url.replace(\"wss://\", \"https://\")\n                .replace(\"ws://\", \"http://\") + \"/template/\" + owner + \"/\" + name);\n            const template = await response.json();\n            if (template.error) {\n                throw new Error(template.error);\n            }\n            seq++;\n            templates[seq] = {\n                name: template.name,\n                size: template.size ?? 0,\n                heads: template.heads ?? 1,\n                cylinders: template.cylinders ?? 520,\n                sectors: template.sectors ?? 63,\n                sectorSize: template.sector_size ?? 512,\n            };\n\n            const sectorSize = templates[seq].sectorSize;\n            const module = { HEAPU8: new Uint8Array(0) };\n            stats.io.push({ read: 0, write: 0 });\n            const backendCache = cache[url] ?? null;\n            if (backendCache) {\n                backendCache.open(owner, name, token);\n            } else {\n                console.error(\"Sockdrive cache not found for\", url);\n            }\n            mapping[seq] = new Drive(url, owner, name, token, stats, module, backendCache, true);\n            return new Promise<{ handle: Handle, aheadRange: number }>((resolve, reject) => {\n                const drive = owner + \"/\" + name;\n                mapping[seq].onOpen((read, write, imageSize, aheadRange, realOwner, realDrive) => {\n                    memory[seq] = new Uint8Array(sectorSize /* write */ + sectorSize * aheadRange);\n                    module.HEAPU8 = memory[seq];\n                    onOpen(drive, read, write, imageSize,\n                        realOwner, realDrive);\n                    resolve({\n                        handle: seq,\n                        aheadRange,\n                    });\n                });\n                mapping[seq].onError((e) => {\n                    onError(e);\n                    reject(e);\n                });\n            });\n        },\n        read: async (handle: Handle, sector: number): Promise<ReadResponse> => {\n            if (mapping[handle]) {\n                stats.io[handle - 1].read++;\n                const ptr = templates[handle].sectorSize;\n                let code = mapping[handle].read(sector, ptr, true) as number;\n                if (code = 255) {\n                    code = await mapping[handle].read(sector, ptr, false);\n                }\n                return {\n                    code,\n                    buffer: memory[handle].slice(ptr),\n                };\n            }\n\n            console.error(\"ERROR! sockdrive handle\", handle, \"not found\");\n            return Promise.resolve({ code: 1 });\n        },\n        write: (handle: Handle, sector: number, buffer: Uint8Array): number => {\n            if (buffer.byteLength != templates[handle].sectorSize) {\n                onError(new Error(\"sockdrive write buffer size \" + buffer.byteLength +\n                    \" != sector size \" + templates[handle].sectorSize));\n                return 1;\n            }\n            if (mapping[handle]) {\n                stats.io[handle - 1].write++;\n                memory[handle].set(buffer, 0);\n                return mapping[handle].write(sector, 0);\n            }\n            console.error(\"ERROR! sockdrive handle\", handle, \"not found\");\n            return 1;\n        },\n        close: (handle: Handle) => {\n            if (mapping[handle]) {\n                mapping[handle].close();\n                delete memory[handle];\n                delete templates[handle];\n                delete mapping[handle];\n            }\n        },\n        template: (handle: Handle) => {\n            return templates[handle];\n        },\n        applyToken: (_token: string) => {\n            token = _token;\n        },\n        applyConf: (conf: string) => {\n            console.log(\"applyConf\", conf);\n            let m: RegExpExecArray | null;\n            while (m = sockdriveImgmount.exec(conf)) {\n                /* eslint-disable-next-line no-unused-vars */\n                const [_, num, backend, owner, drive] = m;\n                if (!cache[backend]) {\n                    cache[backend] = new Cache(backend, true);\n                }\n                cache[backend].onProgress((owner, drive, rest, total) => {\n                    onPreloadProgress(owner + \"/\" + drive, rest);\n                });\n                cache[backend].onPayload(onPayload);\n                cache[backend].open(owner, drive, token);\n            }\n        },\n    };\n\n    return sockdrive;\n}\n","import { CommandInterface } from \"emulators\";\nimport { State } from \"../store\";\nimport { useDispatch, useSelector } from \"react-redux\";\n/* eslint-disable camelcase */\nimport { domToKeyCode, KBD_0, KBD_9, KBD_backspace, KBD_capslock, KBD_comma, KBD_down, KBD_enter,\n    KBD_esc,\n    KBD_f1, KBD_f2, KBD_f3,\n    KBD_f4, KBD_f5, KBD_f6,\n    KBD_f7, KBD_f8, KBD_f9,\n    KBD_f10, KBD_f11, KBD_f12,\n    KBD_left, KBD_leftalt, KBD_leftbracket, KBD_leftctrl, KBD_leftshift,\n    KBD_period, KBD_quote, KBD_right, KBD_rightbracket, KBD_semicolon, KBD_space,\n    KBD_tab, KBD_up,\n    KBD_kp0,\n    KBD_kp2,\n    KBD_kp1,\n    KBD_kp3,\n    KBD_kp4,\n    KBD_kp5,\n    KBD_kp6,\n    KBD_kp7,\n    KBD_kp8,\n    KBD_kp9,\n    KBD_pagedown,\n    KBD_pageup,\n    KBD_delete,\n    KBD_end,\n    KBD_home,\n    KBD_minus,\n    KBD_equals } from \"./dos/controls/keys\";\nimport { dosSlice } from \"../store/dos\";\n/* eslint-enable camelcase */\n\nexport function SoftKeyboard(props: { ci: CommandInterface | null }) {\n    const { ci } = props;\n    const visible = useSelector((state: State) => state.dos.softKeyboard);\n    const layout = useSelector((state: State) => state.dos.softKeyboardLayout);\n    const symbols = useSelector((state: State) => state.dos.softKeyboardSymbols);\n    const activeSymbols = useSelector((state: State) => state.dos.softKeyboardActiveSymbols);\n    const activeLayout = useSelector((state: State) => state.dos.softKeyboardActiveLayout);\n    const dispatch = useDispatch();\n    const display = symbols[activeSymbols % symbols.length];\n    const keyboard = layout[activeLayout % layout.length];\n\n    if (!visible || ci === null) {\n        return null;\n    }\n\n\n    function onChange(key: string, pressed: boolean) {\n        if (ci !== null) {\n            if (key === \"{symbols}\") {\n                if (pressed) {\n                    const next = (activeSymbols + 1) % symbols.length;\n                    if (next !== activeSymbols) {\n                        dispatch(dosSlice.actions.softKeyboardActiveSymbols(next));\n                    }\n                }\n            } else if (key === \"{layout}\") {\n                if (pressed) {\n                    const next = (activeLayout + 1) % layout.length;\n                    if (next !== activeLayout) {\n                        dispatch(dosSlice.actions.softKeyboardActiveLayout(next));\n                    }\n                }\n            } else {\n                for (const next of buttonToCode(key)) {\n                    ci.sendKeyEvent(next, pressed);\n                }\n            }\n        }\n    }\n\n    function short(key: string) {\n        if (key.length > 2 && key.startsWith(\"{\") && key.endsWith(\"}\")) {\n            return key[1].toUpperCase() + key.substring(2, key.length - 1);\n        }\n        return key;\n    }\n\n    return <div class=\"soft-keyboard my-4 mx-2\">\n        <div class=\"flex flex-row gap-2 flex-wrap justify-evenly items-center\">\n            {keyboard.map((layout, i) => {\n                return <div class={ \"flex flex-col gap-2 flex-wrap\" +\n                        ((keyboard.length === 1 || i === 1) ? \" items-center\" :\n                            ( i === 0 ? \" items-start\" : \" items-end\" ))\n                }>\n                    {layout.map((keys) => {\n                        return <div class=\"flex flex-row gap-2 flex-wrap items-center\">\n                            {keys.length === 0 ? <div class=\"kbd-md\" /> : keys.split(\" \").map((key) => {\n                                return <kbd class=\"kbd kbd-md cursor-pointer hover:bg-accent-focus\"\n                                    onPointerDown={() => onChange(key, true)}\n                                    onPointerUp={() => onChange(key, false)}\n                                    onPointerCancel={() => onChange(key, false)}\n                                >{ display[key] ?? symbols[0][key] ?? short(key) }</kbd>;\n                            })}\n                        </div>;\n                    })}\n                </div>;\n            })}\n        </div>\n    </div>;\n}\n\n\n/* eslint-disable camelcase */\nfunction buttonToCode(button: string): number[] {\n    switch (button) {\n        case \"{enter}\":\n            return [KBD_enter];\n        case \"{shift}\":\n            return [KBD_leftshift];\n        case \"{bksp}\":\n            return [KBD_backspace];\n        case \"{lock}\":\n            return [KBD_capslock];\n        case \"{tab}\":\n            return [KBD_tab];\n        case \"{space}\":\n            return [KBD_space];\n        case \"{esc}\":\n            return [KBD_esc];\n        case \"{ctrl}\":\n            return [KBD_leftctrl];\n        case \"{alt}\":\n            return [KBD_leftalt];\n        case \"{up}\":\n            return [KBD_up];\n        case \"{down}\":\n            return [KBD_down];\n        case \"{left}\":\n            return [KBD_left];\n        case \"{right}\":\n            return [KBD_right];\n        case \",\":\n            return [KBD_comma];\n        case \".\":\n            return [KBD_period];\n        case \"'\":\n            return [KBD_quote];\n        case \":\":\n            return [KBD_leftshift, KBD_semicolon];\n        case \"{\":\n            return [KBD_leftshift, KBD_leftbracket];\n        case \"}\":\n            return [KBD_leftshift, KBD_rightbracket];\n        case \"(\":\n            return [KBD_leftshift, KBD_9];\n        case \")\":\n            return [KBD_leftshift, KBD_0];\n        case \"{f1}\":\n            return [KBD_f1];\n        case \"{f2}\":\n            return [KBD_f2];\n        case \"{f3}\":\n            return [KBD_f3];\n        case \"{f4}\":\n            return [KBD_f4];\n        case \"{f5}\":\n            return [KBD_f5];\n        case \"{f6}\":\n            return [KBD_f6];\n        case \"{f7}\":\n            return [KBD_f7];\n        case \"{f8}\":\n            return [KBD_f8];\n        case \"{f9}\":\n            return [KBD_f9];\n        case \"{f10}\":\n            return [KBD_f10];\n        case \"{f11}\":\n            return [KBD_f11];\n        case \"{f12}\":\n            return [KBD_f12];\n        case \"{kp1}\":\n            return [KBD_kp1];\n        case \"{kp2}\":\n            return [KBD_kp2];\n        case \"{kp3}\":\n            return [KBD_kp3];\n        case \"{kp4}\":\n            return [KBD_kp4];\n        case \"{kp5}\":\n            return [KBD_kp5];\n        case \"{kp6}\":\n            return [KBD_kp6];\n        case \"{kp7}\":\n            return [KBD_kp7];\n        case \"{kp8}\":\n            return [KBD_kp8];\n        case \"{kp9}\":\n            return [KBD_kp9];\n        case \"{kp0}\":\n            return [KBD_kp0];\n        case \"{pgup}\":\n            return [KBD_pageup];\n        case \"{pgdown}\":\n            return [KBD_pagedown];\n        case \"{del}\":\n            return [KBD_delete];\n        case \"{home}\":\n            return [KBD_home];\n        case \"{end}\":\n            return [KBD_end];\n        case \"-\":\n            return [KBD_minus];\n        case \"=\":\n            return [KBD_equals];\n        case \"+\":\n            return [KBD_leftshift, KBD_equals];\n        default: {\n            if (button.length > 1) {\n                console.warn(\"Unknown button\", button);\n                return [];\n            }\n        }\n    }\n\n    const keyCode = domToKeyCode(button.toUpperCase().charCodeAt(0));\n    if (keyCode === 0) {\n        return [];\n    }\n\n    return [keyCode];\n}\n\n/* eslint-enable camelcase */\n","import { Emulators, CommandInterface, InitFs } from \"emulators\";\nimport { useEffect, useRef, useState } from \"preact/hooks\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { dosSlice } from \"../../store/dos\";\nimport { State, useNonSerializableStore, postJsDosEvent } from \"../../store\";\nimport { useDosRuntime } from \"./dos-runtime\";\nimport { dhry2Bundle, Dhry2Results } from \"./dos-dhry2\";\nimport { createWsTransportLayer } from \"../../ws/ws-transport-layer\";\nimport { actualWsVersion } from \"../../v8/config\";\nimport { uiSlice } from \"../../store/ui\";\nimport { extractLayersConfig } from \"../../layers/controls/layers-config\";\nimport { pointer } from \"./controls/mouse/pointer\";\nimport { SoftKeyboard } from \"../soft-keyboard\";\n\ndeclare const emulators: Emulators;\n\nexport function DosWindow(props: {\n}) {\n    const canvasRef = useRef<HTMLCanvasElement>(null);\n    const [ci, setCi] = useState<CommandInterface | null>(null);\n    const sockdriveWrite = useSelector((state: State) => state.dos.sockdriveWrite);\n    const accessToken = useSelector((state: State) => state.auth.account?.token);\n    const token = sockdriveWrite ? accessToken : undefined;\n    const worker = useSelector((state: State) => state.dos.worker);\n    const backend = useSelector((state: State) => state.dos.backend);\n    const backendHardware = useSelector((state: State) => state.dos.backendHardware);\n    const sockdriveNative = useSelector((state: State) => state.dos.sockdriveNative);\n    const noCursor = useSelector((state: State) => state.dos.noCursor);\n    const dispatch = useDispatch();\n    const nonSerializableStore = useNonSerializableStore();\n\n    useEffect(() => {\n        try {\n            const loadedBundle = nonSerializableStore.loadedBundle!;\n            let bundles: InitFs = (loadedBundle.bundleChanges !== null ?\n                [loadedBundle.bundle, loadedBundle.bundleChanges] :\n                loadedBundle.bundle) as any;\n\n            if (loadedBundle.initFs !== null) {\n                if (!Array.isArray(bundles)) {\n                    bundles = [bundles];\n                }\n\n                if (Array.isArray(loadedBundle.initFs)) {\n                    for (const next of loadedBundle.initFs) {\n                        bundles.push(next);\n                    }\n                } else {\n                    bundles.push(loadedBundle.initFs);\n                }\n            }\n\n            loadedBundle.bundle = null;\n            loadedBundle.bundleChanges = null;\n            loadedBundle.initFs = null;\n\n            const ci: Promise<CommandInterface> = (async () => {\n                if (backendHardware && nonSerializableStore.options.backendHardware) {\n                    const ws = await nonSerializableStore.options.backendHardware(backend, sockdriveNative);\n                    if (ws !== null) {\n                        return emulators.backend(bundles, await createWsTransportLayer(ws, (version) => {\n                            if (version < actualWsVersion) {\n                                dispatch(uiSlice.actions.updateWsWarning(true));\n                            }\n                            console.log(\"wsServer:\", version, \" expected:\", actualWsVersion);\n                        }), { token });\n                    }\n                };\n\n                return (emulators as any)[((backend !== \"dosbox\" && backend !== \"dosboxX\") ? \"dosbox\" : backend) +\n                    (worker ? \"Worker\" : \"Direct\")](bundles, {\n                    token,\n                });\n            })();\n\n            ci\n                .then((ci) => {\n                    setCi(ci);\n                    dispatch(dosSlice.actions.ci(true));\n                    if (pointer.mobile) {\n                        ci.config()\n                            .then((c) => {\n                                dispatch(dosSlice.actions.mobileControls(extractLayersConfig(c.jsdosConf) !== null));\n                            })\n                            .catch((e) => dispatch(dosSlice.actions.emuError(e.message)));\n                    }\n                    nonSerializableStore.ci = ci;\n                    postJsDosEvent(nonSerializableStore, \"ci-ready\", ci);\n                })\n                .catch((e) => dispatch(dosSlice.actions.emuError(e.message)));\n\n            return () => {\n                ci.then((ci) => {\n                    dispatch(dosSlice.actions.ci(false));\n                    nonSerializableStore.ci = null;\n                    ci.exit();\n                });\n            };\n        } catch (e) {\n            dispatch(dosSlice.actions.emuError((e as any).message));\n        }\n    }, [worker, backend, sockdriveNative, token ?? null]);\n\n    return <div class=\"flex flex-col flex-grow h-full overflow-hidden\">\n        <div class=\"bg-black h-full flex-grow overflow-hidden relative\">\n            <canvas class={ noCursor ? \"cursor-none\" : \"\" } ref={canvasRef} />\n            {canvasRef.current && ci && <DosRuntime canvas={canvasRef.current} ci={ci} />}\n        </div>\n        <SoftKeyboard ci={ci} />\n    </div>;\n}\n\nfunction DosRuntime(props: { canvas: HTMLCanvasElement, ci: CommandInterface }) {\n    const { canvas, ci } = props;\n    const bundle = useSelector((state: State) => state.dos.bundle);\n\n    useDosRuntime(canvas, ci);\n\n    return <>\n        {bundle?.endsWith(dhry2Bundle) && <Dhry2Results ci={ci} />}\n    </>;\n}\n","import { useT } from \"../i18n\";\n\nexport function Error(props: {\n    error?: string | null,\n    onSkip?: () => void,\n}) {\n    const t = useT();\n    const error = props.error ?? \"Unexpected error\";\n\n    return <div class=\"flex-grow flex flex-col items-center justify-center px-8 m-auto\">\n        <div class=\"text-2xl text-center\">{t(\"error\")}</div>\n        <div class=\"text-red-400 mt-8 text-2xl text-center\">\"{error}\"</div>\n        <div class=\"mt-8 text-sm text-center\">{t(\"consult_logs\")}</div>\n        { props.onSkip && <button class=\"mt-8 btn-primary\" onClick={props.onSkip}>{t(\"skip\")}</button> }\n    </div>;\n}\n","import { useSelector } from \"react-redux\";\nimport { Error } from \"../components/error\";\nimport { State } from \"../store\";\n\nexport function ErrorWindow() {\n    const error = useSelector((state: State) => state.dos.error);\n    return <Error error={error} />;\n}\n\n","export function Loading(props: {\n    head: string,\n    message: string,\n}) {\n    const { head, message } = props;\n\n    return <div class=\"flex flex-col items-center justify-center frame-color px-8\">\n        <div class=\"text-2xl text-center\">{head}</div>\n        <div class=\"mt-2 text-center\">{message}</div>\n    </div>;\n}\n\nexport function formatSize(size: number) {\n    if (size < 1024) {\n        return size + \"b\";\n    }\n\n    size /= 1024;\n\n    if (size < 1024) {\n        return Math.round(size) + \"kb\";\n    }\n\n    size /= 1024;\n    return Math.round(size * 10) / 10 + \"mb\";\n}\n","import { useSelector } from \"react-redux\";\nimport { formatSize, Loading } from \"../components/loading\";\nimport { useT } from \"../i18n\";\nimport { State } from \"../store\";\n\nexport function LoadingWindow() {\n    const t = useT();\n    const step = useSelector((state: State) => state.dos.step);\n    const received = useSelector((state: State) => state.storage.recived);\n    const total = useSelector((state: State) => state.storage.total);\n\n    let head = t(\"loading\");\n    let message = \"100%\";\n\n    switch (step) {\n        case \"bnd-load\": {\n            head = t(\"bundle_loading\");\n            if (received > 0) {\n                message = `${formatSize(received)} / ${formatSize(total)}`;\n\n                if (total > 0) {\n                    message += ` (${Math.round(received * 1000 / total) / 10}%)`;\n                }\n            }\n        } break;\n        case \"bnd-config\": {\n            head = t(\"bundle_config\");\n        }\n\n        default: {\n        }\n    }\n\n    return <div class=\"flex flex-col w-full h-full items-center justify-center\">\n        <Loading head={head} message={message} />\n    </div>;\n}\n","import { useDispatch, useStore } from \"react-redux\";\nimport { dosSlice } from \"../store/dos\";\nimport { useT } from \"../i18n\";\nimport { loadBundleFromFile, loadBundleFromUrl, loadEmptyBundle } from \"../player-api-load\";\nimport { useState } from \"preact/hooks\";\nimport { uiSlice } from \"../store/ui\";\nimport { Store } from \"../store\";\n\nconst fileInput = document.createElement(\"input\");\nfileInput.type = \"file\";\n\nexport function SelectWindow() {\n    const t = useT();\n    const store = useStore() as Store;\n    const [useUrl, setUseUrl] = useState<boolean>(false);\n\n    if (useUrl) {\n        return <div class=\"select-window overflow-hidden flex-grow flex flex-col items-center justify-center px-8 py-8\">\n            <Load />\n        </div>;\n    }\n\n    async function createEmpty() {\n        try {\n            await loadEmptyBundle(store).catch(console.error);\n        } catch (e: any) {\n            store.dispatch(dosSlice.actions.bndError(e.message ?? \"unexpected error\"));\n        }\n    }\n\n    return <div class=\"select-window overflow-hidden flex-grow flex flex-col items-center justify-center px-8\">\n        <div class=\"mb-4 text-center underline cursor-pointer hover:text-accent\"\n            onClick={() => setUseUrl(true)}>{t(\"load_by_url\")}</div>\n        <Upload />\n        <div class=\"mt-4 text-center\">{t(\"upload_file\")}</div>\n        <div class=\"mt-4 text-center underline cursor-pointer hover:text-accent\"\n            onClick={createEmpty}>{t(\"create_empty\")}</div>\n    </div>;\n}\n\nfunction Load() {\n    const t = useT();\n    const store = useStore();\n    const dispatch = useDispatch();\n    const [url, setUrl] = useState<string>(\"\");\n    const [error, setError] = useState<string | null>(null);\n\n    async function loadBundle(url: string) {\n        dispatch(uiSlice.actions.frameNone());\n\n        let validUrl;\n        try {\n            validUrl = new URL(url);\n        } catch (e: any) {\n            setError(e.message);\n            return;\n        }\n\n        try {\n            await loadBundleFromUrl(validUrl.toString(), store);\n        } catch (e: any) {\n            dispatch(dosSlice.actions.bndError(e.message ?? \"unexpected error\"));\n        }\n    }\n\n    return <>\n        <div class=\"form-control w-3/4 mb-4\">\n            <label class=\"label\">\n                <span class=\"label-text\">{t(\"enter_url\")}:</span>\n            </label>\n            <input type=\"text\"\n                class=\"input w-full input-sm input-bordered\"\n                onChange={(e) => setUrl(e.currentTarget.value ?? \"\")}\n                value={url}></input>\n        </div>\n        <div class=\"mt-4 text-center underline cursor-pointer hover:text-accent\"\n            onClick={() => loadBundle(url)}>{t(\"load\")}</div>\n        {error !== null &&\n            <div class=\"mt-8 text-center text-error\">\n                {error}\n            </div>\n        }\n    </>;\n}\n\nfunction Upload() {\n    const store = useStore() as Store;\n\n    async function onFileChange() {\n        fileInput.removeEventListener(\"change\", onFileChange);\n\n        if (fileInput.files === null || fileInput.files.length === 0) {\n            return;\n        }\n\n        const file = fileInput.files[0];\n        try {\n            await loadBundleFromFile(file, store).catch((e) => store.dispatch(dosSlice.actions.bndError(e.message)));\n        } catch (e: any) {\n            store.dispatch(dosSlice.actions.bndError(e.message ?? \"unexpected error\"));\n        }\n    }\n\n    function onUpload() {\n        fileInput.addEventListener(\"change\", onFileChange);\n        fileInput.click();\n    }\n\n    return <div class=\"cursor-pointer\" onClick={onUpload}>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\"\n            viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-48 h-48 play-button\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M9 13.5l3 3m0 0l3-3m-3\n                3v-6m1.06-4.19l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25\n                2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5\n                1.5 0 01-1.06-.44z\" />\n        </svg>\n    </div>;\n}\n","import { useSelector } from \"react-redux\";\nimport { State } from \"../store\";\nimport { DosWindow } from \"./dos/dos-window\";\nimport { ErrorWindow } from \"./error-window\";\nimport { LoadingWindow } from \"./loading-window\";\nimport { PreRunWindow } from \"./prerun-window\";\nimport { SelectWindow } from \"./select-window\";\n\nexport function Window(props: {}) {\n    const frameOpened = useSelector((state: State) => state.ui.frame) !== \"none\";\n    const frameXs = useSelector((state: State) => state.ui.frameXs);\n    const window = useSelector((state: State) => state.ui.window);\n    const background = useSelector((state: State) => state.ui.background);\n    const kiosk = useSelector((state: State) => state.ui.kiosk);\n\n    let windowComponent = <Loading />;\n    switch (window) {\n        case \"error\": {\n            windowComponent = <ErrorWindow />;\n        } break;\n        case \"loading\": {\n            windowComponent = <LoadingWindow />;\n        } break;\n        case \"prerun\": {\n            windowComponent = <PreRunWindow />;\n        } break;\n        case \"run\": {\n            windowComponent = <DosWindow />;\n        } break;\n        case \"select\": {\n            windowComponent = <SelectWindow />;\n        } break;\n        default: ;\n    };\n\n    return <div class=\"window absolute w-full h-full bg-base-100\">\n        <div class=\"background-image\"\n            style={{ backgroundImage: (background ? \"url(\" + background + \")\" : undefined ) }} />\n        <div class=\"relative flex flex-row h-full w-full items-start justify-start overflow-auto\">\n            {/* !!! UWAGA WARNING CUSTOMIZATION !!! */}\n            {/* { !kiosk && <div class={(frameOpened ? (frameXs ? \"w-24\" : \"w-96\") : \"w-12\") + \" flex-shrink-0\"}></div> } */}\n            {windowComponent}\n        </div>\n    </div>;\n}\n\nfunction Loading() {\n    return <div class=\"w-full h-full flex justify-center items-center\">\n        <div class=\"radial-progress animate-spin\" style=\"--value:70;\"></div>\n    </div>;\n}\n","import { useEffect, useRef } from \"preact/hooks\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Frame } from \"./frame/frame\";\nimport { SideBar } from \"./sidebar/sidebar\";\nimport { State } from \"./store\";\nimport { uiSlice } from \"./store/ui\";\nimport { Window } from \"./window/window\";\nimport { useT } from \"./i18n\";\n\nlet currentWideScreen = uiSlice.getInitialState().wideScreen;\nexport function Ui() {\n    const rootRef = useRef<HTMLDivElement>(null);\n    const hidden = useSelector((state: State) => state.ui.hidden);\n    const theme = useSelector((state: State) => state.ui.theme);\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        if (hidden || rootRef === null || rootRef.current === null) {\n            return;\n        }\n\n        const root = rootRef.current;\n        function onResize() {\n            const size = root.getBoundingClientRect().width;\n            const wide = size > 640;\n            if (wide !== currentWideScreen) {\n                currentWideScreen = wide;\n                dispatch(uiSlice.actions.setWideScreen(currentWideScreen));\n            }\n        }\n\n        const resizeObserver = new ResizeObserver(onResize);\n        resizeObserver.observe(root);\n        window.addEventListener(\"resize\", onResize);\n\n        return () => {\n            resizeObserver.disconnect();\n            window.removeEventListener(\"resize\", onResize);\n        };\n    }, [hidden, rootRef, dispatch]);\n\n    if (hidden) {\n        return null;\n    }\n\n    return <div\n        ref={rootRef}\n        class=\"w-full h-full relative\"\n        data-theme={theme}>\n        <Window />\n        <Frame />\n        <SideBar />\n        <Toast />\n        <UpdateWsWarning />\n    </div>;\n};\n\nfunction Toast() {\n    const toast = useSelector((state: State) => state.ui.toast);\n    const intent = useSelector((state: State) => state.ui.toastIntent);\n    const intentClass = intent === \"panic\" ? \"error\" : intent;\n\n    if (toast === null) {\n        return null;\n    }\n\n    let path = <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n        d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"></path>;\n\n    if (intent === \"warning\") {\n        path = <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374\n                    1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697\n                    16.126ZM12 15.75h.007v.008H12v-.008Z\" />;\n    }\n\n    if (intent === \"error\" || intent === \"panic\") {\n        path = <path stroke-linecap=\"round\" stroke-linejoin=\"round\"\n            d=\"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z\" />;\n    }\n\n    return <div class=\"absolute right-10 bottom-10\">\n        <div class={ \"alert alert-\" + intentClass + \" text-\" + intentClass + \"-content\" }>\n            <svg xmlns=\"http://www.w3.org/2000/svg\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n                class=\"shrink-0 w-6 h-6\">\n                {path}\n            </svg>\n            <span class=\"break-words\">{toast}</span>\n        </div>\n    </div>;\n}\n\nfunction UpdateWsWarning() {\n    const updateWsWarning = useSelector((state: State) => state.ui.updateWsWarning);\n    const t = useT();\n    const dispatch = useDispatch();\n\n    if (!updateWsWarning) {\n        return null;\n    }\n\n    function fix() {\n        window.open(\"https://dos.zone/download/\", \"_blank\");\n        dispatch(uiSlice.actions.updateWsWarning(false));\n    }\n\n    function close() {\n        dispatch(uiSlice.actions.updateWsWarning(false));\n    }\n\n    return <div class=\"absolute left-20 right-10 top-10 flex justify-center\">\n        <div class=\"alert w-auto\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\n                stroke-width=\"1.5\" stroke=\"currentColor\" class=\"size-6 text-error\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M12 9v3.75m-9.303 3.376c-.866 1.5.217\n                    3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898\n                    0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z\" />\n            </svg>\n            <span>{t(\"ws_outdated\")}</span>\n            <div>\n                <button class=\"btn btn-sm btn-primary mr-2\" onClick={fix}>{t(\"update\")}</button>\n                <button class=\"btn btn-sm\" onClick={close}>{t(\"close\")}</button>\n            </div>\n        </div>\n    </div>;\n}\n","import { render } from \"preact\";\nimport \"./index.css\";\n\nimport { Provider } from \"react-redux\";\nimport { Ui } from \"./ui\";\nimport { dosSlice, RenderAspect } from \"./store/dos\";\nimport { initEmulators } from \"./store/dos\";\n// eslint-disable-next-line\nimport { uiSlice } from \"./store/ui\";\nimport { i18nSlice } from \"./i18n\";\nimport { getCache } from \"./host/lcache\";\nimport { loadBundleFromConfg, loadBundleFromUrl } from \"./player-api-load\";\n\nimport { DosOptions, DosProps, DosFn, ImageRendering, RenderBackend } from \"./public/types\";\nimport { browserSetFullScreen } from \"./host/fullscreen\";\nimport { NonSerializableStore, State, Store, getNonSerializableStore,\n    getState,\n    makeNonSerializableStore, makeStore, postJsDosEvent } from \"./store\";\nimport { apiSave } from \"./player-api\";\nimport { authSlice, loadAccount } from \"./store/auth\";\n\nexport const Dos: DosFn = (element: HTMLDivElement,\n    options: Partial<DosOptions> = {}): DosProps => {\n    const nonSerializableStore = makeNonSerializableStore(options);\n    const store = makeStore(nonSerializableStore, options);\n    const cache = getCache(\"guest\");\n\n\n    if (getState(store).auth.account?.email === \"dz.caiiiycuk@gmail.com\") {\n        store.dispatch(dosSlice.actions.setSockdriveWrite(false));\n    }\n\n    setupRootElement(element, nonSerializableStore, store);\n\n    let pollStep = \"none\";\n    function pollEvents() {\n        (async () => {\n            const state = getState(store);\n            const step = state.dos.step;\n\n            if (step === pollStep) {\n                return;\n            }\n            pollStep = step;\n\n            switch (state.dos.step) {\n                case \"bnd-ready\": {\n                    if (options.mouseCapture !== undefined) {\n                        setMouseCapture(options.mouseCapture);\n                    }\n                } break;\n                case \"emu-ready\": {\n                    nonSerializableStore.cache = await cache;\n                    if (nonSerializableStore.options.url) {\n                        try {\n                            await loadBundleFromUrl(nonSerializableStore.options.url, store);\n                        } catch (e: any) {\n                            store.dispatch(dosSlice.actions.bndError(e.message));\n                        }\n                    } else if (nonSerializableStore.options.dosboxConf) {\n                        const jsdosConf = nonSerializableStore.options.jsdosConf ?? {\n                            version: \"8\",\n                        };\n                        if (!jsdosConf.version) {\n                            jsdosConf.version = \"8\";\n                        }\n                        loadBundleFromConfg({\n                            dosboxConf: nonSerializableStore.options.dosboxConf,\n                            jsdosConf,\n                        }, nonSerializableStore.options.initFs ?? null, store);\n                    } else {\n                        store.dispatch(uiSlice.actions.windowSelect());\n                    }\n\n                    postJsDosEvent(nonSerializableStore, \"emu-ready\");\n                } break;\n            };\n        })().catch(console.error);\n    }\n    store.subscribe(pollEvents);\n\n    initEmulators(store, options.pathPrefix ?? \"https://v8.js-dos.com/latest/emulators/\");\n\n    function setTheme(theme: DosOptions[\"theme\"]) {\n        store.dispatch(uiSlice.actions.theme(theme));\n    }\n\n    function setLang(lang: DosOptions[\"lang\"]) {\n        store.dispatch(i18nSlice.actions.setLang(lang));\n    }\n\n    function setBackend(backend: DosOptions[\"backend\"]) {\n        store.dispatch(dosSlice.actions.dosBackend(backend));\n    }\n\n    function setBackendLocked(locked: boolean) {\n        store.dispatch(dosSlice.actions.dosBackendLocked(locked));\n    }\n\n    function setWorkerThread(workerThread: DosOptions[\"workerThread\"]) {\n        store.dispatch(dosSlice.actions.dosWorker(workerThread));\n    }\n\n    function setMouseCapture(capture: DosOptions[\"mouseCapture\"]) {\n        store.dispatch(dosSlice.actions.mouseCapture(capture));\n    }\n\n    function setServer(server: DosOptions[\"server\"]) {\n        store.dispatch(dosSlice.actions.setServer(server));\n    }\n\n    function setRoom(room: DosOptions[\"room\"]) {\n        store.dispatch(dosSlice.actions.setRoom(room));\n    }\n\n    function setFrame(frame: \"network\") {\n        store.dispatch(uiSlice.actions.frameNetwork());\n    }\n\n    function setBackground(background: string) {\n        store.dispatch(uiSlice.actions.background(background));\n    }\n\n    function setFullScreen(fullScreen: boolean) {\n        browserSetFullScreen(fullScreen, store);\n    }\n\n    function setAutoStart(autoStart: boolean) {\n        store.dispatch(uiSlice.actions.autoStart(autoStart));\n    }\n\n    function setKiosk(kiosk: boolean) {\n        store.dispatch(uiSlice.actions.kiosk(kiosk));\n    }\n\n    function setImageRendering(imageRendering: ImageRendering) {\n        store.dispatch(dosSlice.actions.imageRendering(imageRendering));\n    }\n\n    function setRenderBackend(backend: RenderBackend) {\n        store.dispatch(dosSlice.actions.renderBackend(backend));\n    }\n\n    function setRenderAspect(aspect: RenderAspect) {\n        store.dispatch(dosSlice.actions.renderAspect(aspect));\n    }\n\n    function setNoNetworking(networking: boolean) {\n        store.dispatch(uiSlice.actions.noNetworking(networking));\n    }\n\n    function setNoCloud(cloud: boolean) {\n        store.dispatch(uiSlice.actions.noCloud(cloud));\n    }\n\n    function setPaused(paused: boolean) {\n        store.dispatch(dosSlice.actions.paused(paused));\n    }\n\n    function setScaleControls(scale: number) {\n        store.dispatch(dosSlice.actions.scaleControls(scale));\n    }\n\n    function setMouseSensitivity(sensitivity: number) {\n        store.dispatch(dosSlice.actions.mouseSensitivity(sensitivity));\n    }\n\n    function setNoCursor(noCursor: boolean) {\n        store.dispatch(dosSlice.actions.noCursor(noCursor));\n    }\n\n    function setSoftKeyboardLayout(layout: string[] | string[][][]) {\n        store.dispatch(dosSlice.actions.softKeyboardLayout(layout));\n    }\n\n    function setSoftKeyboardSymbols(symbols: {[key: string]: string}[]) {\n        store.dispatch(dosSlice.actions.softKeyboardSymbols(symbols));\n    }\n\n    function setVolume(volume: number) {\n        store.dispatch(dosSlice.actions.volume(volume));\n    }\n\n    function setKey(key: string | null) {\n        if (key === null || key.length !== 5) {\n            store.dispatch(authSlice.actions.setAccount(null));\n        } else {\n            loadAccount(key).then(({ account }) => {\n                store.dispatch(authSlice.actions.setAccount(account));\n            }).catch(console.error);\n        }\n    }\n\n    if (options.theme) {\n        setTheme(options.theme);\n    }\n\n    if (options.lang) {\n        setLang(options.lang);\n    }\n\n    if (options.backend) {\n        setBackend(options.backend);\n    }\n\n    if (options.backendLocked) {\n        setBackendLocked(options.backendLocked);\n    }\n\n    if (options.workerThread !== undefined) {\n        setWorkerThread(options.workerThread);\n    }\n\n    if (options.server) {\n        setServer(options.server);\n    }\n\n    if (options.room) {\n        setRoom(options.room);\n    }\n\n    if (options.background) {\n        setBackground(options.background);\n    }\n\n    if (options.fullScreen !== undefined) {\n        setFullScreen(options.fullScreen);\n    }\n\n    if (options.autoStart !== undefined) {\n        setAutoStart(options.autoStart);\n    }\n\n    if (options.kiosk !== undefined) {\n        setKiosk(options.kiosk);\n    }\n\n    if (options.imageRendering !== undefined) {\n        setImageRendering(options.imageRendering);\n    }\n\n    if (options.renderBackend !== undefined) {\n        setRenderBackend(options.renderBackend);\n    }\n\n    if (options.renderAspect !== undefined) {\n        setRenderAspect(options.renderAspect);\n    }\n\n    if (options.noNetworking !== undefined) {\n        setNoNetworking(options.noNetworking);\n    }\n\n    if (options.noCloud !== undefined) {\n        setNoCloud(options.noCloud);\n    }\n\n    if (options.scaleControls !== undefined) {\n        setScaleControls(options.scaleControls);\n    }\n\n    if (options.mouseSensitivity !== undefined) {\n        setMouseSensitivity(options.mouseSensitivity);\n    }\n\n    if (options.noCursor !== undefined) {\n        setNoCursor(options.noCursor);\n    }\n\n    if (options.softKeyboardLayout !== undefined) {\n        setSoftKeyboardLayout(options.softKeyboardLayout);\n    }\n\n    if (options.softKeyboardSymbols !== undefined) {\n        setSoftKeyboardSymbols(options.softKeyboardSymbols);\n    }\n\n    if (options.volume !== undefined) {\n        setVolume(options.volume);\n    }\n\n    if (options.key !== undefined) {\n        setKey(options.key);\n    }\n\n    render(\n        <Provider store={store}>\n            {<Ui /> as any}\n        </Provider>,\n        element,\n    );\n\n    return {\n        setTheme,\n        setLang,\n        setBackend,\n        setBackendLocked,\n        setWorkerThread,\n        setMouseCapture,\n        setServer,\n        setRoom,\n        setFrame,\n        setBackground,\n        setFullScreen,\n        setAutoStart,\n        setKiosk,\n        setImageRendering,\n        setRenderBackend,\n        setRenderAspect,\n        setNoNetworking,\n        setNoCloud,\n        setPaused,\n        setScaleControls,\n        setMouseSensitivity,\n        setNoCursor,\n        setSoftKeyboardLayout,\n        setSoftKeyboardSymbols,\n        setVolume,\n        setKey,\n\n        save: () => {\n            return apiSave(getState(store) as any as State, nonSerializableStore, store.dispatch);\n        },\n        stop: async () => {\n            store.dispatch(uiSlice.actions.hidden(true));\n            const nonSerializableStore = getNonSerializableStore(store);\n            if (nonSerializableStore.ci) {\n                return nonSerializableStore.ci.exit();\n            }\n        },\n    };\n};\n\nfunction setupRootElement(root: HTMLDivElement, nonSerializableStore: NonSerializableStore, store: Store) {\n    nonSerializableStore.root = root;\n    root.classList.add(\"jsdos-rso\");\n    root.addEventListener(\"contextmenu\", (e) => {\n        if (e.target !== null &&\n            (e.target as HTMLElement).classList?.contains(\"contextmenu\")) {\n            return;\n        }\n        e.stopPropagation();\n        e.preventDefault();\n        return false;\n    });\n    document.addEventListener(\"fullscreenchange\", () => {\n        const fullscreen = document.fullscreenElement === root;\n        store.dispatch(uiSlice.actions.setFullScreen(fullscreen));\n        if (!fullscreen) {\n            apiSave(getState(store) as any, nonSerializableStore, store.dispatch);\n        }\n    });\n    document.addEventListener(\"pointerlockchange\", () => {\n        if (document.pointerLockElement === null) {\n            apiSave(getState(store) as any, nonSerializableStore, store.dispatch);\n        }\n    });\n    function listen() {\n        store.dispatch(uiSlice.actions.documentHidden(document.hidden));\n    };\n    document.addEventListener(\"visibilitychange\", listen);\n}\n\n(window as any).Dos = Dos;\n"],"names":["n","l","u","i","o","r","f","e","c","s","a","h","Array","isArray","v","p","parentNode","removeChild","y","t","arguments","length","children","call","defaultProps","d","type","props","key","ref","__k","__","__b","__e","__d","__c","constructor","__v","__i","__u","vnode","_","current","g","b","this","context","m","k","base","w","push","x","__r","debounceRendering","sort","shift","__P","L","__n","ownerSVGElement","M","C","String","H","N","P","z","S","nextSibling","insertBefore","$","some","I","setProperty","test","T","style","cssText","replace","toLowerCase","slice","Date","now","addEventListener","D","A","removeEventListener","removeAttribute","setAttribute","event","contextType","value","__E","prototype","render","O","sub","state","__h","_sb","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","forEach","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","indexOf","localName","nodeType","document","createTextNode","createElementNS","createElement","is","data","childNodes","attributes","name","__html","innerHTML","j","diffed","l$5","unmount","componentWillUnmount","q","firstChild","B","E","F","Consumer","Provider","splice","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","Promise","then","bind","resolve","setTimeout","__H","__V","__N","filter","every","o$1","concat","useDebugValue","V","__m","r$4","requestAnimationFrame","clearTimeout","cancelAnimationFrame","displayName","isReactComponent","__f","isPureReactComponent","R","Symbol","for","$$typeof","map","count","only","toArray","appendChild","U","__a","default","__R","__O","pop","fallback","delete","revealOrder","size","W","q$7","containerInfo","get","Map","reverse","set","Z","Y","textContent","G","Object","defineProperty","configurable","writable","J","K","Q","cancelBubble","X","defaultPrevented","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","nn","tn","enumerable","class","en","multiple","selected","defaultValue","className","rn","un","on","ReactCurrentDispatcher","readContext","cn","fn","an","sn","apply","hn","vn","dn","pn","mn","yn","_n","bn","Sn","gn","Cn","En","wn","useState","useId","useReducer","useEffect","useLayoutEffect","useInsertionEffect","useTransition","useDeferredValue","useSyncExternalStore","startTransition","useRef","useImperativeHandle","useMemo","useCallback","useContext","version","Children","hydrate","unmountComponentAtNode","createPortal","createContext","createFactory","cloneElement","createRef","Fragment","isValidElement","isElement","isFragment","findDOMNode","Component","PureComponent","memo","forwardRef","flushSync","unstable_batchedUpdates","StrictMode","Suspense","SuspenseList","lazy","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","require$$0","getSnapshot","window","inst","useSyncExternalStoreShim_production_min","shimModule","exports","require$$1","withSelector_production_min","useSyncExternalStoreWithSelector","hasValue","withSelectorModule","batch","callback","getBatch","ContextKey","gT","globalThis","getContext","_gT$ContextKey","React.createContext","contextMap","realContext","ReactReduxContext","createReduxContextHook","useReduxContext","Error","refEquality","createSelectorHook","useDefaultReduxContext","selector","equalityFnOrOptions","equalityFn","stabilityCheck","noopCheck","store","subscription","getServerState","globalStabilityCheck","globalNoopCheck","wrappedSelector","selectedState","addNestedSub","getState","useSelector","reactIs_production_min","AsyncMode","ConcurrentMode","ContextProvider","Element","ForwardRef","Memo","Portal","Profiler","isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isForwardRef","isLazy","isMemo","isProfiler","isStrictMode","isSuspense","isValidElementType","typeOf","reactIsModule","reactIs","TYPE_STATICS","propTypes","compare","ContextConsumer","Lazy","isPortal","isSuspenseList","getModuleId","nullListeners","notify","createSubscription","parentSub","unsubscribe","listeners","subscriptionsAmount","selfSubscribed","handleChangeWrapper","onStateChange","trySubscribe","subscribe","first","last","clear","listener","next","isSubscribed","prev","createListenerCollection","tryUnsubscribe","cleanupListener","removed","notifyNestedSubs","getListeners","useIsomorphicLayoutEffect","React.useLayoutEffect","React.useEffect","serverState","contextValue","React.useMemo","previousState","React.createElement","createStoreHook","useStore","createDispatchHook","useDefaultStore","dispatch","useDispatch","join","getPrototypeOf","hasOwnProperty","Function","toString","keys","t2","has","add","Set","create","freeze","isFrozen","n2","e2","getOwnPropertyDescriptor","Proxy","revocable","revoke","proxy","u2","e3","from","Reflect","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","getOwnPropertyDescriptors","Number","isNaN","deleteProperty","setPrototypeOf","produce","produceWithPatches","useProxies","setUseProxies","autoFreeze","setAutoFreeze","createDraft","finishDraft","applyPatches","path","op","_typeof","obj","iterator","_toPropertyKey","arg","input","hint","prim","toPrimitive","res","TypeError","_defineProperty","toPropertyKey","object","enumerableOnly","symbols","sym","_objectSpread2","target","source","defineProperties","formatProdErrorMessage","code","$$observable","observable","randomString","Math","random","substring","split","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","createStore","reducer","preloadedState","enhancer","_ref2","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","index","action","proto","isPlainObject","replaceReducer","nextReducer","_ref","outerSubscribe","observer","observeState","combineReducers","reducers","reducerKeys","finalReducers","shapeAssertionError","finalReducerKeys","assertReducerShape","hasChanged","nextState","_i","_key","previousStateForKey","nextStateForKey","compose","_len","funcs","reduce","applyMiddleware","middlewares","_dispatch","middlewareAPI","chain","middleware","_objectSpread","createThunkMiddleware","extraArgument","thunk","withExtraArgument","__extends","extendStatics","__proto__","__generator","thisArg","body","label","sent","trys","ops","verb","throw","return","done","step","__spreadArray","to","il","__defProp","__defProps","__getOwnPropDescs","__getOwnPropSymbols","__hasOwnProp","__propIsEnum","propertyIsEnumerable","__defNormalProp","__spreadValues","prop","_c","__spreadProps","composeWithDevTools","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","createAction","prepareAction","actionCreator","args","prepared","payload","meta","error","match","MiddlewareArray","_super","_this","species","MiddlewareArray2","arr","prepend","EnhancerArray","EnhancerArray2","freezeDraftable","val","isDraftable","createNextState","curryGetDefaultMiddleware","options","immutableCheck","serializableCheck","actionCreatorCheck","middlewareArray","thunkMiddleware","getDefaultMiddleware","IS_PRODUCTION","configureStore","rootReducer","curriedGetDefaultMiddleware","_d","_e","_f","devTools","_g","_h","enhancers","baseProto","finalMiddleware","middlewareEnhancer","finalCompose","compose2","trace","defaultEnhancers","storeEnhancers","executeReducerBuilderCallback","builderCallback","defaultCaseReducer","actionsMap","actionMatchers","builder","addCase","typeOrActionCreator","addMatcher","matcher","addDefaultCase","createSlice","initialState","_reducer","reducerNames","sliceCaseReducersByName","sliceCaseReducersByType","actionCreators","buildReducer","extraReducers","finalCaseReducers","mapOrBuilderCallback","getInitialState","finalActionMatchers","finalDefaultCaseReducer","frozenInitialState_1","caseReducers","cr","caseReducer","result","isDraft2","isDraftable2","createNextState2","draft","createReducer","actionMatchers_1","reducerName","prepareCallback","maybeReducerWithPrepare","prepare","actions","commonProperties","RejectWithValue","FulfillWithMeta","miniSerializeError","simpleError","commonProperties_1","property","message","unwrapResult","rejectedWithValue","createAsyncThunk2","typePrefix","payloadCreator","fulfilled","requestId","requestStatus","pending","rejected","serializeError","aborted","condition","AC","AbortController","class_1","signal","dispatchEvent","onabort","reason","throwIfAborted","abort","assign","extra","abortReason","idGenerator","id","nanoid","abortController","promise2","__this","__arguments","generator","_a","_b","finalAction","conditionResult","abortedPromise","err_1","reject","getPendingMeta","race","rejectWithValue","fulfillWithValue","dispatchConditionRejection","unwrap","withTypes","alm","queueMicrotask","global","r3","min","enableES5","translations","ru","hello","hello_guest","mobile_controls","mirrored_controls","scale_controls","enter_name_of_drive","ws_outdated","update","preloading_sockdrive","logout","features","premium","buy","experimental_features","cloud_saves","writeable_fat32","net_no_limits","unlock_options","consult_logs","bundle_loading","bundle_config","try_free","upload_file","emulation_backend","render_backend","render_aspect","worker","mouse_sensitivity","mouse_lock","volume","pause","dosboxconf_template","preview","continue","skip","loading","extract_loading","extract_long_time","theme","create_empty","uploading_file","fs_restart","please_wait","making_bundle","room","server","load_by_url","enter_url","load","stored","editor","download","changes","loading_saves","success","success_save","warn_save","unable_to_save","not_premium","copy_net_link","copied","image_rendering","read_only_access","fix","close","cancle","manage","unable_to_cancle_subscription","subscription_cancelled","hardware","net_drives","fat_write","play","system_cursor","no_cloud_access","no_cloud_access2","sockdrive_native","initialLang","navigator","language","startsWith","i18nSlice","lang","setLang","useT","i18n","dosboxconf","backend","contents","editorSlice","configChanged","bundleConfig","errorMessage","fs","init","dosboxConf","jsdosConf","MemStorage","__publicField","storage","setItem","getItem","undefined","removeItem","lStorage","prefix","localStorage","testBackend","sync","testKey","readedValue","setLocalStoragePrefix","toRemove","writeStringToKey","offset","substr","NEXT_PART_SYMBOL","NEXT_PART_SYFFIX","readStringFromKey","ThemeValues","uiSlice","hidden","frame","frameXs","wideScreen","fullScreen","toast","toastIntent","toastTimeoutId","background","updateWsWarning","cloudSaves","autoStart","kiosk","documentHidden","noNetworking","noCloud","warnOnKey","warnOnPremium","frameNone","frameSettings","frameNetwork","frameStats","frameConf","frameFs","frameFatDrives","framePreRun","windowSelect","setEditor","setWideScreen","setFullScreen","showToast","clearInterval","intent","asyncStore","hideToast","long","dosSlice","bndPlay","endsWith","uploadsS3Bucket","uploadsS3Url","uploadNamspace","apiEndpoint","presignPut","tokenGet","brCdn","actualWsVersion","cachedAccount","authSlice","account","json","JSON","parse","email","token","setAccount","stringify","setSockdriveWrite","storageSlice","recived","total","ready","reset","progress","CacheNoop","put","del","each","LCache","owner","onready","onerror","indexedDB","mozIndexedDB","webkitIndexedDB","msIndexedDB","openRequest","open","onsuccess","db","onupgradeneeded","createObjectStore","storeName","createIndex","unique","multiEntry","request","transaction","objectStore","buffer","rejectOrResolve","Uint8Array","getAllKeys","openCursor","cursor","sockdriveBackendNames","sockdriveBackend","sockdriveEndpoint","sockdriveWssEndpoint","localhost","storeUid","createInitSlice","uid","sockdriveBackendName","setSockdriveBackendName","initSlice","dosMiddleware","actionWithAsyncDispatch","nonSerializableStoreMap","getNonSerializableStore","storeOrState","useNonSerializableStore","postJsDosEvent","nonSerializableStore","ci","onEvent","alphabet","BackendValues","RenderBackendValues","RenderAspectValues","FitConstant","ImageRenderingValues","emuVersion","bundle","config","backendLocked","backendHardware","renderBackend","renderAspect","parseFloat","mobileControls","mirroredControls","scaleControls","mouseSensitivity","mouseCapture","paused","stats","cyclesPerMs","nonSkippableSleepPreSec","sleepPerSec","sleepTimePerSec","framePerSec","soundPerSec","msgSentPerSec","msgRecvPerSec","netRecv","netSent","driveSent","driveRecv","driveRecvTime","driveCacheHit","driveCacheMiss","driveCacheUsed","driveBufferedAmount","driveIo","network","randomSymbol","ipx","ciStartedAt","imageRendering","sockdriveWrite","sockdriveInfo","sockdriveNative","softKeyboard","softKeyboardLayout","softKeyboardSymbols","softKeyboardActiveSymbols","softKeyboardActiveLayout","noCursor","emuReady","emuError","bndLoad","bndError","bndConfig","bndReady","dosWorker","dosBackend","dosBackendLocked","dosBackendHardware","connectIpx","address","canonicalAddress","networkConnect","replaceAll","statusIpx","catch","console","disconnectIpx","networkDisconnect","setRoom","setServer","setSockdriveNative","addSockdriveInfo","emulatorsReady","initEmulators","pathPrefix","async","querySelector","script","src","onload","emulators","err","head","initEmulatorsJs","round","getChangesUrl","bundleUrl","personalBundleKey","lastIndexOf","basename","getPersonalBundleKey","apiSave","changesUrl","loadedBundle","bundleChangesUrl","ui","getT","auth","canDoCloudSaves","putChanges","response","fetch","encodeURIComponent","post","formData","FormData","entries","fields","append","Blob","url","method","status","statusText","cache","sockdriveImgmount","RegExp","loadBundleFromFile","file","doLoadBundle","bundleFromFile","reader","FileReader","loaded","readAsArrayBuffer","loadBundleFromUrl","bundleFromUrl","lenHeader","headers","parseInt","getReader","received","chunks","read","bytes","complete","bundleFromChanges","arrayBuffer","changesProducer","bundleName","bundlePromise","bundleChangesPromise","bundleChanges","syncWithConfig","initFs","applySockdriveOptionsIfNeeded","__source","__self","cleanup","EditorConf","dos","myDrives","setMyDrives","parseSockDrives","conf","drives","exec","num","drive","sockdrives","setSockdrives","setSockdrivesAndUpdateConf","parts","values","start","footer","trim","updateDosboxConf","changeConfig","newConf","_jsxs","_jsx","onClick","_Fragment","xmlns","fill","viewBox","stroke","onChange","newSockdrives","currentTarget","tabIndex","role","parentElement","blur","self","__data__","toStringTag","valueOf","byteLength","byteOffset","ArrayBuffer","IE_PROTO","hash","string","nmd","process","require","types","binding","Buffer","isBuffer","isTypedArray","Cache","resetWarningCache","isRequired","array","bigint","bool","func","number","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","__esModule","paths","xe","expandNodesToLevel","me","crypto","getRandomValues","toUpperCase","construct","sham","Boolean","ReferenceError","title","ALL","PARENT","LEAF","stack","flatNodes","disabled","noCascade","nodeHasChildren","parent","isChild","isParent","isLeaf","showCheckbox","getDisabledState","treeDepth","flattenNodes","expanded","toggleNode","toggleChecked","toggleParentStatus","isEveryChildChecked","getNode","checked","updateDeterminateProperty","indeterminate","checkbox","check","uncheck","halfCheck","expandClose","expandOpen","expandAll","collapseAll","parentClose","parentOpen","leaf","toggle","onCheck","onCheckboxKeyPress","onCheckboxKeyUp","onExpand","getCheckState","which","preventDefault","keyCode","includes","expandOnClick","optimisticToggle","expandDisabled","renderCollapseIcon","icons","icon","onKeyPress","treeId","htmlFor","onKeyUp","renderCheckboxIcon","showNodeIcon","renderNodeIcon","renderCheckboxLabel","renderBareLabel","renderCollapseButton","renderLabel","renderChildren","ee","te","re","ne","oe","ie","ae","ce","se","le","ye","ue","pe","de","he","be","fe","nodes","deserializeLists","model","prevProps","onNodeClick","onExpandAll","onCollapseAll","combineMemorized","checkModel","clone","serializeList","expandAllNodes","isSomeChildChecked","checkState","onlyLeafCheckboxes","showNodeTitle","renderTreeNodes","determineShallowCheckState","showExpandAll","nameAsArray","renderArrayHiddenInput","renderJoinedHiddenInput","direction","iconsClass","nativeCheckboxes","renderExpandAll","renderHiddenInput","setProps","ve","ge","downloadArrayToFs","fileName","blob","targetBlank","href","display","click","remove","downloadUrlToFs","URL","createObjectURL","EditorFsFrame","haveCi","fsSize","setFsSize","fsTree","_setFsTree","setExpanded","setChecked","uploadingFile","setUploadingFile","makingBundle","setMakingBundle","setFsTree","calcFsSize","cancled","tree","toNodes","Actions","onRefresh","onUploadingFile","onMakingBundle","CheckboxTree","FolderOpened","FolderClosed","nodeSorter","toNode","fsNode","fullPath","nodeExt","uploadDirRef","uploadFileRef","onUploadClick","onUpload","files","webkitRelativePath","relPath","fsWriteFile","stream","confirm","loadBundle","openConfig","localeCompare","Select","multiline","selectClass","onSelect","BackendSelect","locked","OptionSelect","newValue","RenderSelect","RenderAspectSelect","ImageRenderingSelect","ThemeSelect","SockdriveBackend","LockBadge","FatDrivesFrame","setFilter","busy","setBusy","forkDialogRef","deleteDialogRef","forkName","setForkName","deleteConfirm","setDeleteConfirm","dialogError","setDialogError","dialogIndex","setDialogIndex","sockdrivePremium","setSockdrivePremium","reloadDrives","finally","isSockdrivePremium","fork_of","template","placeholder","showModal","newDrives","Checkbox","intermediate","toggleClass","NetworkFrame","ipxLink","location","searchSeparator","newServer","text","clipboard","writeText","Editor","MouseCapture","lock","SockdriveNative","native","SystemCursor","MobileControls","MirroredControls","PauseCheckbox","WorkerCheckbox","HardwareCheckbox","SockdriveWrite","visible","Slider","sliderRef","pointRef","sliderEl","pressed","updatePercent","boundingRect","getBoundingClientRect","percent","max","clientX","left","width","onPointerDown","onPointerMove","onPointerUp","MouseSensitiviySlider","sensitivity","ScaleControlsSlider","VolumeSlider","SettingsFrame","StatsFrame","startedAt","driveInfo","cycles","driveRecvMb","driveSpeedMb","JSDOS_VERSION","info","write","io","PreRunWindow","Play","onPlay","isView","bundleUpdateConfig","button","PreRunFrame","Frame","browserSetFullScreen","root","requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","webkitEnterFullscreen","classList","contains","exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","FullscreenButton","NetworkButton","hightlight","inactive","FatDrivesButton","SidebarButton","DosboxConfButton","FsButton","CyclesButton","HddLed","recv","enabled","delayLedTo","el","setInterval","newRecv","newEnabled","setOn","off","setOff","timeoutId","statsRecv","SettingsButton","SoftKeyboardButton","PreRunButton","DisketteIcon","SaveButtons","showLoad","setShowLoad","dosboxX","CloudSaveButton","SaveButton","bgcolor","textcolor","LoadButton","sendBackendEvent","SideBar","networking","KBD_NONE","KBD_0","KBD_9","KBD_f1","KBD_f2","KBD_f3","KBD_f4","KBD_f5","KBD_f6","KBD_f7","KBD_f8","KBD_f9","KBD_f10","KBD_f11","KBD_f12","KBD_kp0","KBD_kp1","KBD_kp2","KBD_kp3","KBD_kp4","KBD_kp5","KBD_kp6","KBD_kp7","KBD_kp8","KBD_kp9","KBD_esc","KBD_tab","KBD_backspace","KBD_enter","KBD_space","KBD_leftalt","KBD_leftctrl","KBD_leftshift","KBD_capslock","KBD_minus","KBD_equals","KBD_leftbracket","KBD_rightbracket","KBD_semicolon","KBD_quote","KBD_period","KBD_comma","KBD_home","KBD_pageup","KBD_delete","KBD_end","KBD_pagedown","KBD_left","KBD_up","KBD_down","KBD_right","domToKeyCodes","namedKeyCodes","KBD_1","KBD_2","KBD_3","KBD_4","KBD_5","KBD_6","KBD_7","KBD_8","KBD_a","KBD_b","KBD_c","KBD_d","KBD_e","KBD_f","KBD_g","KBD_h","KBD_i","KBD_j","KBD_k","KBD_l","KBD_m","KBD_n","KBD_o","KBD_p","KBD_q","KBD_r","KBD_s","KBD_t","KBD_u","KBD_v","KBD_w","KBD_x","KBD_y","KBD_z","KBD_kpperiod","KBD_kpdivide","KBD_kpmultiply","KBD_kpminus","KBD_kpplus","KBD_kpenter","KBD_rightalt","KBD_rightctrl","KBD_rightshift","KBD_scrolllock","KBD_numlock","KBD_grave","KBD_backslash","KBD_slash","KBD_printscreen","KBD_pause","KBD_insert","KBD_extra_lt_gt","keyCodesToDom","domToKeyCode","domCode","resizeCanvas","canvas","frameWidth","frameHeight","forceAspect","rect","containerWidth","containerHeight","height","aspect","position","top","vsSource","fsSource","webGl","gl","shaderProgram","vertexShader","loadShader","VERTEX_SHADER","fragmentShader","FRAGMENT_SHADER","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","initShaderProgram","vertexPosition","getAttribLocation","textureCoord","uSampler","getUniformLocation","positionBuffer","createBuffer","bindBuffer","ARRAY_BUFFER","positions","bufferData","Float32Array","STATIC_DRAW","vertexAttribPointer","FLOAT","enableVertexAttribArray","textureCoordBuffer","textureCoordinates","texture","createTexture","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","LINEAR","TEXTURE_MAG_FILTER","pixel","texImage2D","RGB","UNSIGNED_BYTE","useProgram","activeTexture","TEXTURE0","uniform1i","requestAnimationFrameId","frameFormat","updateTexture","drawArrays","TRIANGLES","onResize","onResizeFrame","viewport","events","onFrameSize","onFrame","rgb","rgba","RGBA","resizeObserver","ResizeObserver","observe","disconnect","shaderType","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","deleteShader","Uint8ClampedArray","frameRgb","frameRgba","frameOffset","rgbaOffset","putImageData","ImageData","SamplesQueue","samplesQueue","samples","writeTo","dst","bufferSize","writeIt","toRead","getPointerState","evt","targetTouches","clientY","mX","mY","offsetX","offsetY","movementX","movementY","pointer","isMobile","appVersion","userAgent","platform","maxTouchPoints","isTouch","isPointer","PointerEvent","isMSPointer","MSPointerEvent","canLock","starters","changers","enders","leavers","prevents","mobile","initBind","mount","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","onStart","stopPropagation","onEnd","onLeave","onPrevent","capture","insensitivePadding","mouseDefault","pointerButton","mapXY","eX","eY","doMapXY","pointerLockElement","exitPointerLock","xy","sendMouseMotion","sendMouseButton","clickDelay","clickThreshold","mouseSwipe","acc","prevX","prevY","mouseButton","abs","sendMouseRelativeMotion","delay","noop","mouse","unlock","requestLock","requestPointerLock","mozRequestPointerLock","webkitRequestPointerLock","mousePointerLock","umount","createDiv","innerHtml","Layers","toggleKeyboard","mouseOverlay","onKeyDown","onKeysPress","offsetWidth","offsetHeight","contentRect","addOnResize","handler","removeOnResize","setOnKeyDown","fireKeyDown","setOnKeyUp","fireKeyUp","setOnKeyPress","fireKeyPress","setOnKeysPress","fireKeysPress","keyCodes","extractLayersConfig","layersConfig","layer","layers","control","controls","keyControl","mapTo","migrateV1ToV2","keyCodeToName","initKeyCodeToName","createButton","innerSize","innerTextSize","borderWidth","backgroundImage","symbolToUrl","innerButton","innerText","fontSize","widthPx","heightPx","onDown","onUp","mapToSymbol","deprecatedCreateHandler","down","right","enter","fullscreen","save","keyboard","up","do","dw","dwn","lft","ri","rght","rgh","enr","ent","entr","mouseNotLocked","pressedButton","pointerDisabled","autolock","mouseLocked","isNotLocked","distance","p1","p2","dx","dy","sqrt","radians","PI","degrees","timers","throttle","cb","bindEvt","attachEvent","unbindEvt","detachEvent","prepareEvent","changedTouches","getScroll","pageXOffset","documentElement","scrollLeft","pageYOffset","scrollTop","applyPosition","pos","bottom","getTransitionStyle","time","configStylePropertyObject","st","vendor","charAt","extend","objA","objB","ar","toBind","move","end","secondBind","Super","Nipple","collection","identifier","frontPosition","defaults","threshold","color","fadeTime","dataOnly","restJoystick","restOpacity","mode","zone","lockX","lockY","buildEl","stylize","instance","show","hide","addToDom","removeFromDom","destroy","setPosition","resetDirection","computeDirection","trigger","Collection","manager","nipples","idles","actives","ids","pressureIntervals","multitouch","maxNumberOfNipples","catchDistance","dynamicPage","follow","computedStyle","getComputedStyle","parentIsFlex","updateBox","prepareNipples","bindings","begin","Manager","collections","scroll","u.getScroll","prepareCollections","resizeHandler","nipple","u.throttle","scrollHandler","_handlers_","u.safeExtend","_domHandlers_","warn","u.bindEvt","u.unbindEvt","back","front","animTime","borderStyle","u.getVendorStyle","transitStyle","u.getTransitionStyle","styles","opacity","zIndex","marginLeft","marginTop","transform","applyStyles","removeTimeout","showTimeout","restTimeout","restCallback","rest","newPosition","angle","directionX","directionY","rAngle","radian","angle45","angle90","force","oldDirection","same","nips","processOnMove","processOnEnd","touchAction","msTouchAction","opts","createNipple","getIdentifier","toPutOn","box","dumb","dumbBox","u.applyPosition","bindNipple","onDestroyed","pressureFn","touch","previousPressure","pressure","webkitForce","onstart","origEvt","u.prepareEvent","u.map","processOnStart","touches","findIndex","bindDocument","indexInIdles","pageX","pageY","getOrCreate","removeIdentifier","nip","u.distance","buttons","u.isPressed","elBox","clamped_dist","clamped_pos","dist","atan2","u.angle","u.radians","raw","cos","sin","u.findCoord","nipplePos","u.clamp","delta_x","delta_y","xPosition","yPosition","toSend","degree","vector","removedIdentifier","unbindDocument","createCollection","bindCollection","binded","pointerId","latest","onmove","onAny","onend","oncancel","processFn","processColl","coll","_found_","factory","nipplejs","layersNames","onLayerChange","ident","controlsVisbile","updateVisibility","createSelectForLayers","toggleOptions","container","marginRight","marginBottom","select","option","onchange","onStop","mapperOpt","mapper","sendKeyEvent","simulateKeyPress","initLegacyLayersControl","dosInstance","unbind","gestures","changeControlLayer","layerName","mapping","press","release","releaseOnEnd","tapJoysticks","usedTimes","joystickId","startTimes","cssStyle","deprecatedButton","unbindOptions","optionControls","getGrid","gridType","SquareGrid","getConfiguration","scale","cols","getCols","rows","getRows","middleCol","floor","middleRow","columnsPadding","rowsPadding","columnWidth","rowHeight","cells","row","cellRow","col","centerX","centerY","getSquareGrid","cellCols","padding","getHoneyCombGrid","initLayersControl","mirrored","selectedLayer","layerConfig","unbindKeyboard","unbindMouse","unbindControls","rebuild","grid","gridConfig","sensors","ControlSensors","column","doOffsetColumnInRow","mirroredInfo","columnsCount","middleColumn","leftStart","leftEnd","rightStart","rightEnd","factoryMapping","copy","leftSide","initLayerConfig","activate","sensor","deactivate","register","Key","isHidden","Options","optionControl","createKeyboardControl","Keyboard","Switch","switchControl","setActiveConfig","getActiveConfig","ScreenMove","screenMoveControl","PointerButton","pointerButtonControl","PointerMove","pointerMoveControl","PointerReset","pointerResetControl","sendMouseSync","PointerToggle","pointerToggleControl","NippleActivator","nippleActivatorControl","nippleContainer","cellSize","activeColumn","activeRow","targetColumn","targetRow","half","started","keyboardControl","setHiddenAround","centralRow","centralColumn","setHiddenIfValid","rowCells","useDosRuntime","preloadProgress","isFork","onMessage","msgType","toFixed","useLog","rendering","useRenderImage","prevCycles","prevNonSkippableSleepCount","prevSleepCount","prevSleepTime","prevFrame","prevSound","prevMsgSent","prevMsgRecv","intervalStartedAt","intervalId","asyncifyStats","dtMs","dtSec","dStats","nonSkippableSleepCount","sleepCount","sleepTime","messageFrame","messageSound","messageSent","messageReceived","structuredClone","useStats","resume","usePause","useKeyboard","useMouse","nsStore","activeLayer","useLayers","canvasRender","webglRender","useRenderBackend","audioNode","bindVolumeFn","sampleRate","soundFrequency","audioContext","AudioContext","latencyHint","webkitAudioContext","onSoundPush","createScriptProcessor","onaudioprocess","numFrames","outputBuffer","numChannels","numberOfChannels","samplesCount","channel","channelData","getChannelData","gainNode","createGain","unbindVolumeFn","connect","destination","gain","resumeWebAudio","once","setVolume","updateVolumeIfNeeded","newVolume","useAudioBackend","dhry2Bundle","Dhry2Results","results","setResults","runs","vax","pc","setStats","onStdout","oldStdoutFn","dt","runsStr","deltaStr","vaxRatingStr","delta","vaxRating","getComparablePc","MAX_FRAME_SIZE","decodeFrame","ev","payloadSize","restLength","payloadPos","expectedSize","aheadSize","sectors","decodeResult","output","sIdx","eIdx","literalsLength","matchLength","decodeLz4","sectorsRow","Drive","endpoint","module","readBuffered","aheadRange","readStartedAt","openFn","realOwner","realName","errorFn","readOnly","alive","lastBufferedAmount","statsDirty","sectorSize","realDrive","readBuffer","writeBuffer","reconnect","statsCommitInterval","onError","onOpen","socket","WebSocket","binaryType","onInit","aheadRangeStr","sizeStr","onPreloadMessage","send","executeRequest","sector","origin","getOrigin","cached","cacheHit","HEAPU8","cacheMiss","bufferedAmount","readyState","CLOSED","CLOSING","readTotalTime","currentSocket","NEWER","OLDER","LRUMap","limit","oldest","newest","_keymap","_markEntryAsUsed","entry","MAX_VALUE","it","itv","Entry","BlockCache","memoryLimit","lru","memUsed","WsCache","preload","writeCache","Uint32Array","maxSectorsCount","sectorsCount","impl","connectQueue","runNextCache","expected","onProgress","onPayload","textDecoder","TextDecoder","textEncoder","TextEncoder","fMultiplier","clientMessageEnum","serverMessageEnum","WsTransportLayer","createSockdrive","onPreloadProgress","seq","templates","memory","cacheUsed","sockdrive","_token","heads","cylinders","sector_size","backendCache","imageSize","handle","ptr","applyToken","applyConf","log","onSockdriveOpen","onSockdriveError","onSockdrivePreloadProgress","onSockdrivePayload","tag","sendMessageToSocket","writeUint32","readUint32","readUint64","encoded","readMessage","out","msg","decode","chunk","freq","lines","heapu8","networkType","lookupNode","dir","find","sizes","protocol","hostname","networkId","sockdriveSeq","tuple","packet","sendMessageToServer","sessionId","messageId","encode","timeMs","relative","onlyChanges","initMessageHandler","exit","restBytes","sectorsPayload","SoftKeyboard","layout","activeSymbols","activeLayout","charCodeAt","buttonToCode","short","onPointerCancel","DosWindow","canvasRef","setCi","accessToken","bundles","ws","inervalId","onSuccess","createWsTransportLayer","DosRuntime","onSkip","ErrorWindow","Loading","formatSize","LoadingWindow","fileInput","SelectWindow","useUrl","setUseUrl","Load","Upload","toUint8Array","loadEmptyBundle","setUrl","setError","validUrl","onFileChange","Window","windowComponent","currentWideScreen","Ui","rootRef","wide","Toast","UpdateWsWarning","intentClass","Dos","makeNonSerializableStore","makeStore","getDefault","all","host","listen","fullscreenElement","pollStep","setTheme","setBackend","setBackendLocked","setWorkerThread","workerThread","setMouseCapture","setBackground","setAutoStart","setKiosk","setImageRendering","setRenderBackend","setRenderAspect","setNoNetworking","setNoCloud","cloud","setScaleControls","setMouseSensitivity","setNoCursor","setSoftKeyboardLayout","setSoftKeyboardSymbols","setKey","loadBundleFromConfg","setFrame","setPaused","stop"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,47,49,92,93,94,95,96,97]}